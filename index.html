<html lang="zh-CN"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>EPhone</title>
    <script src="https://unpkg.com/dexie/dist/dexie.js"></script>
    <style>
        @font-face { font-family: 'bulangni'; src: url('') format('truetype'); font-weight: normal; font-style: normal; font-display: swap; }
        :root { --screen-width: 350px; --screen-height: 650px; --secondary-bg: #ffffff; --border-color: #e0e0e0; --text-primary: #1f1f1f; --text-secondary: #8a8a8a; --accent-color: #007bff; }
        html { height: 100%; overflow: hidden; }
        body { height: 100%; overflow: hidden; margin: 0; padding: 20px; font-family: 'bulangni', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; font-weight: normal; background-color: #dcdcdc; display: flex; justify-content: center; align-items: center; box-sizing: border-box; }
        #phone-frame { padding: 12px; background-color: #fff; border-radius: 50px; box-shadow: 0 20px 50px rgba(0,0,0,0.25), inset 0 2px 4px rgba(0,0,0,0.1); position: relative; }       
        .notch { position: absolute; top: 12px; left: 50%; transform: translateX(-50%); width: 130px; height: 28px; background-color: #1f1f1f; border-radius: 0 0 15px 15px; z-index: 20; }
        #phone-screen { width: var(--screen-width); height: var(--screen-height); background-color: #000; border-radius: 40px; position: relative; overflow: hidden; display: flex; flex-direction: column; border: 2px solid #333; }
        #status-bar { position: absolute; top: 0; left: 0; width: 100%; padding: 12px 20px; display: flex; justify-content: space-between; align-items: center; color: white; z-index: 10; font-size: 14px; box-sizing: border-box; pointer-events: none; }
        #status-bar-time { font-weight: 600; }
        .battery-container { display: flex; align-items: center; gap: 5px; }
        .battery-icon { width: 25px; height: 12px; border: 1px solid white; border-radius: 3px; position: relative; padding: 1px; }
        .battery-icon::after { content: ''; position: absolute; right: -3px; top: 2px; width: 2px; height: 6px; background-color: white; border-radius: 0 1px 1px 0; }
        .battery-level { height: 100%; background-color: white; border-radius: 1px; transition: width 0.5s ease; }
        .battery-container.charging .battery-level { background-color: #4cd964; animation: charge-breath 2s infinite; }
        .battery-container.charging .battery-text { color: #4cd964; }
        @keyframes charge-breath { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
        .screen { width: 100%; height: 100%; position: absolute; top: 0; left: 0; display: flex; flex-direction: column; overflow: hidden; opacity: 0; visibility: hidden; transition: opacity 0.3s, visibility 0.3s; }
        .screen.active { opacity: 1; visibility: visible; z-index: 1; }
        .header { position: relative; z-index: 15; flex-shrink: 0; padding: 15px 20px; padding-top: 45px; background-color: rgba(247, 247, 247, 0.8); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center; font-size: 18px; font-weight: 600; }
        .header .header-actions { display: flex; align-items: center; gap: 15px; }
        .header .back-btn, .header .action-btn { font-size: 24px; cursor: pointer; width: 30px; text-align: center; color: var(--accent-color); display: flex; align-items: center; justify-content: center; }

.header .action-btn {
    font-size: 16px; /* ä¸“é—¨ä¸ºâ€œä¸Šä¼ â€ã€â€œ+â€ç­‰æ–‡å­—æŒ‰é’®ç¼©å°å­—å· */
    font-weight: 600; /* å¯ä»¥åŠ ç²—ä¸€ç‚¹è®©å®ƒæ›´æ¸…æ™° */
}

        .header .action-btn img { height: 26px; }
        .header .save-btn { font-size: 16px; color: var(--accent-color); font-weight: 600; cursor: pointer; }
        #home-screen { display: flex; flex-direction: column; justify-content: flex-start; align-items: center; padding: 20px; padding-top: 80px; padding-bottom: 50px; box-sizing: border-box; background-size: cover; background-position: center; }
        #clock-container { text-align: center; color: white; text-shadow: 0 3px 8px rgba(0,0,0,0.4); margin-bottom: 20px; flex-shrink: 0; }
        #main-time { font-size: 80px; font-weight: 200; }
        #main-date { font-size: 18px; font-weight: 500; }
        #app-grid { margin-top: auto; display: flex; flex-direction: column; align-items: center; gap: 20px; width: 100%; padding: 20px; }
        .app-row { display: flex; justify-content: center; gap: 25px; width: 100%; }
        .app-icon { display: flex; flex-direction: column; align-items: center; cursor: pointer; color: white; text-shadow: 0 1px 3px rgba(0,0,0,0.5); font-size: 14px; font-weight: 500; text-align: center; }
        .app-icon .icon-bg { width: 65px; height: 65px; border-radius: 18px; background-color: var(--secondary-bg); display: flex; justify-content: center; align-items: center; font-size: 32px; margin-bottom: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.15); transition: transform 0.2s ease; overflow: hidden; }
        .app-icon:active .icon-bg { transform: scale(0.9); }
        .app-icon .icon-bg img { width: 100%; height: 100%; object-fit: cover; }
        .app-icon .label { color: white; }
        .form-container, .list-container { padding: 20px; overflow-y: auto; flex-grow: 1; display:flex; flex-direction: column; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 500; color: var(--text-secondary); }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 16px; box-sizing: border-box; }
        .form-group textarea { min-height: 80px; resize: vertical; }
        #world-book-content-input { height: calc(100% - 120px); }
        .form-button { width: 100%; padding: 15px; background-color: var(--accent-color); color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; margin-top: 10px; }
        .form-button-secondary { background-color: #f0f0f0; color: var(--text-primary); border: 1px solid var(--border-color); }
        #wallpaper-screen .form-container { align-items: center; }
        #wallpaper-preview { width: 180px; height: 320px; border: 2px dashed var(--border-color); background-color: #f0f2f5; margin-bottom: 20px; background-size: cover; background-position: center; border-radius: 10px; display: flex; justify-content: center; align-items: center; color: var(--text-secondary); }
        #wallpaper-upload-input { display: none; }
/* ä¿®æ”¹åçš„ #world-book-list æ ·å¼ */
#world-book-list {
    flex-grow: 1;
    overflow-y: auto;
    background-color: var(--secondary-bg);
    padding-top: 80px;
    margin-top: -80px;
}

/* ä¿®æ”¹åçš„ #chat-list æ ·å¼ï¼Œå»æ‰äº† padding å’Œ margin */
#chat-list {
    flex-grow: 1;
    background-color: var(--secondary-bg);
    padding-top: 80px; 
    padding-bottom: 50px; /* ä¸ºåº•éƒ¨å¯¼èˆªæ ç•™å‡ºç©ºé—´ */
    box-sizing: border-box;
}

        .list-item { display: flex; flex-direction: column; padding: 12px 20px; cursor: pointer; border-bottom: 1px solid var(--border-color); }
        .list-item:hover { background-color: #f5f5f5; }
        .list-item .item-title { font-weight: 500; font-size: 16px; margin-bottom: 5px; }
        .list-item .item-content { font-size: 14px; color: var(--text-secondary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .chat-list-item { display: flex; align-items: center; padding: 10px 15px; cursor: pointer; border-bottom: 1px solid var(--border-color); position: relative; }
        .chat-list-item:hover { background-color: #f5f5f5; }
        .chat-list-item .avatar { width: 45px; height: 45px; border-radius: 50%; margin-right: 12px; object-fit: cover; background-color: #ccc; }
        .chat-list-item .info { flex-grow: 1; overflow: hidden; }
        .chat-list-item .name-line { display: flex; align-items: center; gap: 6px; margin-bottom: 2px; }
        .chat-list-item .name { font-weight: 500; color: var(--text-primary); }
        .chat-list-item .group-tag { font-size: 10px; color: var(--accent-color); background-color: #e7f3ff; padding: 2px 6px; border-radius: 4px; font-weight: bold; flex-shrink: 0; }
        .chat-list-item .last-msg { font-size: 13px; color: var(--text-secondary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 180px; }
        #chat-interface-screen { background-size: cover; background-position: center; position: relative; }
        #selection-cancel-btn, #selection-delete-btn { font-size: 16px; color: var(--accent-color); cursor: pointer; padding: 5px; }
        #selection-delete-btn { color: #ff3b30; }

/* â–¼â–¼â–¼ ç”¨è¿™å—ä»£ç æ›¿æ¢æ‰ä½ åŸæ¥çš„ #chat-messages æ ·å¼ â–¼â–¼â–¼ */
#chat-messages {
    flex-grow: 1;
    overflow-y: auto;
    overflow-x: hidden; /* æ ¸å¿ƒä¿®æ­£1: å¼ºåˆ¶ç¦æ­¢æ°´å¹³æ»šåŠ¨/æ‹–åŠ¨ */
    padding: 10px 15px; /* æ ¸å¿ƒä¿®æ­£2: å°†å·¦å³å†…è¾¹è·å¢åŠ åˆ°15pxï¼Œæä¾›æ›´å¤šå‘¼å¸ç©ºé—´ */
    padding-top: 110px;
    margin-top: -80px;
    display: flex;
    flex-direction: column;
    gap: 20px;
    box-sizing: border-box; /* ç¡®ä¿å†…è¾¹è·è®¡ç®—æ­£ç¡® */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */
        #load-more-btn { text-align: center; padding: 10px; color: var(--accent-color); font-size: 14px; cursor: pointer; background-color: transparent; border: none; width: 100%; }
        #load-more-btn:hover { text-decoration: underline; }

        .sender-name { font-size: 11px; color: #666; margin-bottom: 3px; }

.message-wrapper.ai .sender-name {
    margin-left: 50px; /* ç¨å¾®è°ƒæ•´ï¼Œä¸å¤´åƒå¯¹é½ */
    margin-bottom: 3px;
    position: absolute; /* è®©å®ƒè„±ç¦»æµï¼Œé¿å…å½±å“æ°”æ³¡å¯¹é½ */
    top: -16px;       /* å®šä½åˆ°æ°”æ³¡ä¸Šæ–¹ */
    left: 0;
}

/* === ã€å…¨æ–°ã€‘æ¶ˆæ¯å¸ƒå±€ä¸æ—¶é—´æˆ³æ ·å¼ === */

/* 1. æ¶ˆæ¯å•å…ƒçš„æ€»å®¹å™¨ (é‡æ„) */
.message-wrapper {
    display: flex;          /* ä½¿ç”¨Flexå¸ƒå±€ */
    gap: 8px;               /* æ°”æ³¡å’Œæ—¶é—´æˆ³ä¹‹é—´çš„é—´è· */
    align-items: flex-end;  /* æ ¸å¿ƒï¼šè®©æ°”æ³¡å’Œæ—¶é—´æˆ³åº•éƒ¨å¯¹é½ */
    position: relative;
    max-width: 90%;         /* å¯ä»¥ç¨å¾®æ”¾å®½ä¸€ç‚¹ï¼Œå› ä¸ºæ—¶é—´æˆ³ç°åœ¨åœ¨å¤–é¢äº† */
}

/* 2. AIæ¶ˆæ¯å•å…ƒé å·¦ */
.message-wrapper.ai {
    align-self: flex-start;
    flex-direction: row; /* å¤´åƒã€æ°”æ³¡ã€æ—¶é—´æˆ³ï¼Œä»å·¦åˆ°å³æ’åˆ— */
}

/* 3. ç”¨æˆ·æ¶ˆæ¯å•å…ƒé å³ */
.message-wrapper.user {
    align-self: flex-end;
    flex-direction: row-reverse; /* æ—¶é—´æˆ³ã€æ°”æ³¡ã€å¤´åƒï¼Œä»å³åˆ°å·¦æ’åˆ— */
}

/* 4. æ°”æ³¡å’Œå¤´åƒçš„ç›´æ¥å®¹å™¨ (ä¿æŒä¸å˜) */
.message-bubble {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    max-width: 100%;
}

.timestamp {
    /* ç§»é™¤æ—§çš„ position: absolute */
    font-size: 11px;
    color: #999;
    text-shadow: 0 0 3px rgba(255,255,255,0.6);
    white-space: nowrap; /* é˜²æ­¢æ—¶é—´æ¢è¡Œ */
    margin-bottom: 5px;  /* è®©å®ƒå’Œæ°”æ³¡åº•éƒ¨æœ‰è½»å¾®çš„å¯¹é½åç§»ï¼Œæ›´ç¾è§‚ */
    flex-shrink: 0;      /* é˜²æ­¢è¢«å‹ç¼© */
}

        .message-bubble.selected::after { content: 'âœ”'; position: absolute; left: -10px; top: 50%; transform: translateY(-50%); background-color: var(--accent-color); color: white; width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; }
        .message-bubble.user.selected::after { left: auto; right: -10px; }

        .message-bubble.user { flex-direction: row-reverse; }
        #typing-indicator { align-self: flex-start; display: none; margin: 0 10px 10px; color: var(--text-secondary); }
        #chat-input-area { flex-shrink: 0; padding: 8px; background-color: rgba(247, 247, 247, 0.8); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-top: 1px solid var(--border-color); display: flex; flex-direction: column; gap: 5px; }
        #chat-input-main-row { display: flex; align-items: flex-end; gap: 8px; width: 100%; }
        #chat-input { flex-grow: 1; border: none; padding: 10px 15px; border-radius: 20px; background-color: var(--secondary-bg); font-size: 16px; max-height: 100px; resize: none; }
        .action-button { border: none; color: white; border-radius: 20px; cursor: pointer; font-weight: 600; font-size: 14px; flex-shrink: 0; }
        #send-btn { background-color: var(--accent-color); height: 40px; padding: 0 15px;}
        .modal { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.4); display: none; justify-content: center; align-items: center; z-index: 100; }
        .modal.visible { display: flex; }
        .modal-content { width: 90%; max-height: 90%; background-color: white; border-radius: 15px; display: flex; flex-direction: column; }
        .modal-header { padding: 15px; font-weight: 600; border-bottom: 1px solid var(--border-color); text-align: center; display: flex; justify-content: space-between; align-items: center; }
        .modal-body { padding: 15px; overflow-y: auto; }
        .modal-footer { padding: 15px; border-top: 1px solid var(--border-color); display: flex; justify-content: space-around; }
        .modal-footer button { width: 45%; padding: 12px; border-radius: 8px; border: 1px solid var(--accent-color); cursor: pointer; font-size: 16px; }
        .modal-footer .save { background-color: var(--accent-color); color: white; }
        .modal-footer .cancel { background-color: white; color: var(--accent-color); }
        .avatar-upload { display: flex; align-items: center; gap: 15px; }
        .avatar-upload img { width: 60px; height: 60px; border-radius: 50%; object-fit: cover; background-color: #eee; }
        .avatar-upload button { padding: 8px 12px; border: 1px solid #ccc; background-color: #f0f0f0; border-radius: 5px; cursor: pointer; }
        #open-persona-library-btn { font-size: 14px; padding: 6px 10px; margin-left: 0; }
        .avatar-upload input[type="file"] { display: none; }
        .theme-selector label { display: inline-flex; align-items: center; margin-right: 15px; margin-bottom: 5px; cursor: pointer; }
        #reset-theme-btn { background: none; border: 1px solid #ccc; color: #555; font-size: 12px; padding: 2px 8px; border-radius: 5px; cursor: pointer; margin-left: 10px; }
        #group-members-settings { display: flex; overflow-x: auto; padding-bottom: 10px; gap: 15px; }
        .member-editor { text-align: center; cursor: pointer; }
        .member-editor img { width: 50px; height: 50px; border-radius: 50%; object-fit: cover; background-color: #eee; margin-bottom: 5px; }
        .member-editor .member-name { font-size: 12px; }
        #notification-bar { position: absolute; top: 40px; left: 50%; width: 90%; z-index: 500; background-color: rgba(250, 250, 250, 0.9); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-radius: 16px; padding: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; align-items: center; gap: 12px; cursor: pointer;     transform: translateX(-50%) translateY(-150%); 
    transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    visibility: hidden;
}
#notification-bar.visible {
    /* å…³é”®ï¼šåœ¨Yè½´å›åˆ°åŸä½çš„åŒæ—¶ï¼Œä¿æŒXè½´çš„å±…ä¸­å˜æ¢ */
    transform: translateX(-50%) translateY(0);
    visibility: visible;
}
        #notification-avatar { width: 30px; height: 30px; border-radius: 50%; object-fit: cover; }
        #notification-content .name { font-weight: 600; font-size: 15px; color: #000; }
        #notification-content .message { font-size: 14px; color: #555; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 200px; }
        .sticker-image { max-width: 100px; max-height: 100px; display: block; object-fit: contain; }
        .message-bubble.is-sticker .content, .message-bubble.is-voice-message .content { padding: 0; background-color: transparent; box-shadow: none; border: none; backdrop-filter: none; -webkit-backdrop-filter: none; }
        #chat-input-actions-top { display: flex; gap: 8px; padding: 0 5px; }
        .chat-action-icon-btn { font-size: 24px; padding: 0; width: 38px; height: 38px; line-height: 38px; text-align: center; border-radius: 50%; background-color: rgba(255, 255, 255, 0.5); color: var(--text-primary); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); border: 1px solid rgba(0,0,0,0.05); cursor: pointer; display:flex; justify-content:center; align-items:center; }
        #sticker-panel { position: absolute; bottom: 0; left: 0; width: 100%; height: 50%; background-color: rgba(242, 242, 247, 0.85); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); border-top: 1px solid var(--border-color); border-radius: 20px 20px 0 0; z-index: 200; display: flex; flex-direction: column; transform: translateY(100%); transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); visibility: hidden; }
        #sticker-panel.visible { transform: translateY(0); visibility: visible; }
        #sticker-panel-header { padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; flex-shrink: 0; border-bottom: 1px solid var(--border-color); }
        #sticker-panel-header .title { font-weight: 600; }
        #sticker-panel-header .panel-btn { font-size: 16px; padding: 5px 10px; cursor: pointer; color: var(--accent-color); }
        #sticker-grid { flex-grow: 1; overflow-y: auto; padding: 15px; display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 15px; }
        .sticker-item { position: relative; aspect-ratio: 1 / 1; background-color: white; border-radius: 10px; background-size: contain; background-repeat: no-repeat; background-position: center; cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .sticker-item .delete-btn { display: none; position: absolute; top: -5px; right: -5px; width: 20px; height: 20px; background-color: #ff3b30; color: white; border-radius: 50%; text-align: center; line-height: 20px; font-size: 14px; cursor: pointer; border: 2px solid white; }
        #input-actions-wrapper { position: static; display: flex; align-items: flex-end; gap: 8px; flex-shrink: 0; }
        #wait-reply-btn { position: static; bottom: auto; right: auto; width: auto; height: 40px; padding: 0 10px; border-radius: 20px; display: flex; align-items: center; justify-content: center; background-color: rgba(255, 255, 255, 0.6); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); border: 1px solid rgba(0,0,0,0.08); box-shadow: 0 2px 5px rgba(0,0,0,0.1); transition: opacity 0.2s, transform 0.1s; cursor: pointer;}
        #wait-reply-btn:hover { opacity: 0.8; }
        #wait-reply-btn:active { transform: scale(0.9); }
        #wait-reply-btn img { height: 22px; display: block; margin: auto; }
        .chat-image { max-width: 100%; border-radius: 10px; display: block; }
        .message-bubble.has-image .content { padding: 5px; }
        #custom-modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); display: none; align-items: center; justify-content: center; z-index: 1000; opacity: 0; transition: opacity 0.2s ease-in-out; }
        #custom-modal-overlay.visible { display: flex; opacity: 1; }
        #custom-modal { background-color: #fff; width: 280px; border-radius: 14px; box-shadow: 0 4px 20px rgba(0,0,0,0.2); display: flex; flex-direction: column; transform: scale(0.95); transition: transform 0.2s ease-in-out; }
        #custom-modal-overlay.visible #custom-modal { transform: scale(1); }
        .custom-modal-header { padding: 16px; font-size: 17px; font-weight: 600; text-align: center; }
        .custom-modal-body { padding: 0 16px 16px; text-align: center; font-size: 14px; color: #333; line-height: 1.5; }
        .custom-modal-body p { margin: 0; margin-bottom: 12px; }
        .custom-modal-body input { width: 100%; padding: 8px; border-radius: 6px; border: 1px solid #ccc; font-size: 14px; box-sizing: border-box; }
        .custom-modal-footer { border-top: 1px solid #dbdbdb; display: flex; }
        .custom-modal-footer button { flex: 1; background: none; border: none; padding: 12px; font-size: 17px; cursor: pointer; color: var(--accent-color); }
        .custom-modal-footer button:first-child { border-right: 1px solid #dbdbdb; }
        .custom-modal-footer .confirm-btn { font-weight: 600; }
        .custom-modal-footer .confirm-btn.btn-danger { color: #ff3b30; }
        #preset-actions-modal .custom-modal-footer { flex-direction: column; }
        #preset-actions-modal .custom-modal-footer button { width: 100%; border: none; border-bottom: 1px solid #dbdbdb; padding: 14px; font-size: 18px; }
        #preset-actions-modal .custom-modal-footer button:last-child { border-bottom: none; }
        .custom-multiselect { position: relative; user-select: none; }
        .select-box { display: flex; align-items: center; width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 16px; box-sizing: border-box; background-color: #fff; cursor: pointer; }
        .select-box .selected-options-text { flex-grow: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: var(--text-primary); }
        .select-box .arrow-down { margin-left: auto; font-size: 10px; color: var(--text-secondary); transition: transform 0.2s; }
        .select-box.expanded .arrow-down { transform: rotate(180deg); }

.checkboxes-container {
    display: none;
    position: absolute;
    /* æ ¸å¿ƒä¿®æ”¹ï¼šä¸å†ä½¿ç”¨ topï¼Œè€Œæ˜¯ç”¨ margin-top æ¥åˆ›é€ é—´è·ï¼Œæ›´ç¨³å®š */
    top: 100%; 
    margin-top: 5px; /* <-- æ–°å¢ï¼šå‘ä¸‹æ¨å¼€5åƒç´ çš„è·ç¦» */
    left: 0;
    right: 0;
    max-height: 150px;
    overflow-y: auto;
    background-color: #fff;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    z-index: 101;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

        .checkboxes-container.visible { display: block; }
        .checkboxes-container label { display: block; padding: 10px 12px; cursor: pointer; font-weight: normal; color: var(--text-primary); }

.checkboxes-container label {
    display: block;
    padding: 12px 15px; /* <-- ä¿®æ”¹ï¼šå¢åŠ äº†ä¸Šä¸‹å’Œå·¦å³çš„å†…è¾¹è·ï¼Œè®©æ¯ä¸€è¡Œæ›´é«˜æ›´å®½ */
    cursor: pointer;
    font-weight: normal;
    color: var(--text-primary);
    font-size: 15px; /* <-- æ–°å¢ï¼šå°†å­—ä½“å¤§å°ä»é»˜è®¤å€¼æ”¾å¤§åˆ°15px */
}

        .checkboxes-container input { margin-right: 10px; vertical-align: middle; }
        .bg-upload-container { display: flex; align-items: center; gap: 10px; margin-top: 8px; flex-wrap: wrap; }
        .bg-preview-img { max-width: 120px; max-height: 80px; border-radius: 8px; border: 1px solid var(--border-color); object-fit: cover; display: none; }
        #remove-bg-btn { padding: 8px 12px; border: 1px solid #ff3b30; color: #ff3b30; background-color: #fff; border-radius: 5px; cursor: pointer; font-size: 14px; display: none; }
        .message-bubble.is-ai-image .content { padding: 5px; background: transparent; box-shadow: none; border: none; backdrop-filter: none; -webkit-backdrop-filter: none; }
        .ai-generated-image { max-width: 180px; border-radius: 12px; display: block; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; }
        .ai-generated-image:hover { transform: scale(1.05); box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
        .voice-message-body { display: flex; align-items: center; cursor: pointer; padding: 8px 12px; min-width: 80px; max-width: 200px; }
        .message-bubble.user .voice-message-body { color: #1a3d00; flex-direction: row-reverse; }
        .message-bubble.ai .voice-message-body { color: var(--text-primary); }
        .voice-waveform { display: flex; align-items: center; height: 20px; gap: 2px; flex-grow: 1; margin: 0 10px; }
        .voice-waveform div { width: 3px; background-color: currentColor; border-radius: 2px; animation: wave-quiet 1.5s ease-in-out infinite; }
        @keyframes wave-quiet { 0%, 100% { height: 2px; } 50% { height: 10px; } }
        .voice-waveform div:nth-child(2) { animation-delay: 0.2s; } .voice-waveform div:nth-child(3) { animation-delay: 0.4s; } .voice-waveform div:nth-child(4) { animation-delay: 0.6s; } .voice-waveform div:nth-child(5) { animation-delay: 0.8s; }
.voice-duration {
    /* --- æ ¸å¿ƒä¿®æ­£ --- */
    font-size: var(--chat-font-size, 13px);
    /* --- ä¿®æ­£ç»“æŸ --- */
    font-weight: 500;
    color: var(--text-secondary);
}
        .message-bubble.user .voice-duration { color: #3e6224; }

/* â–¼â–¼â–¼ ç”¨è¿™å—ä»£ç æ›¿æ¢æ‰ä½ åŸæ¥çš„ .message-bubble .content æ ·å¼ â–¼â–¼â–¼ */
/* é€šç”¨å†…å®¹åŒºæ ·å¼ï¼Œä¸ºæ—¶é—´æˆ³å’Œå­—ä½“å¤§å°åšå‡†å¤‡ */
.message-bubble .content {
    position: relative;
    font-size: var(--chat-font-size, 16px);
    padding: 8px 12px;
    line-height: 1.5;
    word-break: break-word; /* æ ¸å¿ƒä¿®æ­£: å¼ºåˆ¶é•¿å•è¯æˆ–URLæ¢è¡Œï¼Œé˜²æ­¢æ’‘ç ´æ°”æ³¡ */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

        /* === æ°”æ³¡ä¸»é¢˜æ ·å¼ === */
        .message-bubble.user .content { background-color: rgba(255, 255, 255, 0.75); color: #585858; border-radius: 8px 2px 8px 8px; }
        .message-bubble.ai .content { background-color: rgba(255, 255, 255, 0.7); color: #585858; border-radius: 2px 8px 8px 8px; }
      
.message-bubble::after {
    content: "";
    position: absolute;
    width: 20px;  
    height: 20px; 
    background-size: contain;
    background-repeat: no-repeat;
    opacity: 1; 
    z-index: 1;
}
      
        #chat-messages[data-theme="pink_blue"] .message-bubble.user .content { background-color: #fff0f6; color: #432531; }
        #chat-messages[data-theme="pink_blue"] .message-bubble.ai .content { background-color: #eff7ff; color: #263a4e; }
        #chat-messages[data-theme="blue_white"] .message-bubble.user .content { background-color: #eff7ff; color: #263a4e; }
        #chat-messages[data-theme="blue_white"] .message-bubble.ai .content { background-color: #f8f9fa; color: #383d41; }
        #chat-messages[data-theme="purple_yellow"] .message-bubble.user .content { background-color: #faf7ff; color: #827693; }
        #chat-messages[data-theme="purple_yellow"] .message-bubble.ai .content { background-color: #fffde4; color: #5C4033; }
        #chat-messages[data-theme="black_white"] .message-bubble.user .content { background-color: #343a40; color: #f8f9fa; }
        #chat-messages[data-theme="black_white"] .message-bubble.ai .content { background-color: #f8f9fa; color: #343a40; }
        #chat-messages[data-theme="yellow_white"] .message-bubble.user .content { background-color: #FFEB3B; color: #5D4037; }
        #chat-messages[data-theme="yellow_white"] .message-bubble.ai .content { background-color: #f8f9fa; color: #383d41; }
        #chat-messages[data-theme="red_black"] .message-bubble.user .content { background-color: #C62828; color: #FFFFFF; }
        #chat-messages[data-theme="red_black"] .message-bubble.ai .content { background-color: #212121; color: #FFFFFF; }
        #chat-messages[data-theme="blue_yellow"] .message-bubble.user .content { background-color: #A0D2EB; color: #153243; }
        #chat-messages[data-theme="blue_yellow"] .message-bubble.ai .content { background-color: #FEF9E7; color: #5D4037; }
        #chat-messages[data-theme="pink_yellow"] .message-bubble.user .content { background-color: #fff0f6; color: #432531; }
        #chat-messages[data-theme="pink_yellow"] .message-bubble.ai .content { background-color: #FEF9E7; color: #5D4037; }
        #chat-messages[data-theme="pink_purple"] .message-bubble.user .content { background-color: #fff0f6; color: #a78396; }
        #chat-messages[data-theme="pink_purple"] .message-bubble.ai .content { background-color: #faf7ff; color: #827693; }
        #chat-messages[data-theme="gray_white"] .message-bubble.user .content { background-color: #e9ecef; color: #495057; }
        #chat-messages[data-theme="gray_white"] .message-bubble.ai .content { background-color: #f8f9fa; color: #383d41; }
        #chat-messages[data-theme="blue_green"] .message-bubble.user .content { background-color: #d1ecf1; color: #0c5460; }
        #chat-messages[data-theme="blue_green"] .message-bubble.ai .content { background-color: #d4edda; color: #155724; }
        #chat-messages[data-theme="pink_white"] .message-bubble.user .content { background-color: #fff0f6; color: #a78396; }
        #chat-messages[data-theme="pink_white"] .message-bubble.ai .content { background-color: #f8f9fa; color: #383d41; }
        #chat-messages[data-theme="pink_black"] .message-bubble.user .content { background-color: #F8BBD0; color: #5B2C6F; }
        #chat-messages[data-theme="pink_black"] .message-bubble.ai .content { background-color: #343a40; color: #f8f9fa; }
        #chat-messages[data-theme="pink_green"] .message-bubble.user .content { background-color: #F8BBD0; color: #5B2C6F; }
        #chat-messages[data-theme="pink_green"] .message-bubble.ai .content { background-color: #C8E6C9; color: #1B5E20; }
        #chat-messages[data-theme="green_black"] .message-bubble.user .content { background-color: #d4edda; color: #155724; }
        #chat-messages[data-theme="green_black"] .message-bubble.ai .content { background-color: #343a40; color: #f8f9fa; }

        #transfer-btn { font-weight: bold; }
        #transfer-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); display: none; align-items: center; justify-content: center; z-index: 1001; }
        #transfer-modal.visible { display: flex; }
        .transfer-content { background-color: #fff0f5; border-radius: 20px; width: 290px; padding: 20px; box-shadow: 0 5px 25px rgba(255, 105, 180, 0.3); text-align: center; background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100" opacity="0.05"><path d="M50,4 C35,4 28,15 28,24 C28,33 35,32 35,40 C35,48 28,49 28,57 C28,65 35,66 35,74 C35,82 28,83 28,91 C28,99 35,100 50,100 C65,100 72,99 72,91 C72,83 65,82 65,74 C65,66 72,65 72,57 C72,49 65,48 65,40 C65,32 72,33 72,24 C72,15 65,4 50,4 Z" fill="%23FF69B4"/></svg>'); background-repeat: no-repeat; background-position: top right; background-size: 80px; }
        .transfer-header { font-size: 20px; font-weight: bold; color: #a35c7b; margin-bottom: 20px; }
        .transfer-input-group { margin-bottom: 15px; text-align: left; }
        .transfer-input-group label { display: block; font-size: 14px; color: #ff85b3; margin-bottom: 5px; font-weight: 500; }
        .transfer-input-group input { width: 100%; padding: 12px; border-radius: 10px; border: 2px solid #ffcce0; background-color: #fff; font-size: 16px; box-sizing: border-box; }
        .transfer-input-group input:focus { border-color: #ff85b3; outline: none; }
        .transfer-actions { display: flex; justify-content: space-between; gap: 10px; }
        .transfer-actions button { flex: 1; padding: 12px; border: none; border-radius: 10px; font-size: 16px; font-weight: bold; cursor: pointer; transition: transform 0.2s; }
        .transfer-actions button:active { transform: scale(0.95); }
        #transfer-cancel-btn { background-color: #ffdde9; color: #a35c7b; }
        #transfer-confirm-btn { background-color: #ff85b3; color: white; }
        .message-bubble.is-transfer .content { padding: 0; background: transparent; box-shadow: none; border: none; backdrop-filter: none; -webkit-backdrop-filter: none; cursor: pointer; }
        .transfer-card { width: 200px; border-radius: 12px; padding: 12px; color: white; position: relative; overflow: hidden; }
        .transfer-card::before { content: 'ğŸ¾'; position: absolute; right: 10px; top: 5px; font-size: 30px; opacity: 0.2; transform: rotate(15deg); }
        .message-bubble.user .transfer-card { background: radial-gradient(circle at top left, #ffc5d5, #ff85b3); }
        .message-bubble.ai .transfer-card { background: radial-gradient(circle at top left, #a1c4fd, #c2e9fb); }
        .transfer-title { font-size: 16px; font-weight: 600; display: flex; align-items: center; gap: 6px; margin-bottom: 8px; }
        .transfer-amount { font-size: 28px; font-weight: bold; margin-bottom: 4px; }
        .transfer-note { font-size: 13px; opacity: 0.9; border-top: 1px solid rgba(255,255,255,0.3); padding-top: 8px; margin-top: 8px; word-break: break-all; }
        
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        #listen-together-btn img.rotating { animation: spin 2s linear infinite; }
        #listen-together-btn img.paused { animation-play-state: paused; }
        #music-player-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 50; display: none; justify-content: center; align-items: center; background-color: rgba(0,0,0,0.3); }
        #music-player-overlay.visible { display: flex; }
        .music-player-window { width: 90%; background-color: rgba(255, 255, 255, 0.6); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-radius: 20px; box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37); border: 1px solid rgba(255, 255, 255, 0.18); padding: 25px; display: flex; flex-direction: column; align-items: center; color: #1f1f1f; position: relative; }
        #music-playlist-btn { position: absolute; top: 15px; right: 15px; font-size: 24px; cursor: pointer; color: #333; }
        #music-time-counter { font-size: 12px; color: #555; margin-bottom: 20px; }
        #music-player-song-title { font-size: 20px; font-weight: 600; margin-bottom: 5px; text-align: center; }
        #music-player-artist { font-size: 14px; color: #666; margin-bottom: 25px; }
        .music-controls { display: flex; align-items: center; justify-content: center; gap: 20px; width: 100%; margin-bottom: 30px; }
        .music-controls button { background: none; border: none; font-size: 16px; font-weight: bold; cursor: pointer; color: #333; width: 44px; height: 44px; display: flex; justify-content: center; align-items: center; transition: transform 0.2s; }
        .music-controls button:active { transform: scale(0.9); }
        .music-controls .play-pause-btn { font-size: 24px; width: 60px; height: 60px; border-radius: 50%; background-color: rgba(0,0,0,0.05); }
        .music-bottom-actions { display: flex; justify-content: space-between; width: 100%; }
        .music-bottom-actions button { flex: 1; padding: 12px 0; border: none; border-radius: 10px; font-size: 15px; font-weight: 500; cursor: pointer; }
        #music-exit-btn { background-color: rgba(255, 100, 100, 0.7); color: white; margin-right: 5px; }
        #music-return-btn { background-color: rgba(0, 123, 255, 0.7); color: white; margin-left: 5px; }
        
        #music-playlist-panel { position: absolute; bottom: 0; left: 0; width: 100%; height: 70%; background-color: rgba(242, 242, 247, 0.9); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); border-top: 1px solid var(--border-color); border-radius: 20px 20px 0 0; z-index: 210; display: flex; flex-direction: column; transform: translateY(100%); transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); visibility: hidden; }
        #music-playlist-panel.visible { transform: translateY(0); visibility: visible; }
        .playlist-header { padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; flex-shrink: 0; border-bottom: 1px solid var(--border-color); font-weight: 600; }
        .playlist-header .panel-btn { font-size: 16px; cursor: pointer; color: var(--accent-color); }
        .playlist-body { flex-grow: 1; overflow-y: auto; padding: 10px 0; }
        .playlist-item { padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; border-bottom: 1px solid #eee; }
        .playlist-item.playing { background-color: rgba(0, 123, 255, 0.1); }
        .playlist-item-info .title { font-weight: 500; font-size: 15px; }
        .playlist-item-info .artist { font-size: 12px; color: #666; }
        .playlist-item .delete-track-btn { color: #ff3b30; font-size: 20px; padding: 5px; }

        /* Persona Library Styles */
        #persona-library-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; padding: 10px; }
        .persona-preset-item { aspect-ratio: 1 / 1; border-radius: 12px; background-size: cover; background-position: center; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; border: 1px solid rgba(0,0,0,0.1); }
        .persona-preset-item:hover { transform: scale(1.08); box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
        .modal-header .action-button { font-size: 16px; color: var(--accent-color); font-weight: 600; cursor: pointer; background: none; border: none; padding: 5px; }
        
        /* Battery Alert Modal Styles */
        #battery-alert-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.4); display: none; justify-content: center; align-items: center; z-index: 2000; opacity: 0; transition: opacity 0.3s ease; }
        #battery-alert-modal.visible { display: flex; opacity: 1; }
        .battery-alert-content { background-color: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); width: 280px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.2); text-align: center; padding: 20px; cursor: pointer; transform: scale(0.9); transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
        #battery-alert-modal.visible .battery-alert-content { transform: scale(1); }
        #battery-alert-image { max-width: 100px; max-height: 100px; margin-bottom: 15px; }
        #battery-alert-text { font-size: 16px; font-weight: 500; color: #333; margin: 0; line-height: 1.4; }

/* è¿™æ˜¯ä½ è¦æ·»åŠ çš„æ–°æ ·å¼ */
#font-preview {
    transition: font-family 0.3s ease;}

/* === èŠå¤©åˆ—è¡¨ç•Œé¢æ–°å¢æ ·å¼ (è¿™æ˜¯æ–°æ·»åŠ çš„) === */
#chat-list-screen {
}

.chat-list-view {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.2s, visibility 0.2s;
    z-index: 1; 
}
.chat-list-view.active {
    opacity: 1;
    visibility: visible;
    z-index: 2; 
}

#messages-view {
    overflow-y: auto; 
}

/* åº•éƒ¨å¯¼èˆªæ æ ·å¼ */
#chat-list-bottom-nav {
    position: absolute; /* è®©å®ƒå›ºå®šåœ¨åº•éƒ¨ */
    bottom: 0;
    left: 0;
    width: 100%;
    z-index: 15; /* ç¡®ä¿å®ƒåœ¨è§†å›¾ä¹‹ä¸Š */
    display: flex;
    border-top: 1px solid var(--border-color);
    background-color: rgba(247, 247, 247, 0.9);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

.nav-item {
    flex: 1;
    text-align: center;
    padding: 12px 0;
    font-size: 14px;
    color: var(--text-secondary);
    cursor: pointer;
    transition: color 0.2s;
}

.nav-item.active {
    color: var(--accent-color);
    font-weight: 600;
}

/* === åŠ¨æ€ç•Œé¢ (QZone) æ ·å¼ (è¿™æ˜¯æ–°æ·»åŠ çš„) === */
#qzone-screen {
    background-color: #f0f2f5;
}

.qzone-header {
    /* position: absolute;  <-- æŠŠè¿™ä¸ªæ”¹æˆ relative */
    position: relative;
    z-index: 10; /* z-index ä¿æŒï¼Œæˆ–è€…å¯ä»¥æ›´é«˜ */
    flex-shrink: 0; /* é˜²æ­¢è¢«å‹ç¼© */
    padding: 15px 20px;
    padding-top: 45px;
    background-color: rgba(247, 247, 247, 0.7); 
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 18px;
    font-weight: 600;
    text-align: center;
}

.qzone-header .back-btn {
    font-size: 24px;
    cursor: pointer;
    color: var(--accent-color);
}

.qzone-header span:nth-child(2) { /* "å¥½å‹åŠ¨æ€"æ–‡å­— */
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
}

.qzone-content {
    flex-grow: 1;
    overflow-y: auto;
    /* padding-top: 80px;  <-- åˆ é™¤è¿™ä¸ªï¼Œå› ä¸ºheaderä¸å†æ˜¯absoluteäº† */
}

.qzone-profile-header {
    position: relative;
    margin-bottom: 20px;
}

.qzone-banner-container {
    width: 100%;
    height: 180px; /* èƒŒæ™¯æ¿é«˜åº¦ */
    position: relative;
}

#qzone-banner-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.qzone-user-info {
    position: absolute;
    bottom: -30px; /* è®©å¤´åƒå’Œæ˜µç§°åŒºåŸŸå‘ä¸‹åç§»ï¼Œä¸€åŠåœ¨èƒŒæ™¯æ¿å†…ï¼Œä¸€åŠåœ¨å¤– */
    left: 20px;
    display: flex;
    align-items: flex-end; /* è®©æ˜µç§°å’Œå¤´åƒåº•éƒ¨å¯¹é½ */
    gap: 10px;
}

.qzone-avatar-container {
    position: relative;
}

#qzone-avatar-img {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    border: 3px solid white;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    object-fit: cover;
}

#qzone-nickname {
    font-size: 18px;
    font-weight: 600;
    color: #fff;
    text-shadow: 0 1px 3px rgba(0,0,0,0.5);
    padding-bottom: 5px; /* å¾®è°ƒä½ç½® */
}

/* ç¼–è¾‘æŒ‰é’®çš„é€šç”¨æ ·å¼ */
.qzone-edit-btn {
    position: absolute;
    background-color: rgba(0,0,0,0.4);
    color: white;
    border: none;
    border-radius: 10px;
    padding: 4px 8px;
    font-size: 12px;
    cursor: pointer;
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
}

#change-qzone-banner-btn {
    bottom: 10px;
    right: 10px;
}

#change-qzone-avatar-btn {
    bottom: 5px;
    right: 5px;
}

#change-qzone-nickname-btn {
    font-size: 14px;
    padding: 2px 6px;
    margin-left: 5px; /* ä¸æ˜µç§°çš„é—´è· */
    color: var(--text-primary);
    background-color: rgba(255,255,255,0.7);
    border-radius: 5px;
    position: relative; /* è„±ç¦»flexå¸ƒå±€çš„å¯¹é½ */
    bottom: 5px; /* å¾®è°ƒå‚ç›´ä½ç½® */
}

/* === è®©ç¼–è¾‘åŠŸèƒ½æ›´â€œéšå½¢â€ === */
#qzone-banner-container,
#qzone-avatar-container,
#qzone-nickname {
    cursor: pointer; /* é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºä¸ºå¯ç‚¹å‡»æ‰‹åŠ¿ */
    transition: opacity 0.2s;
}
#qzone-banner-container:hover,
#qzone-avatar-container:hover,
#qzone-nickname:hover {
    opacity: 0.85; /* æ‚¬åœæ—¶ç¨å¾®å˜æš—ï¼Œç»™ç”¨æˆ·åé¦ˆ */
}
/* éšè—æ‰æ—§çš„ã€ç‹¬ç«‹çš„ç¼–è¾‘æŒ‰é’® */
.qzone-edit-btn {
    display: none;
}

/* === æ§åˆ¶ Header å’Œ Bottom Nav çš„æ˜¾éš === */
/* é»˜è®¤éšè—åŠ¨æ€ç•Œé¢çš„ Header */
#qzone-screen .qzone-header {
    display: none;
}
/* å½“åŠ¨æ€è§†å›¾æ¿€æ´»æ—¶ï¼Œæ˜¾ç¤ºå®ƒçš„Header */
#qzone-screen.active .qzone-header {
    display: flex;
}

/* å½“è¿›å…¥åŠ¨æ€è§†å›¾æ—¶ï¼Œéšè—ä¸»Headerå’Œåº•éƒ¨å¯¼èˆªæ  */
#chat-list-screen.in-qzone-view > .header,
#chat-list-screen.in-qzone-view > #chat-list-bottom-nav {
    display: none;
}

.chat-list-item:first-child,
.chat-group-container:first-child {
    margin-top: 10px; 
}

/* â–²â–²â–² æ–°æ ·å¼æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ æŠŠæ‰€æœ‰è¿™äº›æ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === åŠ¨æ€åŠŸèƒ½æ æ ·å¼ === */
.qzone-actions-bar {
    display: flex;
    justify-content: space-around;
    padding: 10px 0;
    margin: 40px 15px 15px 15px; /* ä¸Šè¾¹è·æ›´å¤§ï¼Œä¸ºæµ®åŠ¨çš„å¤´åƒç•™å‡ºç©ºé—´ */
    background-color: var(--secondary-bg);
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.action-item {
    flex: 1;
    text-align: center;
    font-size: 15px;
    font-weight: 500;
    color: var(--text-primary);
    cursor: pointer;
    padding: 8px 0;
    position: relative;
}

/* ç”¨ä¼ªå…ƒç´ åˆ›å»ºåˆ†éš”çº¿ */
.action-item:not(:last-child)::after {
    content: '';
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 1px;
    height: 20px;
    background-color: var(--border-color);
}

/* === åŠ¨æ€å¸–å­åˆ—è¡¨æ ·å¼ === */
#qzone-posts-list {
    padding: 0 15px 20px 15px; /* å·¦å³å’Œåº•éƒ¨ç•™å‡ºè¾¹è· */
    display: flex;
    flex-direction: column;
    gap: 20px; /* å¸–å­ä¹‹é—´çš„é—´è· */
}

.qzone-post-item {
    background-color: var(--secondary-bg);
    border-radius: 12px;
    padding: 15px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.06);
}

.post-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 12px;
}

.post-header .post-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    object-fit: cover;
}

.post-info {
    display: flex;
    flex-direction: column;
}

.post-info .post-nickname {
    font-weight: 600;
    font-size: 15px;
    color: var(--text-primary);
}

.post-info .post-timestamp {
    font-size: 12px;
    color: var(--text-secondary);
}

.post-content {
    font-size: 14px;
    line-height: 1.6;
    color: #333;
    white-space: pre-wrap; /* è®©æ¢è¡Œç¬¦ç”Ÿæ•ˆ */
    word-break: break-word; /* é˜²æ­¢é•¿å•è¯æº¢å‡º */
}

/* â–²â–²â–² æ–°æ ·å¼ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ æ–°æ ·å¼ç²˜è´´åˆ°æœ«å°¾ â–¼â–¼â–¼ */

/* === å‘å¸ƒåŠ¨æ€æ¨¡æ€æ¡†æ ·å¼ === */
#post-public-text {
    min-height: 80px; /* ç¡®ä¿æ–‡æœ¬åŸŸæœ‰è¶³å¤Ÿçš„é«˜åº¦ */
    resize: vertical;
}

.post-image-preview-container {
    position: relative;
    width: 100%;
    aspect-ratio: 16 / 9; /* ä¿æŒ16:9çš„é¢„è§ˆæ¯”ä¾‹ */
    background-color: #f0f2f5;
    border: 2px dashed var(--border-color);
    border-radius: 8px;
    margin-bottom: 15px;
    display: none; /* é»˜è®¤éšè— */
    justify-content: center;
    align-items: center;
}
.post-image-preview-container.visible {
    display: flex; /* ä¸Šä¼ åæ˜¾ç¤º */
}

#post-image-preview {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    border-radius: 6px;
}

#post-remove-image-btn {
    position: absolute;
    top: -10px;
    right: -10px;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background-color: #ff3b30;
    color: white;
    border: 2px solid white;
    font-size: 16px;
    line-height: 20px;
    text-align: center;
    cursor: pointer;
    box-shadow: 0 1px 4px rgba(0,0,0,0.3);
}

.post-image-upload-options {
    display: flex;
    gap: 10px;
}

.post-image-upload-options button {
    flex: 1;
    margin-top: 0;
}

/* â–²â–²â–² æ–°æ ·å¼ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ æ–°æ ·å¼ â–¼â–¼â–¼ */

/* === å‘å¸ƒåŠ¨æ€æ¨¡æ€æ¡† - æ¨¡å¼åˆ‡æ¢æ ·å¼ === */
.post-mode-switcher {
    display: flex;
    margin-bottom: 20px;
    background-color: #e9ecef;
    border-radius: 8px;
    padding: 4px;
}

.mode-btn {
    flex: 1;
    padding: 8px;
    border: none;
    background-color: transparent;
    border-radius: 6px;
    font-size: 14px;
    font-weight: 500;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.2s ease-in-out;
}

.mode-btn.active {
    background-color: var(--secondary-bg);
    color: var(--text-primary);
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.post-mode-content {
    display: none; /* é»˜è®¤éƒ½éšè— */
}

.post-mode-content.active {
    display: block; /* æ¿€æ´»çš„æ‰æ˜¾ç¤º */
}

/* â–²â–²â–² æ–°æ ·å¼ç»“æŸ â–²â–²â–² */

/* === ç›¸å†Œé¡µé¢èƒŒæ™¯è‰² === */
#album-screen {
    background-color: #f0f2f5; /* ä½¿ç”¨ä¸€ä¸ªæŸ”å’Œçš„æµ…ç°è‰²ï¼Œæ¯”çº¯ç™½æ›´æŠ¤çœ¼ */
}

/* === ç›¸å†Œé¡µé¢ç½‘æ ¼å¸ƒå±€ === */
#album-grid-page {
    padding: 15px;
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* æ¯è¡Œæ˜¾ç¤º2ä¸ªç›¸å†Œ */
    gap: 15px;
}

/* === ç›¸å†Œé¡¹ç›®æ ·å¼ (ç¾åŒ–) === */
.album-item {
    display: flex;
    flex-direction: column;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    border-radius: 8px; /* ç»™æ•´ä¸ªé¡¹ç›®ä¹ŸåŠ ä¸ªåœ†è§’ */
}

.album-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 15px rgba(0,0,0,0.1);
}

.album-cover {
    aspect-ratio: 1 / 1; /* ä¿æŒå°é¢ä¸ºæ­£æ–¹å½¢ */
    background-size: cover;
    background-position: center;
    border-radius: 8px;
    margin-bottom: 8px;
    background-color: #f0f2f5; /* å°é¢åŠ è½½å‰çš„å ä½é¢œè‰² */
}

.album-info {
    text-align: center;
}

.album-name {
    font-weight: 500;
    margin: 0 0 4px 0;
    color: var(--text-primary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; /* é˜²æ­¢é•¿åå­—æ¢è¡Œ */
}

.album-count {
    font-size: 12px;
    color: var(--text-secondary);
    margin: 0;
}

/* â–²â–²â–² æ–°çš„ CSS ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™äº›æ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === ç›¸å†Œç…§ç‰‡è¯¦æƒ…é¡µ === */
#album-photos-screen {
    background-color: #f0f2f5;
}

#photos-grid-page {
    padding: 15px;
    display: grid;
    /* æ¯è¡Œæ˜¾ç¤º3å¼ ç…§ç‰‡ï¼Œå¹¶ä¿æŒé—´è· */
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
}

.photo-item {
    position: relative; /* ä¸ºäº†å®šä½åˆ é™¤æŒ‰é’® */
    aspect-ratio: 1 / 1; /* ä¿æŒç…§ç‰‡ä¸ºæ­£æ–¹å½¢ */
    border-radius: 6px;
    overflow: hidden; /* é˜²æ­¢å›¾ç‰‡æº¢å‡ºåœ†è§’ */
    background-color: #e9ecef; /* å›¾ç‰‡åŠ è½½å‰çš„å ä½ç¬¦é¢œè‰² */
}

.photo-item .photo-thumb {
    width: 100%;
    height: 100%;
    object-fit: cover; /* ä¿è¯å›¾ç‰‡å¡«æ»¡å®¹å™¨ä¸”ä¸å˜å½¢ */
    cursor: pointer;
}

/* åˆ é™¤æŒ‰é’®çš„æ ·å¼ */
.photo-item .photo-delete-btn {
    position: absolute;
    top: 5px;
    right: 5px;
    width: 22px;
    height: 22px;
    background-color: rgba(0, 0, 0, 0.6);
    color: white;
    border: none;
    border-radius: 50%;
    font-size: 16px;
    line-height: 22px;
    text-align: center;
    cursor: pointer;
    opacity: 0; /* é»˜è®¤éšè— */
    transition: opacity 0.2s ease;
}

/* é¼ æ ‡æ‚¬åœåœ¨ç…§ç‰‡ä¸Šæ—¶æ˜¾ç¤ºåˆ é™¤æŒ‰é’® */
.photo-item:hover .photo-delete-btn {
    opacity: 1;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* === å›¾ç‰‡æŸ¥çœ‹å™¨æ¨¡æ€æ¡†æ ·å¼ === */
#photo-viewer-modal {
    background-color: rgba(0, 0, 0, 0.85);
    z-index: 1002;
    -webkit-backdrop-filter: blur(5px);
    backdrop-filter: blur(5px);
}

.photo-viewer-content {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100%;
}

#photo-viewer-image {
    max-width: 90vw;  /* å›¾ç‰‡æœ€å¤§å®½åº¦ä¸ºè§†å£çš„90% */
    max-height: 85vh; /* å›¾ç‰‡æœ€å¤§é«˜åº¦ä¸ºè§†å£çš„85% */
    object-fit: contain;
    border-radius: 8px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    /* ä¸ºå›¾ç‰‡çš„åˆ‡æ¢æ·»åŠ ä¸€ç‚¹å¹³æ»‘çš„æ·¡å…¥æ·¡å‡ºæ•ˆæœ */
    transition: opacity 0.2s ease-in-out;
}

/* å…³é—­æŒ‰é’® */
#photo-viewer-close-btn {
    position: absolute;
    top: 20px;
    right: 20px;
    background: none;
    border: none;
    color: white;
    font-size: 40px;
    font-weight: 200;
    cursor: pointer;
    line-height: 1;
    text-shadow: 0 0 5px black;
}

/* å·¦å³å¯¼èˆªç®­å¤´ */
#photo-viewer-modal .nav-arrow {
    position: absolute; /* ç°åœ¨æˆ‘ä»¬ç”¨ç»å¯¹å®šä½æ¥æ§åˆ¶ç®­å¤´ */
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: rgba(255, 255, 255, 0.7);
    font-size: 50px; /* åœ¨æ‰‹æœºå±å¹•ä¸Šï¼Œå¯ä»¥ç¨å¾®å°ä¸€ç‚¹ */
    font-weight: 100;
    cursor: pointer;
    padding: 10px; /* è°ƒæ•´å†…è¾¹è· */
    user-select: none;
    transition: color 0.2s;
    z-index: 1003; /* ç¡®ä¿ç®­å¤´åœ¨æœ€ä¸Šå±‚ */
}

#photo-viewer-prev-btn {
    left: 5px; /* å®šä½å·¦ç®­å¤´ */
}

#photo-viewer-next-btn {
    right: 5px; /* å®šä½å³ç®­å¤´ */
}

#photo-viewer-modal .nav-arrow:hover {
    color: white;
}

/* å½“ç®­å¤´è¢«ç¦ç”¨æ—¶ï¼ˆæ¯”å¦‚ç¬¬ä¸€å¼ æˆ–æœ€åä¸€å¼ ï¼‰ */
#photo-viewer-modal .nav-arrow:disabled {
    color: rgba(255, 255, 255, 0.2);
    cursor: default;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™äº›æ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* â–¼â–¼â–¼ è¯·ç”¨è¿™å—æ–°CSSæ›¿æ¢æ‰ä¸Šä¸€ç‰ˆçš„äº¤äº’åŒºCSS â–¼â–¼â–¼ */

/* === å¸–å­å†…å®¹åŒº - ç›¸å¯¹å®šä½å®¹å™¨ === */
/* === å¸–å­å†…å®¹åŒº === */
.post-main-content {
    /* å®ƒç°åœ¨åªæ˜¯ä¸€ä¸ªæ™®é€šçš„å†…å®¹å®¹å™¨ï¼Œä¸å†éœ€è¦ç‰¹æ®Šæ ·å¼äº† */
}

/* === å¸–å­äº’åŠ¨å›¾æ ‡åŒº (æ–°æ ·å¼) === */
.post-feedback-icons {
    display: flex;
    justify-content: flex-end; /* è®©å›¾æ ‡é å³å¯¹é½ */
    align-items: center;
    gap: 12px;
    padding: 8px 0; /* æ ¸å¿ƒä¿®æ”¹ï¼šç»™å›¾æ ‡åŒºåŸŸä¸Šä¸‹å„8pxçš„ç•™ç™½ */
}

.action-icon {
    cursor: pointer;
    color: var(--text-secondary); /* é»˜è®¤ç°è‰² */
    transition: all 0.2s ease-in-out;
}

.action-icon svg {
    width: 22px;
    height: 22px;
    fill: none;
    stroke: currentColor;
    stroke-width: 2;
    stroke-linecap: round;
    stroke-linejoin: round;
}

/* å›¾æ ‡æ¿€æ´»(ç‚¹èµ/æ”¶è—å)çš„æ ·å¼ */
.action-icon.active {
    color: #ff5252; /* æ¿€æ´»åå˜çº¢è‰² */
    transform: scale(1.1); /* è½»å¾®æ”¾å¤§ */
}

.action-icon.active.favorite {
    color: #ffc107; /* æ”¶è—ç”¨é»„è‰² */
}

.action-icon.active svg {
    fill: currentColor; /* æ¿€æ´»åå¡«å……é¢œè‰² */
}

/* ç‚¹å‡»æ—¶çš„åŠ¨ç”»æ•ˆæœ */
.animate-like {
    animation: like-bounce 0.4s ease-in-out;
}

@keyframes like-bounce {
    0%   { transform: scale(1); }
    25%  { transform: scale(0.8); }
    50%  { transform: scale(1.2); }
    75%  { transform: scale(1.05); }
    100% { transform: scale(1.1); }
}


/* === å¸–å­åº•éƒ¨è¯„è®ºåŒºæ ·å¼ (ç°åœ¨æ˜¯ç‹¬ç«‹éƒ¨åˆ†) === */
.post-footer {
    margin-top: 15px;
    padding-top: 10px;
    border-top: 1px solid #f0f0f0; /* ç”¨ä¸€æ¡æµ…è‰²çº¿åˆ†éš” */
    display: flex;
    align-items: center;
    gap: 8px; /* è°ƒæ•´æ•´ä½“é—´è· */
}

/* è¯„è®ºåŒºå®¹å™¨ */
.comment-section {
    flex-grow: 1; /* å æ®å¤§éƒ¨åˆ†ç©ºé—´ */
    display: flex;
    align-items: center;
    gap: 8px;
}

.comment-section .comment-avatar {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    object-fit: cover;
    flex-shrink: 0;
}

.comment-section .comment-input {
    width: 100%;
    padding: 8px 12px;
    border: none;
    background-color: #f0f2f5;
    border-radius: 14px;
    font-size: 13px;
    outline: none;
}

/* æ–°å¢çš„å‘é€æŒ‰é’®æ ·å¼ */
.comment-send-btn {
    flex-shrink: 0; /* é˜²æ­¢è¢«å‹ç¼© */
    padding: 8px 15px;
    border: none;
    background-color: var(--accent-color);
    color: white;
    border-radius: 14px;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === æœªè¯»æ¶ˆæ¯å°çº¢ç‚¹é€šç”¨æ ·å¼ === */
.unread-indicator {
    position: absolute;
    top: -8px;      
    right: -15px;    
    min-width: 18px;
    height: 18px;
    padding: 0 5px;
    background-color: #ff3b30;
    color: white;
    font-size: 11px;
    font-weight: bold;
    line-height: 18px;
    text-align: center;
    border-radius: 9px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.2);
    display: none;
    z-index: 1;
}

/* èŠå¤©ç•Œé¢è¿”å›æŒ‰é’®ä¸Šçš„å°çº¢ç‚¹ (åªæ˜¾ç¤ºç‚¹ï¼Œä¸æ˜¾ç¤ºæ•°å­—) */
.back-btn-indicator {
    top: 0;
    right: -8px; /* æ”¾åˆ°è¿”å›ç®­å¤´å³ä¸Šè§’ */
    width: 10px;
    height: 10px;
    min-width: 10px;
    padding: 0;
    border-radius: 50%;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === è¯„è®ºåˆ—è¡¨å®¹å™¨ === */
.post-comments-container {
    padding: 10px 0; /* ä¸Šä¸‹ç•™ç™½ */
    display: flex;
    flex-direction: column;
    gap: 8px; /* è¯„è®ºä¹‹é—´çš„é—´è· */
    font-size: 13px; /* ç»Ÿä¸€è¯„è®ºåŒºå­—ä½“å¤§å° */
}

/* æ¯ä¸€æ¡è¯„è®º */
.comment-item {
    line-height: 1.5;
}

/* è¯„è®ºè€…çš„åå­—ï¼ŒåŠ ç²—å¹¶ä½¿ç”¨ä¸»é¢˜è‰² */
.comment-item .commenter-name {
    font-weight: 600;
    color: var(--accent-color);
    cursor: pointer;
    margin-right: 5px; /* å’Œè¯„è®ºå†…å®¹ä¹‹é—´ç•™ç‚¹ç©ºéš™ */
}

/* è¯„è®ºå†…å®¹ */
.comment-item .comment-text {
    color: var(--text-primary);
    word-break: break-word;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === å¸–å­ç‚¹èµåŒºåŸŸæ ·å¼ === */
.post-likes-section {
    display: flex;
    align-items: center;
    gap: 6px; /* å›¾æ ‡å’Œæ–‡å­—çš„é—´è· */
    padding: 8px 10px; /* å†…è¾¹è· */
    font-size: 13px;
    color: var(--accent-color); /* ä½¿ç”¨ä¸»é¢˜è“è‰² */
    background-color: #f0f5fa; /* ç»™ä¸€ä¸ªæ·¡æ·¡çš„èƒŒæ™¯è‰² */
    border-top: 1px solid #e9eef3;
    border-bottom: 1px solid #e9eef3;
    margin-top: 5px; /* å’Œä¸Šæ–¹çš„å›¾æ ‡ä¿æŒä¸€ç‚¹è·ç¦» */
}

.post-likes-section .like-icon {
    width: 16px;
    height: 16px;
    fill: currentColor; /* è®©SVGå›¾æ ‡ç»§æ‰¿çˆ¶å…ƒç´ çš„é¢œè‰² */
    flex-shrink: 0; /* é˜²æ­¢å›¾æ ‡è¢«å‹ç¼© */
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === @æåŠ å¼¹å‡ºèœå•æ ·å¼ === */
.at-mention-popup {
    position: absolute; /* ç›¸å¯¹äºçˆ¶å…ƒç´ å®šä½ */
    bottom: 100%; /* æ˜¾ç¤ºåœ¨è¾“å…¥æ¡†çš„ä¸Šæ–¹ */
    left: 40px; /* å’Œè¾“å…¥æ¡†å·¦ä¾§å¯¹é½ (è€ƒè™‘äº†å¤´åƒå®½åº¦) */
    width: calc(100% - 40px); /* å®½åº¦å’Œè¾“å…¥æ¡†å·®ä¸å¤š */
    max-height: 120px;
    overflow-y: auto;
    background-color: var(--secondary-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    box-shadow: 0 -4px 12px rgba(0,0,0,0.1);
    z-index: 10;
    display: none; /* é»˜è®¤éšè— */
}

.at-mention-item {
    padding: 8px 12px;
    font-size: 14px;
    cursor: pointer;
    color: var(--text-primary);
    border-bottom: 1px solid #f0f0f0;
}

.at-mention-item:last-child {
    border-bottom: none;
}

.at-mention-item:hover {
    background-color: #f5f5f5;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* â–¼â–¼â–¼ è¯·ç”¨ä¸‹é¢è¿™æ®µã€æ–°æ ·å¼ã€‘æ›¿æ¢æ‰ä½ ç°æœ‰çš„ #favorites-list æ ·å¼ â–¼â–¼â–¼ */

/* è®©æ”¶è—è§†å›¾æˆä¸ºä¸€ä¸ªflexå®¹å™¨, ä»ä¸Šåˆ°ä¸‹æ’åˆ— */
#favorites-view {
    display: flex;
    flex-direction: column;
}

/* ç¡®ä¿æ”¶è—é¡µçš„headeré«˜åº¦å›ºå®šï¼Œä¸è¢«å‹ç¼© */
#favorites-view > .header {
    flex-shrink: 0;
}

/* === æ”¶è—åˆ—è¡¨æ ·å¼ (ä¿®æ­£å) === */
#favorites-list {
    flex-grow: 1; 
    overflow-y: auto; 
    overflow-x: hidden; /* <-- æ–°å¢è¿™è¡Œï¼Œç¦æ­¢æ°´å¹³æ»šåŠ¨ */
    padding: 15px; 
    display: flex;
    flex-direction: column;
    gap: 15px; 
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

.favorite-item-card {
    background-color: var(--secondary-bg);
    border-radius: 12px;
    padding: 15px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.06);
    position: relative; /* ä¸ºäº†å®šä½åˆ é™¤æŒ‰é’® */
}

/* å¡ç‰‡å¤´éƒ¨ï¼ŒåŒ…å«å¤´åƒã€åå­—å’Œæ¥æº */
.fav-card-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 12px;
}

.fav-card-header .avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    object-fit: cover;
}

.fav-card-header .info {
    flex-grow: 1;
}

.fav-card-header .name {
    font-weight: 600;
    font-size: 15px;
}

.fav-card-header .source {
    font-size: 12px;
    color: var(--text-secondary);
}

/* å¡ç‰‡å†…å®¹ */
.fav-card-content {
    font-size: 14px;
    line-height: 1.6;
    color: #333;
    white-space: pre-wrap;
    word-break: break-word;
}

.fav-card-content .chat-image {
    margin-top: 8px; /* å›¾ç‰‡å’Œæ–‡å­—çš„é—´è· */
}

/* åˆ é™¤æŒ‰é’® */
.fav-delete-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 28px;
    height: 28px;
    background: #f0f2f5;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    font-size: 18px;
    color: var(--text-secondary);
    line-height: 28px;
    text-align: center;
}

.fav-delete-btn:hover {
    background-color: #e9ecef;
    color: #ff3b30;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === æœç´¢æ æ ·å¼ === */
.search-bar-container {
    padding: 10px 15px;
    background-color: #f9f9f9; /* å’Œåˆ—è¡¨èƒŒæ™¯è‰²ä¿æŒä¸€è‡´ */
    position: relative; /* ä¸ºäº†å®šä½æ¸…é™¤æŒ‰é’® */
    flex-shrink: 0;
}

#favorites-search-input {
    width: 100%;
    padding: 10px 30px 10px 15px; /* å³ä¾§ç•™å‡ºæ¸…é™¤æŒ‰é’®çš„ä½ç½® */
    font-size: 14px;
    border: 1px solid var(--border-color);
    border-radius: 18px; /* åœ†è§’çŸ©å½¢ï¼Œæ›´ç°ä»£åŒ– */
    background-color: var(--secondary-bg);
    box-sizing: border-box;
    outline: none;
}
#favorites-search-input:focus {
    border-color: var(--accent-color);
}

.search-clear-btn {
    position: absolute;
    right: 25px;
    top: 50%;
    transform: translateY(-50%);
    background: #ccc;
    color: white;
    border: none;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    line-height: 20px;
    text-align: center;
    font-size: 16px;
    cursor: pointer;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* === èŠå¤©ç•Œé¢å¤šé€‰æ“ä½œæ ä¼˜åŒ– === */
#chat-interface-screen .header .selection-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
}

#chat-interface-screen .selection-controls .action-btn {
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    padding: 5px;
}

/* === æ”¶è—é¡µé¢å¤šé€‰æ¨¡å¼æ ·å¼ === */
#favorites-view.selection-mode .favorite-item-card {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

/* é€‰æ‹©æ¡†çš„æ ·å¼ */
.favorite-item-card::before {
    content: '';
    position: absolute;
    left: -25px; /* æŠŠå®ƒæ”¾åœ¨å¡ç‰‡å·¦è¾¹å¤–é¢ */
    top: 50%;
    transform: translateY(-50%);
    width: 20px;
    height: 20px;
    border: 2px solid #ccc;
    border-radius: 50%;
    background-color: white;
    transition: all 0.2s ease;
    opacity: 0; /* é»˜è®¤éšè— */
}

/* è¿›å…¥é€‰æ‹©æ¨¡å¼æ—¶ï¼Œå¡ç‰‡å‘å³ç§»åŠ¨ï¼Œéœ²å‡ºé€‰æ‹©æ¡† */
#favorites-view.selection-mode .favorite-item-card {
    transform: translateX(35px);
}
#favorites-view.selection-mode .favorite-item-card::before {
    opacity: 1;
}

/* é€‰ä¸­åçš„æ ·å¼ */
#favorites-view.selection-mode .favorite-item-card.selected::before {
    background-color: var(--accent-color);
    border-color: var(--accent-color);
    content: 'âœ”';
    color: white;
    font-size: 14px;
    text-align: center;
    line-height: 20px;
}

/* åº•éƒ¨æ“ä½œæ  (ç»ˆæä¿®æ­£ç‰ˆ) */
#favorites-action-bar {
    position: absolute; /* â˜… æ”¹ä¸º absoluteï¼Œç›¸å¯¹äº #phone-screen å®šä½ */
    bottom: 0;
    left: 0;
    right: 0;           /* â˜… æ–°å¢ right: 0ï¼Œå’Œ left: 0 ä¸€èµ·æ’‘æ»¡å®½åº¦ */
    width: auto;        /* â˜… æ”¹ä¸º autoï¼Œè®© left/right å†³å®šå®½åº¦ */
    padding: 10px 15px;
    padding-bottom: calc(10px + env(safe-area-inset-bottom)); /* é€‚é…iPhoneåº•éƒ¨å®‰å…¨åŒº */
    background-color: rgba(247, 247, 247, 0.9);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-top: 1px solid var(--border-color);
    box-sizing: border-box;
    z-index: 5;
    display: none;
    /* max-width å·²ç»ä¸éœ€è¦äº†ï¼Œå› ä¸ºçˆ¶å…ƒç´ å·²ç»é™åˆ¶äº†å®½åº¦ */
}

#favorites-action-bar .action-bar-btn {
    width: 100%;
    padding: 12px;
    border-radius: 8px;
    border: none;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    background-color: #ff3b30;
    color: white;
}

/* === ã€ä¿®æ­£ã€‘èŠå¤©ç•Œé¢å¤´éƒ¨æ§ä»¶åˆ‡æ¢é€»è¾‘ === */

/* é»˜è®¤çŠ¶æ€ï¼šéšè—å¤šé€‰æ§ä»¶ */
#chat-interface-screen .header .selection-controls {
    display: none;
}

/* é»˜è®¤çŠ¶æ€ï¼šæ˜¾ç¤ºé»˜è®¤æ§ä»¶ï¼Œå¹¶è®©å®ƒæ’‘æ»¡æ•´ä¸ªå¤´éƒ¨ */
#chat-interface-screen .header .default-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
}

/* å½“è¿›å…¥å¤šé€‰æ¨¡å¼æ—¶ï¼šéšè—é»˜è®¤æ§ä»¶ */
#chat-interface-screen.selection-mode .header .default-controls {
    display: none;
}

/* å½“è¿›å…¥å¤šé€‰æ¨¡å¼æ—¶ï¼šæ˜¾ç¤ºå¤šé€‰æ§ä»¶ï¼Œå¹¶è®©å®ƒæ’‘æ»¡æ•´ä¸ªå¤´éƒ¨ */
#chat-interface-screen.selection-mode .header .selection-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
}

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === ä¿®æ­£ï¼šæ”¾å¤§æ‰€æœ‰ä¸»è¦çš„â€œ+â€å·æŒ‰é’® === */
#add-chat-btn,
#add-world-book-btn,
#create-album-btn-page {
    font-size: 28px;   /* æ˜¾è‘—å¢å¤§å­—ä½“å¤§å°ï¼Œä½¿å…¶è§†è§‰ä¸Šä¸æ—è¾¹çš„å›¾æ ‡åŒ¹é… */
    font-weight: 300;  /* ä½¿ç”¨æ›´ç»†çš„å­—é‡ï¼Œè®©åŠ å·çœ‹èµ·æ¥æ›´æ¸…çˆ½ï¼Œä¸æ˜¾ç²—ç¬¨ */
    position: relative;/* å…è®¸è¿›è¡Œä½ç½®å¾®è°ƒ */
    top: -1px;         /* å­—ä½“æ”¾å¤§åï¼Œé€šå¸¸éœ€è¦ç¨å¾®å‘ä¸Šç§»åŠ¨ä¸€ç‚¹ï¼Œä½¿å…¶è§†è§‰ä¸Šæ›´å±…ä¸­ */
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™äº›æ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* é¢„è§ˆåŒºå®¹å™¨æ ·å¼ */
#settings-preview-area {
    width: 100%;
    height: 180px; /* ç»™ä¸€ä¸ªå›ºå®šçš„é«˜åº¦ */
    background-color: #f0f2f5;
    border-radius: 8px;
    padding: 15px;
    box-sizing: border-box;
    overflow: hidden; /* é˜²æ­¢å†…å®¹æº¢å‡º */
    display: flex;
    flex-direction: column;
    gap: 10px; /* é¢„è§ˆæ°”æ³¡ä¹‹é—´çš„é—´è· */
    border: 1px solid var(--border-color);
    position: relative; /* ä¸ºäº†å®šä½èƒŒæ™¯ */
}

/* é¢„è§ˆåŒºçš„èƒŒæ™¯ï¼Œå¯ä»¥å’ŒçœŸå®èŠå¤©ç•Œé¢åŒæ­¥ */
#settings-preview-area::before {
    content: '';
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-size: cover;
    background-position: center;
    z-index: 1;
    opacity: 0.8;
}

/* è®©é¢„è§ˆæ°”æ³¡åœ¨èƒŒæ™¯ä¹‹ä¸Š */
#settings-preview-area .message-wrapper {
    position: relative;
    z-index: 2;
}

/* é¢„è§ˆåŒºå†…ä½¿ç”¨çš„å¤´åƒè¦å°ä¸€ç‚¹ */
#settings-preview-area .message-bubble .avatar {
    width: 30px;
    height: 30px;
}

#settings-preview-area .message-bubble .timestamp {
    display: none; /* é¢„è§ˆåŒºä¸éœ€è¦æ˜¾ç¤ºæ—¶é—´æˆ³ */
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°CSSç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */
.existing-group-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px;
    background-color: #f9f9f9;
    border-radius: 8px;
    border: 1px solid var(--border-color);
}

.existing-group-item .group-name {
    font-weight: 500;
}

.existing-group-item .delete-group-btn {
    color: #ff3b30;
    font-size: 20px;
    cursor: pointer;
    padding: 5px;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°CSSç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */
.chat-group-container {
    border-bottom: 1px solid var(--border-color);
}
.chat-group-container:first-child {
    border-top: 1px solid var(--border-color);
}

.chat-group-header {
    display: flex;
    align-items: center;
    padding: 12px 15px;
    cursor: pointer;
    background-color: #f7f7f7;
}

.chat-group-header .arrow {
    font-size: 14px;
    margin-right: 8px;
    transition: transform 0.2s ease;
}

.chat-group-header.collapsed .arrow {
    transform: rotate(-90deg);
}

.chat-group-header .group-name {
    font-weight: 600;
    font-size: 15px;
}

.chat-group-content {
    max-height: 1000px; /* ä¸€ä¸ªè¶³å¤Ÿå¤§çš„å€¼ */
    overflow: hidden;
    transition: max-height 0.3s ease-in-out;
}

.chat-group-content.collapsed {
    max-height: 0;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°CSSç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* æ ¼å¼åŠ©æ‰‹æŒ‰é’®çš„å®¹å™¨ */
.format-helpers {
    display: flex;
    gap: 10px;
    margin-bottom: 15px; /* ä¸ä¸‹æ–¹çš„æ–‡æœ¬æ¡†æ‹‰å¼€è·ç¦» */
    flex-wrap: wrap; /* å¦‚æœæŒ‰é’®å¤ªå¤šå¯ä»¥æ¢è¡Œ */
}

/* å•ä¸ªæ ¼å¼åŠ©æ‰‹æŒ‰é’®çš„æ ·å¼ */
.format-btn {
    background-color: #e9ecef;
    color: var(--text-primary);
    border: none;
    padding: 6px 12px;
    border-radius: 16px; /* èƒ¶å›Šå½¢çŠ¶ï¼Œæ›´å‹å¥½ */
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: background-color 0.2s;
}

.format-btn:hover {
    background-color: #dcdfe3;
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°CSSç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* â€œâ€¦â€æŒ‰é’®çš„æ ·å¼ */
.post-actions-btn {
    margin-left: auto; /* å…³é”®ï¼šè®©å®ƒè‡ªåŠ¨é åˆ°æœ€å³è¾¹ */
    padding: 5px 10px;
    font-size: 20px;
    font-weight: bold;
    color: var(--text-secondary);
    cursor: pointer;
    border-radius: 50%;
    line-height: 1;
}
.post-actions-btn:hover {
    background-color: #f0f0f0;
}

/* åŠ¨æ€ç¼–è¾‘æ¨¡æ€æ¡†çš„æ ·å¼ (å®ƒå°†å¤ç”¨ç°æœ‰çš„æ“ä½œèœå•æ ·å¼) */
#post-actions-modal .custom-modal-footer button {
    width: 100%;
    border: none;
    border-bottom: 1px solid #dbdbdb;
    padding: 14px;
    font-size: 18px;
}
#post-actions-modal .custom-modal-footer button:last-child {
    border-bottom: none;
}
#post-actions-modal #cancel-post-action-btn {
    margin-top: 8px;
    border-radius: 8px;
    background-color: #f0f0f0;
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* ç»Ÿä¸€é‡ç½®è½¬è´¦å¡ç‰‡å†…æ‰€æœ‰æ–‡å­—çš„ç‰¹æ•ˆå’Œé¢œè‰² */
#chat-messages .transfer-card .transfer-title,
#chat-messages .transfer-card .transfer-amount,
#chat-messages .transfer-card .transfer-note {
    text-shadow: none !important; /* å¼ºåˆ¶ç§»é™¤ä»»ä½•å‘å…‰æˆ–é˜´å½±æ•ˆæœ */
    color: white !important;      /* å¼ºåˆ¶é”å®šæ–‡å­—é¢œè‰²ä¸ºç™½è‰² */
}

/* åˆ†åˆ«é”å®šå„è‡ªçš„å­—ä½“å¤§å°å’Œå­—é‡ï¼Œé˜²æ­¢è¢«ç¯¡æ”¹ */
#chat-messages .transfer-card .transfer-title {
    font-size: 16px !important;
    font-weight: 600 !important;
}

#chat-messages .transfer-card .transfer-amount {
    font-size: 28px !important;
    font-weight: bold !important;
}

#chat-messages .transfer-card .transfer-note {
    font-size: 13px !important;
    opacity: 0.9 !important;
}

/* â–¼â–¼â–¼ è¿™æ˜¯æ–°å¢çš„æ ·å¼ï¼Œç”¨äºä¿®æ­£æ‰€æœ‰å¤´éƒ¨æ ‡é¢˜çš„å±…ä¸­é—®é¢˜ â–¼â–¼â–¼ */
.header > span:nth-child(2),
#chat-header-title {
    position: absolute;
    left: 50%;
    transform: translateX(calc(-50% - 2px)); /* åœ¨-50%çš„åŸºç¡€ä¸Šï¼Œå†å‘å·¦æ¨2åƒç´  */
    
    /* (å¯é€‰ä½†æ¨è) é˜²æ­¢é•¿æ ‡é¢˜ä¸ä¸¤è¾¹æŒ‰é’®é‡å  */
    max-width: 60%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¯è§†åŒ–æ¶ˆæ¯ç¼–è¾‘å™¨æ ·å¼ â–¼â–¼â–¼ */
#message-editor-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.message-editor-block {
    background-color: #f9f9f9;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 12px;
}

.message-editor-block textarea {
    width: 100%;
    min-height: 60px;
    resize: vertical;
    border: 1px solid #ccc;
    border-radius: 6px;
    padding: 8px;
    font-size: 14px;
    box-sizing: border-box;
}

.message-editor-block .format-helpers {
    margin-top: 8px;
    margin-bottom: 0; /* è¦†ç›–é»˜è®¤çš„ margin-bottom */
}

.message-editor-block .delete-block-btn {
    float: right;
    margin-top: -5px;
    background: none;
    border: none;
    color: #ff3b30;
    font-size: 20px;
    cursor: pointer;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è”ç³»äººé€‰æ‹©å™¨æ ·å¼ â–¼â–¼â–¼ */
.contact-picker-item {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    cursor: pointer;
    border-bottom: 1px solid var(--border-color);
}
.contact-picker-item .checkbox {
    width: 20px;
    height: 20px;
    border: 2px solid #ccc;
    border-radius: 50%;
    margin-right: 15px;
    transition: all 0.2s ease;
}
.contact-picker-item.selected .checkbox {
    background-color: var(--accent-color);
    border-color: var(--accent-color);
    content: 'âœ”';
    color: white;
    font-size: 14px;
    text-align: center;
    line-height: 20px;
}
.contact-picker-item .avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    margin-right: 12px;
}
.contact-picker-item .name {
    font-weight: 500;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ç¾¤æˆå‘˜ç®¡ç†ç•Œé¢æ ·å¼ â–¼â–¼â–¼ */
#member-management-list {
    padding: 0; /* ç§»é™¤é»˜è®¤paddingï¼Œè®©åˆ—è¡¨é¡¹æ’‘æ»¡ */
}

.member-management-item {
    display: flex;
    align-items: center;
    padding: 12px 15px;
    border-bottom: 1px solid var(--border-color);
}

.member-management-item .avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    margin-right: 12px;
}

.member-management-item .name {
    flex-grow: 1;
    font-weight: 500;
}

.member-management-item .remove-member-btn {
    background-color: #ff3b30;
    color: white;
    border: none;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    font-size: 20px;
    line-height: 28px;
    text-align: center;
    cursor: pointer;
    flex-shrink: 0;
}

#member-management-actions {
    flex-shrink: 0;
    padding: 15px;
    border-top: 1px solid var(--border-color);
    background-color: #f7f7f7;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

#member-management-actions button {
    width: 100%;
    padding: 15px;
    background-color: var(--accent-color);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
}
#member-management-actions #create-new-member-btn {
    background-color: #4cd964; /* æ–°å»ºç”¨ç»¿è‰²ï¼Œä»¥ç¤ºåŒºåˆ† */
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¤–å–ä»£ä»˜å¡ç‰‡æ ·å¼ â–¼â–¼â–¼ */
.message-bubble.is-waimai-request .content {
    padding: 0;
    background: transparent;
    box-shadow: none;
    border: none;
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}

.waimai-card {
    width: 240px;
    border-radius: 12px;
    overflow: hidden;
    background-color: #fff;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}

.waimai-header {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 12px;
    border-bottom: 1px solid #f0f0f0;
}

.waimai-header .icon {
    width: 20px;
    height: 20px;
}

.waimai-header .title-group {
    display: flex;
    align-items: baseline;
    font-size: 14px;
    color: #8a8a8a;
}
.waimai-header .title-group .brand {
    font-weight: 600;
    color: #555;
    margin-right: 5px;
}
.waimai-header .title-group .separator {
    margin: 0 5px;
}

.waimai-catchphrase {
    font-size: 13px;
    color: #1f1f1f;
    padding: 12px;
}

.waimai-main {
    background-color: #FFD66B; /* æ©™é»„è‰²èƒŒæ™¯ */
    padding: 12px;
    text-align: center;
}

.waimai-main .request-title {
    font-size: 12px;
    color: #856404;
    margin-bottom: 8px;
}

.waimai-main .payment-box {
    background-color: #fff;
    border-radius: 8px;
    padding: 15px 10px;
}

.waimai-main .payment-label {
    font-size: 13px;
    color: #8a8a8a;
}

.waimai-main .amount {
    font-size: 32px;
    font-weight: 700;
    color: #1f1f1f;
    margin: 4px 0 12px 0;
}

.waimai-main .countdown-label {
    font-size: 13px;
    color: #8a8a8a;
}
.waimai-main .countdown-timer {
    display: inline-flex;
    align-items: center;
    gap: 2px;
    margin-left: 5px;
}
.waimai-main .countdown-timer span {
    background-color: #333;
    color: white;
    padding: 2px 4px;
    border-radius: 2px;
    font-weight: bold;
    font-size: 12px;
}

.waimai-details-btn {
    width: 100%;
    padding: 10px 0;
    margin-top: 15px;
    border: none;
    border-radius: 6px;
    background-color: #FFC33A;
    color: #49380a;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¤–å–å“åº”çŠ¶æ€æ ·å¼ â–¼â–¼â–¼ */

/* === åŒæ„æ”¯ä»˜åçš„æ ·å¼ === */
.message-bubble.status-paid .waimai-card {
    border: 2px solid #28a745; /* ç»¿è‰²è¾¹æ¡† */
}
.message-bubble.status-paid .waimai-main .request-title::before {
    content: 'âœ…  ';
}
.message-bubble.status-paid .waimai-main .request-title {
    color: #155724;
    font-weight: 600;
    /* é‡å†™ request-title çš„å†…å®¹ */
    content: "æˆ‘å·²ä¸ºæ‚¨ä¹°å•ï¼Œè¯·å°½æƒ…äº«ç”¨å§ï½" !important;
    display: block;
    margin-bottom: 15px;
}

.message-bubble.status-paid .payment-box {
    display: none; /* éšè—æ”¯ä»˜è¯¦æƒ… */
}
.message-bubble.status-paid .waimai-details-btn {
    background-color: #28a745;
    color: white;
}

/* === æ‹’ç»æ”¯ä»˜åçš„æ ·å¼ === */
.message-bubble.status-rejected .waimai-card {
    border: 2px solid #dc3545; /* çº¢è‰²è¾¹æ¡† */
    opacity: 0.8;
}
.message-bubble.status-rejected .waimai-main {
    background-color: #e9ecef;
}
.message-bubble.status-rejected .waimai-main .request-title::before {
    content: 'âŒ ';
}
.message-bubble.status-rejected .waimai-main .request-title {
    color: #721c24;
    font-weight: 600;
    /* é‡å†™ request-title çš„å†…å®¹ */
    content: "æˆ‘æ‹’ç»äº†æ‚¨çš„ä»£ä»˜è¯·æ±‚" !important;
    display: block;
    margin-bottom: 15px;
}
.message-bubble.status-rejected .payment-box {
    display: none; /* éšè—æ”¯ä»˜è¯¦æƒ… */
}
 .message-bubble.status-rejected .waimai-details-btn {
    background-color: #6c757d;
    color: white;
}

/* å¼ºåˆ¶é‡å†™ request-title å†…å®¹çš„æŠ€å·§ */
.message-bubble[class*="status-"] .request-title {
    font-size: 0; /* éšè—åŸå§‹æ–‡æœ¬ */
}
.message-bubble[class*="status-"] .request-title::after {
    font-size: 14px; /* è®©ä¼ªå…ƒç´ æ˜¾ç¤ºæ–°æ–‡æœ¬ */
}
.message-bubble.status-paid .request-title::after {
    content: "æˆ‘å·²ä¸ºæ‚¨ä¹°å•ï¼Œè¯·å°½æƒ…äº«ç”¨å§ï½";
}
.message-bubble.status-rejected .request-title::after {
    content: "æˆ‘æ‹’ç»äº†æ‚¨çš„ä»£ä»˜è¯·æ±‚";
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¤–å–è¯·æ±‚çš„ç”¨æˆ·æ“ä½œæŒ‰é’®æ ·å¼ â–¼â–¼â–¼ */
.waimai-user-actions {
    display: flex;
    gap: 10px;
    padding: 0 12px 12px 12px; /* åœ¨å¡ç‰‡åº•éƒ¨ç•™å‡ºç©ºé—´ */
    background-color: #fff;
}

.waimai-user-actions button {
    flex: 1;
    padding: 10px;
    border-radius: 8px;
    border: 1.5px solid;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.waimai-pay-btn {
    background-color: #28a745;
    border-color: #1f7a33;
    color: white;
}
.waimai-pay-btn:hover {
    background-color: #218838;
}

.waimai-decline-btn {
    background-color: #f8f9fa;
    border-color: #ced4da;
    color: #495057;
}
.waimai-decline-btn:hover {
    background-color: #e2e6ea;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* === ã€æ–°å¢ã€‘ç»Ÿä¸€è®¾ç½®é¡µé¢çš„èƒŒæ™¯è‰² (å·²ä¿®æ­£) === */
#api-settings-screen,
#font-settings-screen,
#wallpaper-screen,
#memories-view,
#contact-picker-screen,
#member-management-screen,
#world-book-editor-screen {  
    background-color: var(--secondary-bg);
}

/* ç¡®ä¿è¿™äº›é¡µé¢çš„å†…å®¹åŒºèƒ½æ­£ç¡®æ»šåŠ¨ */
#api-settings-screen .form-container,
#font-settings-screen .form-container,
#wallpaper-screen .form-container {
    padding-top: 100px;
    margin-top: -80px;
    background-color: var(--secondary-bg);
}

/* å£çº¸è®¾ç½®é¡µé¢çš„é¢„è§ˆåŒºæ¯”è¾ƒç‰¹æ®Šï¼Œéœ€è¦é¢å¤–è°ƒæ•´ */
#wallpaper-screen .form-container {
    align-items: center; /* ä¿æŒå†…å®¹å±…ä¸­ */
}

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æ¥ç”µè¯·æ±‚ä¸è§†é¢‘é€šè¯ç•Œé¢æ ·å¼ â–¼â–¼â–¼ */

/* --- æ¥ç”µè¯·æ±‚æ¨¡æ€æ¡† --- */
#incoming-call-modal .incoming-call-content {
    background-color: rgba(40, 40, 40, 0.85);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-radius: 20px;
    width: 280px;
    padding: 30px 20px;
    text-align: center;
    color: white;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}

.caller-avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    object-fit: cover;
    margin-bottom: 12px;
    border: 3px solid rgba(255,255,255,0.5);
}

.caller-name {
    font-size: 20px;
    font-weight: 600;
    margin-bottom: 5px;
}

.caller-text {
    font-size: 14px;
    color: #ccc;
    margin-bottom: 30px;
}

.incoming-call-actions {
    display: flex;
    justify-content: space-around;
    align-items: center;
}

.action-button-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    color: #e0e0e0;
}

.call-action-btn {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    background-size: 50%;
    background-repeat: no-repeat;
    background-position: center;
    transition: transform 0.2s, box-shadow 0.2s;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}
.call-action-btn:active {
    transform: scale(0.9);
}

.call-action-btn.decline {
    background-color: #ff3b30;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13.5 16.5L3 6m18 6l-5.6-5.6a1.2 1.2 0 0 0-1.7 0L3 18.2a1.2 1.2 0 0 0-.3 1.2l1.2 3.6a1.2 1.2 0 0 0 1.2.9h15.6a1.2 1.2 0 0 0 1.2-1.2V7.7a1.2 1.2 0 0 0-.3-1.1z"/></svg>');
}

.call-action-btn.accept {
    background-color: #4cd964;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>');
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0% { box-shadow: 0 0 0 0 rgba(76, 217, 100, 0.7); }
    70% { box-shadow: 0 0 0 15px rgba(76, 217, 100, 0); }
    100% { box-shadow: 0 0 0 0 rgba(76, 217, 100, 0); }
}

/* --- è§†é¢‘é€šè¯ç•Œé¢ --- */
/* â–¼â–¼â–¼ è¯·ç”¨è¿™ä¸€æ•´å—ã€æœ€ç»ˆä¿®æ­£ç‰ˆã€‘çš„ä»£ç ï¼Œæ›¿æ¢æ‰€æœ‰æ—§çš„ video-call ç›¸å…³CSS â–¼â–¼â–¼ */

/* 1. é€šè¯å±å¹•æ€»å®¹å™¨ (ä¿æŒä¸å˜) */
#video-call-screen {
    background-color: #1c1c1e;
    color: white;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* 2. é¡¶éƒ¨æ å’Œåº•éƒ¨æ§åˆ¶æ  (ä¿æŒä¸å˜) */
.video-call-top-bar {
    position: absolute;
    top: 0; left: 0; width: 100%;
    padding: 15px 20px;
    padding-top: 50px;
    background: linear-gradient(to bottom, rgba(0,0,0,0.5), transparent);
    z-index: 10;
    text-align: center;
    box-sizing: border-box;
    pointer-events: none;
}
#call-timer {
    font-size: 16px;
    font-weight: 500;
    letter-spacing: 1px;
}
.video-call-controls {
    position: absolute;
    bottom: 0; left: 0; width: 100%;
    display: flex;
    justify-content: space-around;
    align-items: center;
    padding: 20px;
    padding-bottom: 40px;
    background: linear-gradient(to top, rgba(0,0,0,0.5), transparent);
    z-index: 10;
    box-sizing: border-box;
}

/* 3. å‚ä¸è€…å¤´åƒæ˜¾ç¤ºåŒº (ä¿æŒä¸å˜) */
.video-call-avatar-area {
    flex-grow: 1; 
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
    padding-top: 80px; /* ç¡®ä¿é¡¶éƒ¨æœ‰è¶³å¤Ÿç©ºé—´ */
    box-sizing: border-box;
    overflow-y: auto; /* â˜… æ–°å¢ï¼šå¦‚æœå¤´åƒå¤ªå¤šï¼Œå…è®¸æ­¤åŒºåŸŸæ»šåŠ¨ */
}

/* 4. å¤´åƒç½‘æ ¼å®¹å™¨ (ä¿æŒä¸å˜) */
#participant-avatars-grid {
    display: flex;
    flex-wrap: wrap; 
    justify-content: center;
    align-items: center;
    gap: 15px; /* â˜… ç¨å¾®å‡å°å¤´åƒé—´è· */
    max-width: 100%;
}

/* 5. å•ä¸ªå‚ä¸è€…çš„å¤´åƒå®¹å™¨ (å¤´åƒç¼©å°) */
.participant-avatar-wrapper {
    position: relative;
    text-align: center;
    flex-shrink: 0;
}
.participant-avatar {
    width: 70px;   /* â˜… ä» 80px ç¼©å°åˆ° 70px */
    height: 70px;  /* â˜… ä» 80px ç¼©å°åˆ° 70px */
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid rgba(255, 255, 255, 0.2);
    transition: all 0.3s ease;
}
.participant-name {
    margin-top: 8px;
    font-size: 12px;
    color: #ccc;
}

/* 6. å‘è¨€è€…å¤´åƒé«˜äº®æ•ˆæœ (ä¿æŒä¸å˜) */
.participant-avatar.speaking {
    border-color: #4cd964;
    box-shadow: 0 0 20px rgba(76, 217, 100, 0.6);
    transform: scale(1.05);
}

/* 7. ã€æœ€ç»ˆç‰ˆã€‘å¯¹è¯æ¡†åŒºåŸŸ */
#video-call-main {
    flex-shrink: 0; 
    height: 30%;   /* â˜… æ ¸å¿ƒä¿®æ”¹ï¼šé«˜åº¦ä»35%å‡å°åˆ°30% */
    margin: 15px 15px 130px 15px; /* â˜… æ ¸å¿ƒä¿®æ”¹ï¼šåº•éƒ¨è¾¹è·ä»120pxå¢åŠ åˆ°130pxï¼Œåˆ›é€ æ˜æ˜¾ç©ºéš™ */
    overflow-y: auto;
    padding: 15px;
    background-color: rgba(255, 255, 255, 0.05);
    border-radius: 20px;
    display: flex;
    flex-direction: column;
    gap: 15px;
    box-sizing: border-box;
}

/* 8. æ§åˆ¶æŒ‰é’®æ ·å¼ (ä¿æŒä¸å˜) */
.control-btn {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    background-repeat: no-repeat;
    background-position: center;
    transition: transform 0.2s, background-color 0.2s;
}
.control-btn:active {
    transform: scale(0.9);
}
.control-btn.speak-btn {
    background-color: rgba(255,255,255,0.2);
    background-size: 55%;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg>');
}
.control-btn.hangup-btn {
    background-color: #ff3b30;
    background-size: 50%;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13.5 16.5L3 6m18 6l-5.6-5.6a1.2 1.2 0 0 0-1.7 0L3 18.2a1.2 1.2 0 0 0-.3 1.2l1.2 3.6a1.2 1.2 0 0 0 1.2.9h15.6a1.2 1.2 0 0 0 1.2-1.2V7.7a1.2 1.2 0 0 0-.3-1.1z"/></svg>');
}
.control-btn.join-btn {
    background-color: #007bff;
    background-size: 50%;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="17" y1="11" x2="23" y2="11"></line></svg>');
}

/* â–²â–²â–² æ–°CSSæ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è§†é¢‘é€šè¯å¯¹è¯æ°”æ³¡æ ·å¼ â–¼â–¼â–¼ */
.call-message-bubble {
    padding: 10px 15px;
    border-radius: 12px;
    max-width: 85%;
    line-height: 1.6;
    word-break: break-word;
    white-space: pre-wrap;
}

.call-message-bubble.ai-speech {
    background-color: rgba(255, 255, 255, 0.15);
    align-self: flex-start; /* AIå‘è¨€é å·¦ */
}

.call-message-bubble.user-speech {
    background-color: #4cd964; /* ç”¨æˆ·å‘è¨€ç”¨ç»¿è‰²ï¼Œç±»ä¼¼å¾®ä¿¡ */
    align-self: flex-end;   /* ç”¨æˆ·å‘è¨€é å³ */
    text-align: left; /* ç¡®ä¿ç”¨æˆ·æ°”æ³¡å†…çš„æ–‡å­—æ˜¯å·¦å¯¹é½çš„ */
}
/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°æ·»åŠ ã€‘æ­£åœ¨å‘¼å«ç•Œé¢æ ·å¼ â–¼â–¼â–¼ */
#outgoing-call-screen {
    background-color: #1c1c1e;
    color: white;
    justify-content: center; /* å‚ç›´å±…ä¸­ */
    align-items: center;   /* æ°´å¹³å±…ä¸­ */
}

.outgoing-call-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

.outgoing-call-actions {
    margin-top: 50px; /* å’Œä¸Šæ–¹æ–‡å­—æ‹‰å¼€è·ç¦» */
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    color: #e0e0e0;
}
/* â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–² */

/* 1. åŠ¨æ€å¸–å­çš„å¤–å±‚å®¹å™¨ï¼Œæˆ‘ä»¬éœ€è¦å®ƒæ¥å®šä½å’Œè£å‰ª */
.qzone-post-container {
    position: relative; /* è®©å†…éƒ¨çš„åˆ é™¤æŒ‰é’®å¯ä»¥ç›¸å¯¹äºå®ƒå®šä½ */
    overflow: hidden;   /* éšè—æ‰è¶…å‡ºéƒ¨åˆ†çš„åˆ é™¤æŒ‰é’® */
    border-radius: 12px;/* å’Œå†…éƒ¨å¡ç‰‡ä¿æŒä¸€è‡´çš„åœ†è§’ */
}

/* 2. å¯æ»‘åŠ¨çš„å†…å®¹å¡ç‰‡ï¼Œå¢åŠ ä¸€ä¸ªå¹³æ»‘çš„è¿‡æ¸¡æ•ˆæœ */
.qzone-post-item {
    transition: transform 0.3s ease;
    background-color: var(--secondary-bg); /* ç¡®ä¿å®ƒæœ‰èƒŒæ™¯è‰²ï¼Œèƒ½ç›–ä½ä¸‹é¢çš„åˆ é™¤æŒ‰é’® */
    position: relative; /* ç¡®ä¿å®ƒåœ¨æœ€ä¸Šå±‚ */
    z-index: 2;
}

/* 3. ã€æ ¸å¿ƒã€‘è¿™å°±æ˜¯é‚£ä¸ªâ€œåˆ é™¤â€æŒ‰é’®çš„æ ·å¼ï¼*/
.qzone-post-delete-action {
    position: absolute; /* ç»å¯¹å®šä½ï¼Œè„±ç¦»æ–‡æ¡£æµ */
    top: 0;
    right: 0;
    bottom: 0;
    width: 90px; /* åˆ é™¤æŒ‰é’®çš„å®½åº¦ */
    background-color: #ff3b30; /* æ‚¨æƒ³è¦çš„çº¢è‰²èƒŒæ™¯ */
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 500;
    cursor: pointer;
    z-index: 1; /* ç¡®ä¿å®ƒåœ¨å¡ç‰‡ä¸‹é¢ */
}

/* 4. å½“å¡ç‰‡å·¦æ»‘æ—¶ï¼ŒæŠŠå®ƒå‘å·¦ç§»åŠ¨ï¼Œéœ²å‡ºåˆ é™¤æŒ‰é’® */
.qzone-post-item.swiped {
    transform: translateX(-90px); /* ç§»åŠ¨çš„è·ç¦»å’Œåˆ é™¤æŒ‰é’®çš„å®½åº¦ä¸€è‡´ */
}

/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™ã€ä¸€æ•´å—ã€‘å…¨æ–°çš„â€œæ‹ä¸€æ‹â€æ ·å¼ï¼Œç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* 1. â€œæ‹ä¸€æ‹â€çš„å±å¹•éœ‡åŠ¨åŠ¨ç”» */
@keyframes pat-shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-3px); }
    20%, 40%, 60%, 80% { transform: translateX(3px); }
}

.pat-animation {
    animation: pat-shake 0.4s ease-in-out;
}

/* 2. â€œæ‹ä¸€æ‹â€ç³»ç»Ÿæç¤ºæ¶ˆæ¯çš„æ ·å¼ */
.system-message {
    align-self: center; /* å±…ä¸­æ˜¾ç¤º */
    padding: 4px 12px;
    margin: 5px 0;
    background-color: rgba(0, 0, 0, 0.1);
    color: var(--text-secondary);
    font-size: 12px;
    border-radius: 10px;
    text-align: center;
    max-width: 80%;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* è®©â€œæ‹ä¸€æ‹â€ç±»å‹çš„ wrapper å±…ä¸­ */
.message-wrapper.system-pat {
    justify-content: center;
    align-self: center;
    margin: 5px 0;
    max-width: 80%;
}
/* â€œæ‹ä¸€-æ‹â€æ¶ˆæ¯æ°”æ³¡çš„æ ·å¼ */
.message-bubble.system-bubble {
    background-color: rgba(0, 0, 0, 0.1);
    color: var(--text-secondary);
    font-size: 12px;
    padding: 4px 12px;
    border-radius: 10px;
}

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°CSSç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === ä¿®æ­£ï¼šè®©é¡¶éƒ¨æ“ä½œæ å¯ä»¥æ¨ªå‘æ»šåŠ¨ === */
#chat-input-actions-top {
    display: flex;
    gap: 8px;
    padding: 0 5px;

    /* --- æ ¸å¿ƒä»£ç å¼€å§‹ --- */
    overflow-x: auto;      
    flex-wrap: nowrap;     
    -webkit-overflow-scrolling: touch; 

    scrollbar-width: none; 
    -ms-overflow-style: none;  
}

#chat-input-actions-top::-webkit-scrollbar {
    display: none; 
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* === ã€å…¨æ–°ã€‘èŠå¤©ç•Œé¢å¤´éƒ¨çŠ¶æ€æ æ ·å¼ === */

/* 1. æ ‡é¢˜å’ŒçŠ¶æ€çš„æ€»å®¹å™¨ï¼Œä½¿ç”¨flexå¸ƒå±€è®©å®ƒä»¬å‚ç›´æ’åˆ— */
#chat-header-title-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center; /* æ°´å¹³å±…ä¸­ */
    gap: 2px; /* æ ‡é¢˜å’ŒçŠ¶æ€ä¹‹é—´çš„å¾®å°é—´è· */
    
    /* ä¸ºäº†è®©å®ƒèƒ½åœ¨flexå¸ƒå±€ä¸­æ­£ç¡®å±…ä¸­ */
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    max-width: 60%;
}

/* 2. ä¸»æ ‡é¢˜çš„æ ·å¼å¾®è°ƒ */
#chat-header-title {
    font-size: 16px; /* å¯ä»¥ç¨å¾®ç¼©å°ä¸€ç‚¹ï¼Œç»™çŠ¶æ€æ ç•™å‡ºç©ºé—´ */
    font-weight: 600;
    position: static; /* è¦†ç›–æ‰æ—§çš„absoluteå®šä½ */
    transform: none;  /* è¦†ç›–æ‰æ—§çš„transform */
    /* ä¿è¯é•¿æ ‡é¢˜ä¹Ÿèƒ½æ­£ç¡®æ˜¾ç¤ºçœç•¥å· */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
}

/* 3. çŠ¶æ€æ å®¹å™¨ */
#chat-header-status {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 11px;
    color: var(--text-secondary);
    transition: all 0.3s ease;
}

/* 4. çŠ¶æ€å°åœ†ç‚¹ */
.status-dot {
    width: 7px;
    height: 7px;
    border-radius: 50%;
    background-color: #4cd964; /* é»˜è®¤ç»¿è‰²ï¼Œä»£è¡¨åœ¨çº¿ */
    transition: background-color 0.3s ease;
}

/* å½“AIçŠ¶æ€ä¸ºâ€œå¿™ç¢Œâ€æˆ–â€œç¦»å¼€â€æ—¶ï¼Œè®©åœ†ç‚¹å˜ç°è‰² */
#chat-header-status.busy .status-dot {
    background-color: #cccccc;
}

/* 5. çŠ¶æ€æ–‡æœ¬ */
.status-text {
    font-weight: 500;
}

/* === ã€å…¨æ–°ç¾åŒ–ç‰ˆã€‘å›å¿†å¡ç‰‡æ ·å¼ === */

/* 1. å¡ç‰‡æ€»å®¹å™¨ï¼šè¿™é‡Œè´Ÿè´£å®šä¹‰æ•´ä½“çš„èƒŒæ™¯è‰²å’Œè¾¹æ¡† */
.memory-card {
    background-color: #fffaf0; /* ç»Ÿä¸€çš„ã€æ¸©æš–çš„ç±³é»„è‰²èƒŒæ™¯ */
    border-radius: 12px;
    padding: 15px; /* åœ¨å¡ç‰‡å››å‘¨ç•™å‡ºå†…è¾¹è· */
    box-shadow: 0 2px 6px rgba(0,0,0,0.07);
    border-left: 5px solid #ffb74d; 
    display: flex; /* è®©å®ƒæˆä¸ºflexå®¹å™¨ï¼Œæ–¹ä¾¿å†…éƒ¨å…ƒç´ æ’åˆ— */
    flex-direction: column; /* è®©å¤´éƒ¨å’Œå†…å®¹å‚ç›´å †å  */
    gap: 8px; /* åœ¨å¤´éƒ¨å’Œå†…å®¹ä¹‹é—´åˆ›é€ ä¸€ä¸ªè‡ªç„¶çš„é—´è· */
}

/* 2. å¤´éƒ¨å®¹å™¨ï¼šç°åœ¨åªè´Ÿè´£å¸ƒå±€å’Œåˆ†å‰²çº¿ */
.memory-card .header {
    border-bottom: 1px solid rgba(217, 129, 0, 0.15); /* åˆ†å‰²çº¿é¢œè‰²å¯ä»¥ç¨å¾®åŠ æ·±ä¸€ç‚¹ */
    padding-bottom: 8px; 
}

/* 3. æ—¥æœŸæ ·å¼ (ä¿æŒä¸å˜) */
.memory-card .header .date {
    font-size: 11px;
    color: #a1887f;
    margin-bottom: 4px; 
}

/* 4. ä½œè€…æ ·å¼ (ä¿æŒä¸å˜) */
.memory-card .header .author {
    font-weight: 600;
    color: #d98100;
    font-size: 15px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* 5. å†…å®¹åŒºæ ·å¼ (ä¿æŒä¸å˜) */
.memory-card .content {
    font-size: 14px;
    line-height: 1.7;
    color: #5d4037;
    white-space: pre-wrap;
}

/* === ã€å…¨æ–°ã€‘çº¦å®š/å€’è®¡æ—¶å¡ç‰‡æ ·å¼ === */
.countdown-card {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 15px rgba(118, 75, 162, 0.4);
    text-align: center;
    position: relative;
    overflow: hidden;
    flex-shrink: 0;
}
.countdown-card::before {
    content: 'âœ¨';
    position: absolute;
    top: -10px;
    left: -10px;
    font-size: 50px;
    opacity: 0.1;
    transform: rotate(-15deg);
}
.countdown-card .title {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 15px;
}
.countdown-card .timer {
    font-size: 28px;
    font-weight: 300;
    letter-spacing: 2px;
    margin-bottom: 15px;
}
.countdown-card .target-date {
    font-size: 12px;
    opacity: 0.8;
    border-top: 1px solid rgba(255,255,255,0.2);
    padding-top: 10px;
}

/* === ã€å…¨æ–°ã€‘èŠå¤©é”å®šé®ç½©å±‚æ ·å¼ === */
#chat-lock-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    background-color: rgba(247, 247, 247, 0.9);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    z-index: 150; /* æ¯”è¾“å…¥æ¡†é«˜ï¼Œæ¯”è´´çº¸é¢æ¿ä½ */
    display: none; /* é»˜è®¤éšè— */
    align-items: center;
    justify-content: center;
    padding: 20px;
    box-sizing: border-box;
    border-top: 1px solid var(--border-color);
    text-align: center;
}
#chat-lock-content {
    display: flex;
    flex-direction: column;
    gap: 15px;
}
#chat-lock-content .lock-text {
    color: var(--text-secondary);
    font-size: 14px;
}
#chat-lock-content .lock-action-btn {
    padding: 10px 20px;
    border-radius: 20px;
    border: 1px solid var(--accent-color);
    background-color: var(--accent-color);
    color: white;
    cursor: pointer;
}
#chat-lock-content .lock-action-btn.secondary {
    background-color: transparent;
    color: var(--accent-color);
}

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘çº¢åŒ…å¡ç‰‡æ ·å¼ â–¼â–¼â–¼ */
.message-bubble.is-red-packet .content {
    padding: 0;
    background: transparent;
    box-shadow: none;
    border: none;
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}

.red-packet-card {
    width: 220px;
    border-radius: 8px;
    background: linear-gradient(160deg, #F96259, #E44D44);
    color: #ffd700; /* é‡‘è‰²æ–‡å­— */
    padding: 12px;
    cursor: pointer;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    position: relative;
    overflow: hidden;
}

.red-packet-card.opened {
    background: linear-gradient(160deg, #d3c4a0, #c4b693);
    cursor: default;
}

.red-packet-card::before {
    content: 'ğŸ§§';
    position: absolute;
    top: -5px;
    left: -5px;
    font-size: 30px;
    opacity: 0.2;
    transform: rotate(-10deg);
}

.rp-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
}

.rp-icon {
    width: 20px;
    height: 20px;
}

.rp-greeting {
    font-size: 15px;
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.rp-type {
    font-size: 11px;
    color: white;
    opacity: 0.8;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
    padding-top: 8px;
    margin-top: 8px;
}

.rp-claimed-info {
    font-size: 13px;
    color: white;
    margin-top: 10px;
    padding-top: 10px;
    border-top: 1px solid rgba(255,255,255,0.3);
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘çº¢åŒ…è¯¦æƒ…åˆ—è¡¨æ ·å¼ â–¼â–¼â–¼ */
.rp-details-item {
    display: flex;
    align-items: center;
    padding: 8px 0;
    border-bottom: 1px solid #eee;
}
.rp-details-item:last-child {
    border-bottom: none;
}
.rp-details-item .name {
    flex-grow: 1;
    font-weight: 500;
    color: #333;
}
.rp-details-item .amount {
    font-weight: 500;
    color: #555;
}
.rp-details-item .lucky-king-tag {
    font-size: 10px;
    background-color: #ffd700;
    color: #a67c00;
    padding: 2px 5px;
    border-radius: 4px;
    margin-left: 8px;
    font-weight: bold;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æŠ•ç¥¨åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* æŠ•ç¥¨å¡ç‰‡åœ¨æ¶ˆæ¯æ°”æ³¡ä¸­çš„æ ·å¼ */
.message-bubble.is-poll .content {
    padding: 0;
    background: transparent;
    box-shadow: none;
    border: none;
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}

/* æŠ•ç¥¨å¡ç‰‡ä¸»ä½“ */
.poll-card {
    width: 250px;
    background-color: #f9f9f9;
    border-radius: 10px;
    border: 1px solid #e0e0e0;
    padding: 12px;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

.poll-card.closed {
    background-color: #e9ecef; /* ç»“æŸåå˜ç° */
}

/* æŠ•ç¥¨é—®é¢˜ */
.poll-question {
    font-weight: 600;
    font-size: 15px;
    margin-bottom: 12px;
    line-height: 1.4;
    word-break: break-word;
}

/* æŠ•ç¥¨é€‰é¡¹åˆ—è¡¨ */
.poll-options-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

/* å•ä¸ªæŠ•ç¥¨é€‰é¡¹ */
.poll-option-item {
    background-color: white;
    border: 1px solid #dcdcdc;
    border-radius: 8px;
    padding: 10px;
    cursor: pointer;
    position: relative;
    overflow: hidden;
    transition: background-color 0.2s;
}

.poll-card:not(.closed) .poll-option-item:hover {
    background-color: #f0f8ff;
}

/* ç”¨æˆ·å·²æŠ•ç¥¨çš„é€‰é¡¹æ ·å¼ */
.poll-option-item.voted {
    border-color: var(--accent-color);
    background-color: #e7f3ff;
    font-weight: 500;
}

/* æŠ•ç¥¨è¿›åº¦æ¡ */
.poll-option-bar {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    background-color: rgba(0, 123, 255, 0.1);
    z-index: 1;
    transition: width 0.3s ease-in-out;
}

/* é€‰é¡¹å†…å®¹ï¼ˆæ–‡å­—å’Œç¥¨æ•°ï¼‰ï¼Œç¡®ä¿åœ¨è¿›åº¦æ¡ä¹‹ä¸Š */
.poll-option-content {
    position: relative;
    z-index: 2;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.poll-option-text {
    font-size: 14px;
}

.poll-option-votes {
    font-size: 13px;
    color: #8a8a8a;
    font-weight: 500;
}

/* æŠ•ç¥¨å¡ç‰‡åº•éƒ¨ */
.poll-footer {
    margin-top: 12px;
    padding-top: 8px;
    border-top: 1px solid #e9e9e9;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 12px;
    color: var(--text-secondary);
}

.poll-total-votes {
    font-weight: 500;
}

.poll-action-btn {
    background: none;
    border: 1px solid var(--accent-color);
    color: var(--accent-color);
    padding: 4px 10px;
    border-radius: 15px;
    cursor: pointer;
    font-size: 12px;
}
.poll-card.closed .poll-action-btn {
    background-color: #6c757d;
    color: white;
    border-color: #6c757d;
}

/* åˆ›å»ºæŠ•ç¥¨æ¨¡æ€æ¡†çš„é€‰é¡¹è¾“å…¥ */
.poll-option-input-wrapper {
    display: flex;
    align-items: center;
    gap: 8px;
}
.poll-option-input-wrapper input {
    flex-grow: 1;
}
.poll-option-input-wrapper .remove-option-btn {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background-color: #f0f0f0;
    color: #ff3b30;
    border: none;
    cursor: pointer;
    font-size: 18px;
    line-height: 28px;
    text-align: center;
    flex-shrink: 0;
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* === ã€å…¨æ–°ã€‘èŠå¤©å¤´éƒ¨â€œæ­£åœ¨è¾“å…¥â€çŠ¶æ€æ ·å¼ === */
#chat-header-title.typing-status {
    color: var(--text-secondary);
    animation: typing-pulse 1.5s infinite;
    font-style: italic;
}

@keyframes typing-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
}

#chat-header-title {
    transition: opacity 0.2s ease-in-out;
}

@keyframes message-pop-in {
  from {
    opacity: 0;
    transform: translateY(15px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.message-wrapper.animate-in {
  animation: message-pop-in 0.3s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
  }

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘Appå›¾æ ‡è®¾ç½®æ ·å¼ â–¼â–¼â–¼ */
#icon-settings-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
    gap: 20px;
    width: 100%;
    padding: 0 10px;
    box-sizing: border-box;
}

.icon-setting-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
}

.icon-preview {
    width: 60px;
    height: 60px;
    border-radius: 15px;
    background-size: cover;
    background-position: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.change-icon-btn {
    padding: 4px 10px;
    font-size: 12px;
    border: 1px solid #ccc;
    background-color: #f0f0f0;
    border-radius: 5px;
    cursor: pointer;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¤–è§‚è®¾ç½®é¡µé¢å¸ƒå±€ä¿®æ­£ â–¼â–¼â–¼ */

/* 1. ä¿®æ­£æ»šåŠ¨é—®é¢˜ */
#wallpaper-screen .form-container {
    /* æ ¸å¿ƒä¿®æ­£1: è§£å†³flexå¸ƒå±€ä¸‹çš„æ»šåŠ¨å†²çªï¼Œè®©æ»šåŠ¨æ¡èƒ½æ­£å¸¸å‡ºç° */
    min-height: 0; 
}

/* 2. ä¿®æ­£å£çº¸é¢„è§ˆè¢«å‹æ‰çš„é—®é¢˜ */
#wallpaper-preview {
    /* æ ¸å¿ƒä¿®æ­£2: é˜²æ­¢é¢„è§ˆæ¡†è¢«è¿‡å¤šçš„å†…å®¹æŒ¤å‹å˜å½¢ï¼Œè®©å®ƒä¿æŒè‡ªå·±çš„é«˜åº¦ */
    flex-shrink: 0; 
}
/* â–²â–²â–² ä¿®æ­£ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘åˆ†äº«é“¾æ¥åŠŸèƒ½æ ·å¼ (æ— å›¾ç‰ˆ) â–¼â–¼â–¼ */

/* 1. æµè§ˆå™¨ç•Œé¢èƒŒæ™¯è‰²å’Œå†…å®¹åŒºæ ·å¼ (ä¿æŒä¸å˜) */
#browser-screen {
    background-color: #f8f9fa;
}
#browser-content {
    padding: 20px;
    font-size: 16px;
    line-height: 1.8;
    color: #333;
    overflow-y: auto;
    background-color: #f8f9fa;
}
#browser-content .article-title {
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 10px;
}
#browser-content .article-meta {
    font-size: 13px;
    color: #8a8a8a;
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 1px solid #e0e0e0;
}
#browser-content .article-body {
    white-space: pre-wrap;
    word-break: break-word;
}
#browser-content .article-body p {
    margin-bottom: 1em;
}

/* 2. èŠå¤©æ°”æ³¡ä¸­çš„é“¾æ¥å¡ç‰‡æ ·å¼ (æ— å›¾ç‰ˆ) */
.message-bubble.is-link-share .content {
    padding: 0;
    background: transparent;
    box-shadow: none;
    border: none;
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}

.link-share-card {
    width: 210px; 
    background-color: #fff;
    border-radius: 10px;
    border: 1px solid #e0e0e0;
    padding: 12px;
    cursor: pointer;
    transition: background-color 0.2s;
    display: flex;
    flex-direction: column;
    gap: 8px;
}
.link-share-card:hover {
    background-color: #f9f9f9;
}

.link-share-card .title {
    font-weight: 600;
    font-size: 15px;
    line-height: 1.4;
    color: #1f1f1f;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

.link-share-card .description {
    font-size: 13px;
    color: #8a8a8a;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

.link-share-card .footer {
    display: flex; /* è®©å›¾æ ‡å’Œæ–‡å­—æ°´å¹³å¯¹é½ */
    align-items: center;
    gap: 6px; /* å›¾æ ‡å’Œæ–‡å­—çš„é—´è· */
    font-size: 12px;
    color: var(--text-secondary);
    margin-top: 4px; /* å’Œä¸Šé¢çš„æè¿°æ‹‰å¼€ä¸€ç‚¹è·ç¦» */
}
.link-share-card .footer-icon {
    width: 14px;
    height: 14px;
    flex-shrink: 0; /* é˜²æ­¢å›¾æ ‡è¢«å‹ç¼© */
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* å•æ¡è¯„è®ºçš„å®¹å™¨ï¼Œç°åœ¨éœ€è¦ç›¸å¯¹å®šä½ */
.comment-item {
    position: relative;
    padding-right: 25px; /* åœ¨å³ä¾§ç•™å‡ºåˆ é™¤æŒ‰é’®çš„ç©ºé—´ */
}

/* è¯„è®ºåˆ é™¤æŒ‰é’®çš„æ ·å¼ */
.comment-delete-btn {
    position: absolute;
    top: 50%;
    right: 0;
    transform: translateY(-50%);
    width: 22px;
    height: 22px;
    line-height: 22px;
    text-align: center;
    border-radius: 50%;
    color: var(--text-secondary);
    font-size: 18px;
    cursor: pointer;
    transition: all 0.2s ease;
    opacity: 0; /* é»˜è®¤éšè— */
}

/* é¼ æ ‡æ‚¬åœåœ¨è¯„è®ºä¸Šæ—¶ï¼Œæ˜¾ç¤ºåˆ é™¤æŒ‰é’® */
.comment-item:hover .comment-delete-btn {
    opacity: 1;
}

.comment-delete-btn:hover {
    background-color: #f0f0f0;
    color: #ff3b30;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === ã€å…¨æ–°ã€‘å¤œé—´æ¨¡å¼æ ·å¼ === */

/* æ ¸å¿ƒï¼šå½“ #phone-screen æ‹¥æœ‰ .dark-mode ç±»æ—¶ï¼Œæ¿€æ´»ä»¥ä¸‹æ‰€æœ‰æ ·å¼ */

/* 1. å…¨å±€èƒŒæ™¯å’Œæ–‡æœ¬é¢œè‰² */
#phone-screen.dark-mode {
    --secondary-bg: #1c1c1e; /* ä¸»è¦å¡ç‰‡èƒŒæ™¯è‰² */
    --border-color: #38383a;  /* è¾¹æ¡†é¢œè‰² */
    --text-primary: #ffffff;   /* ä¸»è¦æ–‡å­—é¢œè‰² */
    --text-secondary: #8d8d92; /* æ¬¡è¦æ–‡å­—/å›¾æ ‡é¢œè‰² */
}

/* 2. å„ä¸ªé¡µé¢çš„ä¸»èƒŒæ™¯è‰² */
#phone-screen.dark-mode #chat-list-screen,
#phone-screen.dark-mode #qzone-screen .qzone-content,
#phone-screen.dark-mode #memories-view {
    background-color: #000000;
}

/* 3. èŠå¤©åˆ—è¡¨ */
#phone-screen.dark-mode #chat-list {
    background-color: #000000;
}
#phone-screen.dark-mode .chat-list-item {
    border-bottom-color: rgba(255, 255, 255, 0.15);
}
#phone-screen.dark-mode .chat-group-header {
    background-color: #1c1c1e; /* ä»ç™½è‰²æ”¹ä¸ºæ·±ç°è‰² */
    border-bottom: 1px solid #38383a; /* ç»™å®ƒä¸€ä¸ªç»†å¾®çš„ä¸‹è¾¹æ¡† */
}
#phone-screen.dark-mode .chat-list-item .name,
#phone-screen.dark-mode .chat-group-header .group-name {
    color: #ffffff;
}
#phone-screen.dark-mode .chat-list-item:hover {
    background-color: #1c1c1e;
}

/* 4. é¡¶éƒ¨/åº•éƒ¨å¯¼èˆªæ  */
#phone-screen.dark-mode .header,
#phone-screen.dark-mode .qzone-header {
    background-color: rgba(25, 25, 25, 0.9);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border-bottom-color: rgba(255, 255, 255, 0.15);
    color: #ffffff;
}
#phone-screen.dark-mode .header .back-btn,
#phone-screen.dark-mode .header .action-btn,
#phone-screen.dark-mode .header .save-btn {
    color: #ffffff;
}
#phone-screen.dark-mode #chat-list-bottom-nav {
    background-color: rgba(25, 25, 25, 0.9);
    border-top-color: rgba(255, 255, 255, 0.15);
}
#phone-screen.dark-mode .nav-item.active {
    color: #ffffff;
}

/* 5. èŠå¤©ç•Œé¢ */
#phone-screen.dark-mode #chat-input-area {
    background-color: rgba(5, 5, 5, 0.8);
    border-top: none;
}
#phone-screen.dark-mode #chat-input {
    background-color: #3e3e42;
    color: #ffffff;
}
#phone-screen.dark-mode #chat-input::placeholder {
    color: #8d8d92;
}
#phone-screen.dark-mode .chat-action-icon-btn {
    color: #ffffff;
    background-color: rgba(255, 255, 255, 0.1);
    border: none;
}
#phone-screen.dark-mode #send-btn {
    background-color: var(--accent-color);
}

/* 6. åŠ¨æ€ (QZone) ç•Œé¢ */
#phone-screen.dark-mode .qzone-actions-bar,
#phone-screen.dark-mode .qzone-post-item {
    background-color: #1c1c1e;
    border: 1px solid #333;
    box-shadow: 0 2px 8px rgba(255, 255, 255, 0.05);
}
#phone-screen.dark-mode .action-item:not(:last-child)::after {
    background-color: #333;
}
#phone-screen.dark-mode .post-footer,
#phone-screen.dark-mode .post-likes-section {
    border-top-color: #333;
}
#phone-screen.dark-mode .post-likes-section {
    background-color: rgba(0, 123, 255, 0.1);
}
#phone-screen.dark-mode .comment-input {
    background-color: #333;
    color: #ffffff;
}
#phone-screen.dark-mode .comment-input::placeholder {
    color: #8d8d92;
}
#phone-screen.dark-mode .post-actions-btn:hover {
    background-color: #333;
}
#phone-screen.dark-mode .at-mention-popup {
    background-color: #1c1c1e;
    border-color: #333;
}
#phone-screen.dark-mode .at-mention-item {
    border-bottom-color: #333;
}
#phone-screen.dark-mode .at-mention-item:hover {
    background-color: #333;
}

/* 7. å›å¿†å½•ç•Œé¢ */
#phone-screen.dark-mode .memory-card {
    background-color: #1c1c1e;
    border-left-color: #e6a753;
    box-shadow: 0 4px 12px rgba(255, 255, 255, 0.08);
}
#phone-screen.dark-mode .memory-card .header {
    background-color: #2c2c2e;
    border-bottom-color: #38383a;
    margin: -15px -15px 8px -15px;
    padding: 12px 15px;
    border-radius: 12px 12px 0 0;
}
#phone-screen.dark-mode .memory-card .header .date,
#phone-screen.dark-mode .memory-card .header .author,
#phone-screen.dark-mode .memory-card .content {
    color: #e0e0e0;
}

/* 8. å…¶ä»–è®¾ç½®å’Œåˆ—è¡¨é¡µ */
#phone-screen.dark-mode #api-settings-screen,
#phone-screen.dark-mode #font-settings-screen,
#phone-screen.dark-mode #wallpaper-screen,
#phone-screen.dark-mode #contact-picker-screen,
#phone-screen.dark-mode #member-management-screen,
#phone-screen.dark-mode #world-book-editor-screen,
#phone-screen.dark-mode #world-book-list,
#phone-screen.dark-mode .list-item:hover,
#phone-screen.dark-mode .list-container,
#phone-screen.dark-mode .form-container {
    background-color: #000000;
}
#phone-screen.dark-mode .form-group input, 
#phone-screen.dark-mode .form-group select, 
#phone-screen.dark-mode .form-group textarea {
    background-color: #1c1c1e;
    color: #ffffff;
    border-color: #38383a;
}
#phone-screen.dark-mode .form-button-secondary {
    background-color: #333;
    border-color: #555;
    color: #fff;
}
#phone-screen.dark-mode #font-preview {
    background-color: #1c1c1e;
    border-color: #38383a;
}
#phone-screen.dark-mode #font-preview p {
    color: #ffffff;
}

/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—ã€å…¨æ–°çš„ä¿®æ­£CSSã€‘ï¼Œç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === ã€å…¨æ–°ã€‘å¤œé—´æ¨¡å¼è§†è§‰ä¿®æ­£ === */

/* 1. ä¿®æ­£åŠ¨æ€å¡ç‰‡å†…çš„æ–‡å­—é¢œè‰² */
#phone-screen.dark-mode .qzone-post-item .post-nickname,
#phone-screen.dark-mode .qzone-post-item .post-content {
    color: #f0f0f0; /* ä»æ·±ç°è‰²æ”¹ä¸ºæ˜äº®çš„æµ…ç°è‰² */
}

/* 2. ä¿®æ­£æ”¶è—å¡ç‰‡å†…çš„æ–‡å­—é¢œè‰² */
#phone-screen.dark-mode .favorite-item-card .fav-card-header .name,
#phone-screen.dark-mode .favorite-item-card .fav-card-content {
    color: #f0f0f0; /* åŒæ ·æ”¹ä¸ºæµ…ç°è‰² */
}
#phone-screen.dark-mode .favorite-item-card .fav-card-header .source {
    color: #8d8d92; /* æ¥æºæ–‡å­—ç”¨æ¬¡è¦ç°è‰² */
}

/* 3. ä¿®æ­£æ”¶è—é¡µçš„æœç´¢æ èƒŒæ™¯å’Œè¾“å…¥æ¡†æ ·å¼ */
#phone-screen.dark-mode .search-bar-container {
    background-color: #000000; /* å®¹å™¨èƒŒæ™¯å˜ä¸ºçº¯é»‘ */
}
#phone-screen.dark-mode #favorites-search-input {
    background-color: #1c1c1e; /* è¾“å…¥æ¡†èƒŒæ™¯å˜ä¸ºæ·±ç° */
    border-color: #38383a;     /* è¾¹æ¡†é¢œè‰²å˜æš— */
    color: #ffffff;            /* è¾“å…¥æ–‡å­—å˜ä¸ºç™½è‰² */
}
#phone-screen.dark-mode #favorites-search-input::placeholder {
    color: #8d8d92; /* å ä½ç¬¦æ–‡å­—é¢œè‰²å˜æš— */
}

/* â–²â–²â–² ä¿®æ­£CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === ã€å…¨æ–°ã€‘iOSé£æ ¼çš„Toggle Switchå¼€å…³æ ·å¼ === */

/* 1. å¼€å…³çš„å®¹å™¨ */
.toggle-switch {
    position: relative;
    display: inline-block;
    width: 51px;
    height: 31px;
}

/* 2. éšè—æ‰åŸå§‹çš„ checkbox è¾“å…¥æ¡† */
.toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

/* 3. å¼€å…³çš„èƒŒæ™¯ï¼ˆé‚£ä¸ªæ¤­åœ†ï¼‰ */
.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #e9e9eb; /* å…³é—­æ—¶çš„èƒŒæ™¯è‰² */
    transition: .4s;
    border-radius: 34px;
}

/* 4. å¼€å…³ä¸Šçš„åœ†ç‚¹ */
.slider:before {
    position: absolute;
    content: "";
    height: 27px;
    width: 27px;
    left: 2px;
    bottom: 2px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

/* 5. ã€æ ¸å¿ƒã€‘å½“ checkbox è¢«é€‰ä¸­æ—¶ï¼ˆå³å¼€å¯çŠ¶æ€ï¼‰ */
input:checked + .slider {
    background-color: #34c759; /* å¼€å¯æ—¶çš„èƒŒæ™¯è‰²ï¼ˆiOSç»¿è‰²ï¼‰*/
}

input:checked + .slider:before {
    transform: translateX(20px); /* è®©åœ†ç‚¹æ»‘åŠ¨åˆ°å³è¾¹ */
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¼•ç”¨å›å¤åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* 1. è¾“å…¥æ¡†ä¸Šæ–¹çš„â€œå›å¤é¢„è§ˆæ â€ */
#reply-preview-bar {
    display: none; /* é»˜è®¤éšè— */
    padding: 8px 12px;
    margin: 0 8px 8px 8px; /* å’Œè¾“å…¥æ¡†å‘¨å›´çš„è¾¹è·ä¿æŒä¸€è‡´ */
    background-color: rgba(0, 0, 0, 0.05);
    border-left: 3px solid var(--accent-color);
    border-radius: 6px;
    position: relative;
    font-size: 13px;
    color: var(--text-secondary);
}

#phone-screen.dark-mode #reply-preview-bar {
    background-color: rgba(255, 255, 255, 0.1);
}

.reply-preview-content .sender {
    font-weight: 600;
    color: var(--text-primary);
}

.reply-preview-content .text {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: block; /* ç¡®ä¿çœç•¥å·ç”Ÿæ•ˆ */
    max-width: 95%;
}

#cancel-reply-btn {
    position: absolute;
    top: 50%;
    right: 8px;
    transform: translateY(-50%);
    width: 20px;
    height: 20px;
    line-height: 20px;
    text-align: center;
    border-radius: 50%;
    background-color: rgba(0,0,0,0.1);
    cursor: pointer;
    font-size: 14px;
}

/* 2. æ¶ˆæ¯æ°”æ³¡å†…éƒ¨çš„â€œå¼•ç”¨æ¶ˆæ¯å—â€ */
.quoted-message {
    padding: 6px 10px;
    margin-bottom: 6px;
    background-color: rgba(0, 0, 0, 0.04);
    border-left: 2px solid var(--accent-color);
    border-radius: 4px;
    font-size: 0.9em; /* å­—ä½“æ¯”æ­£æ–‡å°ä¸€ç‚¹ */
    opacity: 0.8;
    /* (å·²ç§»é™¤ overflow: hidden;) */
}

#phone-screen.dark-mode .quoted-message {
    background-color: rgba(255, 255, 255, 0.08);
    border-left-color: #a0cff1;
}

.quoted-message .quoted-sender {
    font-weight: 600;
    color: var(--accent-color);
}
#phone-screen.dark-mode .quoted-message .quoted-sender {
    color: #a0cff1;
}

.quoted-message .quoted-content {
    color: var(--text-secondary);
    white-space: normal;     /* æ ¸å¿ƒä¿®æ­£1: å…è®¸æ–‡æœ¬æ­£å¸¸æ¢è¡Œ */
    word-break: break-word;  /* æ ¸å¿ƒä¿®æ­£2: å¼ºåˆ¶é•¿å•è¯æˆ–è¿ç»­å­—ç¬¦æ–­å¼€ï¼Œé˜²æ­¢æº¢å‡º */
    display: block;
    /* (å·²ç§»é™¤ overflow å’Œ text-overflowï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦å¤šè¡Œæ˜¾ç¤ºè€Œä¸æ˜¯å•è¡Œçœç•¥å·) */
}

/* === å­—ä½“é¢„è§ˆæ¡†æ ·å¼ (ä¿®æ­£å) === */

/* é»˜è®¤ï¼ˆæ—¥é—´æ¨¡å¼ï¼‰çš„æ ·å¼ */
#font-preview {
    padding: 20px;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    background-color: #f9f9f9; /* æ—¥é—´æ¨¡å¼çš„æµ…ç°è‰²èƒŒæ™¯ */
    transition: background-color 0.3s, border-color 0.3s;
}

/* é¢„è§ˆæ¡†é‡Œçš„æ–‡å­—é¢œè‰²ï¼Œé»˜è®¤æ˜¯é»‘è‰² */
#font-preview p {
    color: var(--text-primary);
}

/* å¤œé—´æ¨¡å¼ä¸‹çš„ä¿®æ­£æ ·å¼ */
#phone-screen.dark-mode #font-preview {
    background-color: #1c1c1e; /* æ·±ç°è‰²èƒŒæ™¯ */
    border-color: #38383a;     /* æš—è‰²è¾¹æ¡† */
}

/* å¤œé—´æ¨¡å¼ä¸‹ï¼Œé¢„è§ˆæ¡†é‡Œçš„æ–‡å­—å˜ä¸ºç™½è‰² */
#phone-screen.dark-mode #font-preview p {
    color: #ffffff;
}

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ç²¾è‡´ç‰ˆè½¬è´¦æ“ä½œå¼¹çª—æ ·å¼ â–¼â–¼â–¼ */
.transfer-actions-content {
    background-color: #fff0f5; /* ç²‰å«©çš„èƒŒæ™¯è‰² */
    border-radius: 20px;
    width: 290px;
    padding: 20px;
    box-shadow: 0 5px 25px rgba(255, 105, 180, 0.3); /* ç²‰è‰²é˜´å½± */
    text-align: center;
    position: relative;
    border: 1px solid #ffcce0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

.transfer-actions-header {
    font-size: 20px;
    font-weight: bold;
    color: #a35c7b; /* æ·±ç²‰è‰²æ ‡é¢˜ */
    margin-bottom: 15px;
}

.transfer-actions-body p {
    font-size: 15px;
    color: #555;
    margin: 0 0 25px 0;
    line-height: 1.5;
}

.transfer-actions-footer {
    display: flex;
    justify-content: space-between;
    gap: 15px;
}

.transfer-actions-footer .action-btn {
    flex: 1;
    padding: 12px;
    border: none;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    color: white;
}

.transfer-actions-footer .action-btn:active {
    transform: scale(0.95);
}

.transfer-actions-footer .action-btn.accept {
    background: linear-gradient(135deg, #ff85b3, #ff69b4);
    box-shadow: 0 4px 10px rgba(255, 105, 180, 0.4);
}

.transfer-actions-footer .action-btn.decline {
    background: linear-gradient(135deg, #c2c2c2, #a0a0a0);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.transfer-actions-content .cancel-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    border: none;
    background-color: rgba(0, 0, 0, 0.1);
    color: #a35c7b;
    font-size: 20px;
    line-height: 28px;
    cursor: pointer;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === æœªè¯»æ¶ˆæ¯çº¢ç‚¹æ ·å¼ === */
.unread-count-wrapper {
    flex-shrink: 0;
    width: 40px;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding-top: 20px; /* è®©çº¢ç‚¹å’Œåå­—å·®ä¸å¤šé«˜ */
}

.unread-count {
    min-width: 20px;
    height: 20px;
    padding: 0 6px;
    background-color: #ff3b30; /* iOS é£æ ¼çš„çº¢è‰² */
    color: white;
    font-size: 13px;
    font-weight: 500;
    line-height: 20px;
    text-align: center;
    border-radius: 10px; /* åœ†è§’çŸ©å½¢ */
    box-shadow: 0 1px 2px rgba(0,0,0,0.15);
    display: none; /* é»˜è®¤éšè— */
    justify-content: center;
    align-items: center;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘é€šè¯è®°å½•é¡µé¢ä¸å¡ç‰‡æ ·å¼ â–¼â–¼â–¼ */

/* ç¡®ä¿é¡µé¢èƒŒæ™¯è‰²ç»Ÿä¸€ */
#call-history-screen {
    background-color: #f0f2f5;
}

/* é€šè¯è®°å½•å¡ç‰‡æ ·å¼ */
.call-record-card {
    background-color: var(--secondary-bg);
    border-radius: 12px;
    padding: 15px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    border-left: 5px solid var(--accent-color);
}
.call-record-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 12px rgba(0,0,0,0.1);
}

/* å¡ç‰‡å¤´éƒ¨ï¼šåŒ…å«æ—¥æœŸå’Œæ—¶é•¿ */
.call-record-card .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 13px;
    color: var(--text-secondary);
    margin-bottom: 12px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border-color);
}
.call-record-card .card-header .duration {
    font-weight: 500;
    color: var(--text-primary);
}

/* å¡ç‰‡ä¸»ä½“ï¼šå‚ä¸è€…å¤´åƒ */
.call-record-card .card-body {
    display: flex;
    align-items: center;
}
.call-record-card .participants-avatars {
    display: flex;
    align-items: center;
}
.call-record-card .participant-avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid white;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}
/* è®©å¤´åƒæœ‰ä¸€ä¸ªæ¼‚äº®çš„å †å æ•ˆæœ */
.call-record-card .participant-avatar:not(:first-child) {
    margin-left: -12px;
}
.call-record-card .participants-names {
    margin-left: 12px;
    font-weight: 600;
    color: var(--text-primary);
    font-size: 15px;
}

/* --- é€šè¯è¯¦æƒ…å¼¹çª—æ ·å¼ --- */
#transcript-modal-body {
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 15px;
}
.transcript-entry {
    padding: 8px 12px;
    border-radius: 10px;
    max-width: 85%;
    line-height: 1.5;
    word-break: break-word;
}
.transcript-entry.user {
    background-color: #dcf8c6; /* ç±»ä¼¼å¾®ä¿¡çš„ç»¿è‰² */
    align-self: flex-end;
}
.transcript-entry.assistant {
    background-color: #ffffff;
    align-self: flex-start;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

#chat-list-title {
    cursor: pointer;
}

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘é€šè¯è®°å½•å¡ç‰‡ç¾åŒ–æ ·å¼ â–¼â–¼â–¼ */

.call-record-card .card-body {
    /* å°† body æ”¹ä¸º flex å¸ƒå±€ï¼Œè®©æ ‡é¢˜å’Œå‚ä¸è€…ä¿¡æ¯å‚ç›´æ’åˆ— */
    display: flex;
    flex-direction: column;
    gap: 8px; /* æ ‡é¢˜å’Œå‚ä¸è€…ä¿¡æ¯ä¹‹é—´çš„é—´è· */
}

.call-record-card .custom-title {
    font-size: 16px;
    font-weight: 600; /* åŠ ç²—ï¼Œè®©å®ƒåƒä¸ªæ ‡é¢˜ */
    color: var(--text-primary);
    padding-bottom: 8px; /* æ ‡é¢˜ä¸‹çš„ç•™ç™½ */
    border-bottom: 1px solid var(--border-color); /* åœ¨æ ‡é¢˜ä¸‹åŠ ä¸€æ¡åˆ†å‰²çº¿ */
    margin-bottom: 4px; /* å’Œä¸‹é¢çš„å‚ä¸è€…ä¿¡æ¯æ‹‰å¼€ä¸€ç‚¹è·ç¦» */
}

.call-record-card .participants-info {
    /* è¿™ä¸ªæ–°å®¹å™¨è®©å¤´åƒå’Œâ€œä¸xxâ€èƒ½æ°´å¹³å¯¹é½ */
    display: flex;
    align-items: center;
}

/* å‚ä¸è€…åå­—çš„æ ·å¼å¾®è°ƒï¼Œè®©å®ƒä¸é‚£ä¹ˆçªå‡º */
.call-record-card .participants-names {
    margin-left: 12px;
    font-weight: 500; /* ä¸å†åŠ ç²— */
    font-size: 14px; /* ç¨å¾®å°ä¸€ç‚¹ */
    color: var(--text-secondary); /* ä½¿ç”¨æ¬¡è¦æ–‡å­—é¢œè‰² */
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¯­éŸ³è½¬æ–‡å­—åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* 1. è¯­éŸ³æ–‡å­—å†…å®¹çš„æ ·å¼ */
.voice-transcript {
    font-size: 14px;         /* æ–‡å­—å¤§å° */
    line-height: 1.6;        /* è¡Œé«˜ï¼Œè®©å¤šè¡Œæ–‡æœ¬æ›´æ˜“è¯» */
    color: var(--text-secondary); /* ä½¿ç”¨æ¬¡è¦æ–‡å­—é¢œè‰²ï¼Œä¸è¯­éŸ³æ¡åŒºåˆ† */
    padding: 8px 12px;       /* å†…è¾¹è· */
    margin-top: 6px;         /* å’Œä¸Šæ–¹çš„è¯­éŸ³æ¡æ‹‰å¼€ä¸€ç‚¹è·ç¦» */
    background-color: rgba(0, 0, 0, 0.04); /* ç»™ä¸€ä¸ªæ·¡æ·¡çš„èƒŒæ™¯ï¼Œæ›´æœ‰å±‚æ¬¡æ„Ÿ */
    border-radius: 6px;      /* åœ†è§’ */
    word-break: break-word;  /* ç¡®ä¿é•¿æ–‡æœ¬èƒ½æ­£å¸¸æ¢è¡Œ */
    display: none;           /* é»˜è®¤éšè— */
}

#phone-screen.dark-mode .voice-transcript {
    background-color: rgba(255, 255, 255, 0.1); /* å¤œé—´æ¨¡å¼ä¸‹çš„èƒŒæ™¯è‰² */
}

/* 2. æ—‹è½¬åŠ è½½åŠ¨ç”»çš„æ ·å¼ */
.loading-spinner {
    display: none; /* é»˜è®¤éšè— */
    width: 16px;
    height: 16px;
    border: 2px solid rgba(0, 0, 0, 0.2);
    border-top-color: var(--accent-color); /* æ—‹è½¬éƒ¨åˆ†çš„é¢œè‰² */
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 8px; /* å’Œæ³¢å½¢å›¾ã€æ—¶é•¿ä¿æŒä¸€ç‚¹é—´è· */
}

/* 3. å®šä¹‰æ—‹è½¬åŠ¨ç”» */
@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘åˆ†äº«è®°å½•æŸ¥çœ‹å™¨æ ·å¼ä¿®æ­£ â–¼â–¼â–¼ */
#shared-history-viewer-content {
    display: flex;
    flex-direction: column; /* è®©æ°”æ³¡å‚ç›´æ’åˆ— */
    gap: 20px; /* åœ¨æ¯ä¸ªæ°”æ³¡ä¹‹é—´å¢åŠ 20åƒç´ çš„é—´è· */
    padding: 15px; /* åœ¨å®¹å™¨å››å‘¨ä¹Ÿå¢åŠ ä¸€äº›å†…è¾¹è·ï¼Œé¿å…æ°”æ³¡è´´è¾¹ */
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æ’­æ”¾å™¨å’Œæ­Œè¯æ ·å¼ â–¼â–¼â–¼ */
#music-player-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 50;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding-top: 60px;
    background-color: rgba(0,0,0,0.3);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-50px);
    transition: opacity 0.4s ease-out, transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

#music-player-overlay.visible {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.music-player-window { 
    width: 70%; 
    min-height: 420px;
    background-color: rgba(255, 255, 255, 0.6); 
    backdrop-filter: blur(20px); 
    -webkit-backdrop-filter: blur(20px); 
    border-radius: 25px; 
    box-shadow: 0 8px 32px 0 rgba(25, 25, 25, 0.37); 
    border: 1px solid rgba(255, 255, 255, 0.18); 
    padding: 25px; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    color: #1f1f1f; 
    position: relative;
    justify-content: space-between;
    padding-bottom: 15px;
}

.music-player-top-actions {
    position: absolute;
    top: 15px;
    left: 15px;
    right: 15px;
    width: calc(100% - 30px);
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.top-left-cluster {
    display: flex;
    align-items: center;
    gap: 15px;
}
#music-return-btn, #music-exit-btn {
    background: none;
    border: none;
    font-size: 28px;
    font-weight: 300;
    cursor: pointer;
    color: #555;
    padding: 5px;
    line-height: 1;
}
#music-exit-btn {
    font-size: 24px;
    font-weight: 400;
}

.music-progress-bar-container {
    width: 100%;
    display: flex;
    align-items: center;
    gap: 10px;
    margin-top: 25px;
    margin-bottom: 10px;
}
.time-display {
    font-size: 11px;
    color: #888;
    width: 35px;
    text-align: center;
    flex-shrink: 0;
    font-family: 'SF Mono', 'Menlo', monospace;
}
.progress-bar {
    flex-grow: 1;
    height: 5px;
    background-color: #e5e5e5;
    border-radius: 2.5px;
    cursor: pointer;
}
.progress-bar-fill {
    width: 0%;
    height: 100%;
    background-color: #333;
    border-radius: 2.5px;
}

#music-lyrics-container {
    width: 100%;
    height: 192px;
    overflow: hidden;
    position: relative;
    -webkit-mask-image: linear-gradient(transparent, black 20%, black 80%, transparent);
    mask-image: linear-gradient(transparent, black 20%, black 80%, transparent);
}

#music-lyrics-list {
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.lyric-line {
    padding: 4px 0;
    font-size: 14px;
    color: #666;
    text-align: center;
    line-height: 1.5;
    transition: all 0.5s ease;
    opacity: 0.7;
    transform: scale(0.95);
}

.lyric-line.active {
    font-size: 16px;
    color: #000;
    opacity: 1;
    transform: scale(1);
}

.music-player-controls-wrapper {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.music-controls {
    margin-top: 0;
}

#music-return-btn, #music-exit-btn, #music-playlist-btn {
    position: relative;
}

#music-return-btn { top: -2px; }
#music-playlist-btn { top: -3px; }

.playlist-item-actions {
    display: flex;
    align-items: center;
    gap: 15px;
}
.playlist-action-btn {
    font-size: 18px;
    color: #888;
    cursor: pointer;
    transition: color 0.2s;
}
.playlist-action-btn:hover { color: #000; }
.delete-track-btn { font-size: 24px; color: #ff3b30; }
.delete-track-btn:hover { color: #c00; }
.lyrics-btn { font-weight: 500; }

/* --- ã€æ ¸å¿ƒä¿®æ­£ã€‘ç¡®ä¿å¤´åƒå°ºå¯¸ --- */
.message-bubble .avatar {
    width: 34px;
    height: 34px;
    border-radius: 20%;
    object-fit: cover;
    flex-shrink: 0; /* é˜²æ­¢è¢«å‹ç¼© */
}

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æ’¤å›æ¶ˆæ¯æ ·å¼ â–¼â–¼â–¼ */

/* 1. æ’¤å›æ¶ˆæ¯çš„å ä½ç¬¦æ ·å¼ */
.recalled-message-placeholder {
    align-self: center; /* å±…ä¸­æ˜¾ç¤º */
    padding: 4px 12px;
    margin: 5px 0;
    background-color: rgba(0, 0, 0, 0.1);
    color: var(--text-secondary);
    font-size: 12px;
    border-radius: 10px;
    text-align: center;
    max-width: 80%;
    cursor: pointer; /* è®©å®ƒçœ‹èµ·æ¥å¯ä»¥ç‚¹å‡» */
}

/* 2. å¤œé—´æ¨¡å¼ä¸‹çš„é€‚é… */
#phone-screen.dark-mode .recalled-message-placeholder {
    background-color: rgba(255, 255, 255, 0.15);
}

/* 3. AIæ’¤å›æ¶ˆæ¯æ—¶çš„åŠ¨ç”»æ•ˆæœ */
@keyframes recall-animation {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.8);
  }
}

.message-wrapper.recalled-animation {
  animation: recall-animation 0.3s ease-out forwards;
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æ’¤å›æ¶ˆæ¯æ ·å¼ä¿®æ­£ â–¼â–¼â–¼ */

/* å¼ºåˆ¶æ’¤å›æ¶ˆæ¯çš„å ä½ç¬¦ä¸æ¢è¡Œï¼Œå¹¶ä¿æŒå†…å®¹å±…ä¸­ */
.recalled-message-placeholder {
    white-space: nowrap; /* æ ¸å¿ƒï¼šç¦æ­¢æ–‡æœ¬æ¢è¡Œ */
    display: inline-block; /* è®©èƒŒæ™¯æ ¹æ®å†…å®¹è‡ªé€‚åº”å®½åº¦ */
    padding: 4px 12px;
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

    </style>
<style id="dynamic-font-style"></style><style id="custom-bubble-style"></style><style id="preview-bubble-style"></style></head>
<body>
    <div id="phone-frame">
        <div class="notch"></div>
        <div id="phone-screen">
            <div id="status-bar">
                <span id="status-bar-time">16:18</span>
                <div id="status-bar-battery" class="battery-container">
                    <span class="battery-text">á—œÏ‰á—œ</span>
                    <div class="battery-icon">
                        <div class="battery-level"></div>
                    </div>
                </div>
            </div>
            <div id="notification-bar"><img id="notification-avatar" src=""><div id="notification-content"><div class="name"></div><div class="message"></div></div></div>
            
            <div id="home-screen" class="screen active" style="background-image: url(&quot;data:image/jpeg;base64,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GeSo/Ko/IT0okubU4Gf/2QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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&quot;);">
                <div id="clock-container"><div id="main-time">16:18</div><div id="main-date">8æœˆ1æ—¥ æ˜ŸæœŸäº”</div></div>
                                                <!-- â–¼â–¼â–¼ ç”¨è¿™æ•´å—ä»£ç æ›¿æ¢ä½ åŸæ¥çš„ id="app-grid" â–¼â–¼â–¼ -->
<div id="app-grid">
    <!-- ç¬¬ä¸€è¡Œï¼šæ”¾2ä¸ªå›¾æ ‡ -->
    <div class="app-row">
        <div class="app-icon" onclick="showScreen('world-book-screen')">
            <div class="icon-bg">
                <!-- ã€æ ¸å¿ƒä¿®æ”¹1ã€‘æ·»åŠ ID -->
                <img id="icon-img-world-book" src="https://i.postimg.cc/mZ0vV6tT/IMG-6907.jpg" alt="ä¸–ç•Œä¹¦">
            </div>
            <span class="label">ä¸–ç•Œä¹¦</span>
        </div>
        <div class="app-icon" onclick="showScreen('chat-list-screen')">
            <div class="icon-bg">
                <!-- ã€æ ¸å¿ƒä¿®æ”¹2ã€‘æ·»åŠ ID -->
                <img id="icon-img-qq" src="https://i.postimg.cc/gJ7Dz5fj/IMG-6906.jpg" alt="QQ">
            </div>
            <span class="label">QQ</span>
        </div>
    </div>
    <!-- ç¬¬äºŒè¡Œï¼šæ”¾3ä¸ªå›¾æ ‡ -->
    <div class="app-row">
        <div class="app-icon" onclick="showScreen('api-settings-screen')">
            <div class="icon-bg">
                <!-- ã€æ ¸å¿ƒä¿®æ”¹3ã€‘æ·»åŠ ID -->
                <img id="icon-img-api-settings" src="https://i.postimg.cc/RhnTNdBR/IMG-6908.jpg" alt="APIè®¾ç½®">
            </div>
            <span class="label">APIè®¾ç½®</span>
        </div>
        <div class="app-icon" onclick="showScreen('wallpaper-screen')">
            <div class="icon-bg">
                <!-- ã€æ ¸å¿ƒä¿®æ”¹4ã€‘æ·»åŠ ID -->
                <img id="icon-img-wallpaper" src="https://i.postimg.cc/WbgQy6kg/IMG-6909.jpg" alt="å¤–è§‚è®¾ç½®">
            </div>
            <span class="label">å¤–è§‚è®¾ç½®</span>
        </div>
        <div class="app-icon" onclick="showScreen('font-settings-screen')">
            <div class="icon-bg">
                <!-- ã€æ ¸å¿ƒä¿®æ”¹5ã€‘æ·»åŠ ID -->
                <img id="icon-img-font" src="https://files.catbox.moe/j1kn1a.jpeg" alt="å­—ä½“">
            </div>
            <span class="label">å­—ä½“</span>
        </div>
    </div>
</div>
<!-- â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² -->
            </div>
          
            <div id="world-book-screen" class="screen"><div class="header"><span class="back-btn" onclick="showScreen('home-screen')">â€¹</span><span>ä¸–ç•Œä¹¦</span><span class="action-btn" id="add-world-book-btn">+</span></div><div id="world-book-list"></div></div>
            <div id="world-book-editor-screen" class="screen">
                <div class="header">
                    <span class="back-btn" onclick="showScreen('world-book-screen')">â€¹</span>
                    <span id="world-book-editor-title">ç¼–è¾‘ä¸–ç•Œä¹¦</span>
                    <span class="save-btn" id="save-world-book-btn">ä¿å­˜</span>
                </div>
                <div class="form-container">
                    <div class="form-group">
                        <label for="world-book-name-input">ä¹¦å</label>
                        <input type="text" id="world-book-name-input" placeholder="è¯·è¾“å…¥ä¸–ç•Œä¹¦çš„åç§°...">
                    </div>
                    <div class="form-group" style="height: 100%;">
                        <label for="world-book-content-input">å†…å®¹</label>
                        <textarea id="world-book-content-input" placeholder="åœ¨æ­¤å¤„è¾“å…¥è¯¦ç»†çš„ä¸–ç•Œè§‚è®¾å®š..."></textarea>
                    </div>
                </div>
            </div>

            <div id="api-settings-screen" class="screen"><div class="header"><span class="back-btn" onclick="showScreen('home-screen')">â€¹</span><span>API è®¾ç½®</span><span style="width: 30px;"></span></div><div class="form-container"><p style="font-size: 14px; color: #666; background-color: #f0f0f0; padding: 10px; border-radius: 8px;">æç¤º: è‹¥è¦ä½¿ç”¨â€œå‘é€å›¾ç‰‡â€åŠŸèƒ½, è¯·åŠ¡å¿…é€‰æ‹©æ”¯æŒVision(è§†è§‰)çš„æ¨¡å‹, å¦‚<code style="background-color: #e0e0e0; padding: 2px 4px; border-radius: 4px;">gpt-4o</code>æˆ–<code style="background-color: #e0e0e0; padding: 2px 4px; border-radius: 4px;">gpt-4-vision-preview</code>ã€‚</p><div class="form-group"><label for="proxy-url">åä»£åœ°å€ (ä¸éœ€è¦æ·»åŠ /v1å™¢~)</label><input type="text" id="proxy-url" placeholder="ä¾‹å¦‚: https://api.openai.com"></div><div class="form-group"><label for="api-key">å¯†é’¥ (API Key)</label><input type="password" id="api-key" placeholder="sk-..."></div><div class="form-group"><label for="model-select">æ¨¡å‹</label><select id="model-select"></select></div><button class="form-button" id="fetch-models-btn">æ‹‰å–æ¨¡å‹</button>

<!-- â–¼â–¼â–¼ å°†è¿™æ®µä»£ç ç²˜è´´åˆ° API è®¾ç½®é¡µé¢çš„â€œä¿å­˜è®¾ç½®â€æŒ‰é’®ä¸Šæ–¹ â–¼â–¼â–¼ -->
<hr style="margin:20px 0; opacity:.3">
<div class="form-group" style="display: flex; justify-content: space-between; align-items: center;">
    <label for="background-activity-switch" style="margin-bottom: 0;">
        å¯ç”¨åå°è§’è‰²æ´»åŠ¨
        <p style="font-size: 12px; font-weight: normal; color: #ff6b6b; margin-top: 5px;">
            è­¦å‘Šï¼šæ­¤åŠŸèƒ½ä¼šæ˜¾è‘—å¢åŠ APIè°ƒç”¨å’Œè´¹ç”¨ï¼
        </p>
    </label>
    <input type="checkbox" id="background-activity-switch" style="width: auto; height: 20px;">
</div>
<!-- â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ å°†è¿™æ®µä»£ç ç²˜è´´åˆ°â€œå¯ç”¨åå°è§’è‰²æ´»åŠ¨â€å¼€å…³çš„ä¸‹æ–¹ â–¼â–¼â–¼ -->
<div class="form-group" style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">
    <label for="background-interval-input" style="margin-bottom: 0;">
        åå°æ´»åŠ¨æ£€æµ‹é—´éš” (ç§’)
        <p style="font-size: 12px; font-weight: normal; color: #999; margin-top: 5px;">
            å»ºè®®å€¼ 60-300ã€‚å€¼è¶Šå¤§ï¼Œè´¹ç”¨è¶Šä½ï¼Œä½†è§’è‰²ååº”è¶Šæ…¢ã€‚
        </p>
    </label>
    <input type="number" id="background-interval-input" min="30" value="60" style="width: 80px; text-align: center;">
</div>
<!-- â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ åœ¨è¿™é‡Œæ–°å¢ â–¼â–¼â–¼ -->
<div class="form-group" style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">
    <label for="block-cooldown-input" style="margin-bottom: 0;">
        AIè¢«æ‹‰é»‘åå†·é™æœŸ (å°æ—¶)
        <p style="font-size: 12px; font-weight: normal; color: #999; margin-top: 5px;">
            è¢«æ‹‰é»‘è¶…è¿‡è¿™ä¸ªæ—¶é—´åï¼ŒAIæ‰æœ‰å‡ ç‡é‡æ–°ç”³è¯·å¥½å‹ã€‚
        </p>
    </label>
    <input type="number" id="block-cooldown-input" min="0.1" step="0.1" value="1" style="width: 80px; text-align: center;">
</div>
<!-- â–²â–²â–² æ–°å¢ç»“æŸ â–²â–²â–² -->

<button class="form-button" id="save-api-settings-btn">ä¿å­˜è®¾ç½®</button>
			<hr style="margin:20px 0; opacity:.3">

			<button class="form-button" id="export-data-btn">å¯¼å‡ºæ•°æ®</button>

<!-- â‘  æ™®é€šæŒ‰é’®ï¼Œå’Œâ€œå¯¼å‡ºâ€ä¸€ä¸ª class -->
<button class="form-button" id="import-btn">å¯¼å…¥å¤‡ä»½æ–‡ä»¶</button>

<!-- â‘¡ çœŸæ­£çš„æ–‡ä»¶é€‰æ‹©å™¨ï¼Œå®Œå…¨éšè— -->
<input id="import-data-input" type="file" accept="application/json" hidden="">
</div></div>
<!-- â–¼â–¼â–¼ ç”¨ä¸‹é¢è¿™æ®µä»£ç ï¼Œå®Œæ•´æ›¿æ¢æ‰ä½ åŸæ¥çš„ chat-list-screen â–¼â–¼â–¼ -->
<div id="chat-list-screen" class="screen">
    
    <!-- ä¸»å¤´éƒ¨ (åªåœ¨æ¶ˆæ¯åˆ—è¡¨æ˜¾ç¤º) -->
    <div class="header" id="main-chat-list-header">
        <span class="back-btn" onclick="showScreen('home-screen')">â€¹</span>
<span id="chat-list-title">æ¶ˆæ¯</span>
        <div class="header-actions">
            <span class="action-btn" id="add-group-chat-btn" title="åˆ›å»ºç¾¤èŠ"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.5 17.5C19.1569 17.5 20.5 16.1569 20.5 14.5C20.5 12.8431 19.1569 11.5 17.5 11.5C15.8431 11.5 14.5 12.8431 14.5 14.5C14.5 16.1569 15.8431 17.5 17.5 17.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M21 21L19 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8.5 11.5C10.1569 11.5 11.5 10.1569 11.5 8.5C11.5 6.84315 10.1569 5.5 8.5 5.5C6.84315 5.5 5.5 6.84315 5.5 8.5C5.5 10.1569 6.84315 11.5 8.5 11.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12.5 14.5H4.5C3.39543 14.5 2.5 15.3954 2.5 16.5V18.5H12.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span>
            <span class="action-btn" id="add-chat-btn">+</span>
        </div>
    </div>

    <!-- æ¶ˆæ¯åˆ—è¡¨è§†å›¾ -->
    <div id="messages-view" class="chat-list-view active">
        <div id="chat-list">
            <!-- JSä¼šåœ¨è¿™é‡Œç”ŸæˆèŠå¤©åˆ—è¡¨ -->
        </div>
    </div>

    <!-- åŠ¨æ€ç•Œé¢è§†å›¾ -->
    <div id="qzone-screen" class="chat-list-view">
        <div class="qzone-header">
            <span class="back-btn" id="qzone-back-btn">â€¹</span> <!-- è¿™ä¸ªæŒ‰é’®ç°åœ¨åªè´Ÿè´£ä»åŠ¨æ€è¿”å› -->
            <span>å¥½å‹åŠ¨æ€</span>
        </div>
        <div class="qzone-content">
            <div class="qzone-profile-header">
                <div id="qzone-banner-container" class="qzone-banner-container">
                    <img id="qzone-banner-img" src="https://files.catbox.moe/r5heyt.gif" alt="èƒŒæ™¯">
                    <input type="file" id="qzone-banner-input" accept="image/*" hidden="">
                </div>
                <div class="qzone-user-info">
                    <div id="qzone-avatar-container" class="qzone-avatar-container">
                        <img id="qzone-avatar-img" src="https://files.catbox.moe/q6z5fc.jpeg" alt="å¤´åƒ">
                        <input type="file" id="qzone-avatar-input" accept="image/*" hidden="">
                    </div>
                    <span id="qzone-nickname">{{user}}</span>
                </div>
            </div>
            <div class="qzone-actions-bar">
                <div class="action-item" id="create-shuoshuo-btn"><span>è¯´è¯´</span></div>
                <div class="action-item" id="create-post-btn"><span>åŠ¨æ€</span></div>
                <div class="action-item" id="open-album-btn"><span>ç›¸å†Œ</span></div>
            </div>
            <div id="qzone-posts-list"></div>
        </div>
    </div>

    <!-- æ”¶è—ç•Œé¢è§†å›¾ -->
    <div id="favorites-view" class="chat-list-view">
    <div class="header"> 
        <span class="back-btn" id="favorites-back-btn">â€¹</span>
        <span>æˆ‘çš„æ”¶è—</span>
        <!-- æ–°å¢çš„ç¼–è¾‘æŒ‰é’® -->
        <span class="action-btn" id="favorites-edit-btn">ç¼–è¾‘</span>
    </div>

        <!-- ã€æ–°å¢ã€‘æœç´¢æ å®¹å™¨ -->
        <div class="search-bar-container">
            <input type="search" id="favorites-search-input" placeholder="æœç´¢æ”¶è—çš„æ ‡é¢˜ã€å†…å®¹æˆ–ä½œè€…...">
            <button id="favorites-search-clear-btn" class="search-clear-btn" style="display: none;">Ã—</button>
        </div>

        <div id="favorites-list" class="list-container">
            <!-- æ”¶è—å†…å®¹å°†ç”±JSåŠ¨æ€ç”Ÿæˆåœ¨è¿™é‡Œ -->
        </div>

<!-- æ–°å¢ï¼šæ”¶è—é¡µåº•éƒ¨æ“ä½œæ  -->
<div id="favorites-action-bar" style="display: none;">
    <button id="favorites-delete-selected-btn" class="action-bar-btn">åˆ é™¤ (0)</button>
</div>

    </div>

<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å›å¿†å½•ç•Œé¢è§†å›¾ â–¼â–¼â–¼ -->
<div id="memories-view" class="chat-list-view">
    <div class="header"> 
        <span class="back-btn" id="memories-back-btn">â€¹</span>
        <span>æˆ‘ä»¬çš„å›å¿†</span>
            <span class="action-btn" id="add-countdown-btn">+</span>
        </div>
    <div id="memories-list" class="list-container" style="padding: 15px; display: flex; flex-direction: column; gap: 15px;">
        <!-- å›å¿†å¡ç‰‡å°†ç”±JSåŠ¨æ€ç”Ÿæˆåœ¨è¿™é‡Œ -->
    </div>
</div>
<!-- â–²â–²â–² æ–°å¢HTMLç»“æŸ â–²â–²â–² -->
    
    <!-- åº•éƒ¨å¯¼èˆªæ  -->
<div id="chat-list-bottom-nav">
    <div class="nav-item active" data-view="messages-view">
        <span>æ¶ˆæ¯</span>
    </div>
    <div class="nav-item" data-view="qzone-screen">
        <span>åŠ¨æ€</span>
    </div>
    <!-- â–¼â–¼â–¼ åœ¨â€œåŠ¨æ€â€å’Œâ€œæ”¶è—â€ä¹‹é—´ï¼ŒåŠ å…¥è¿™ä¸ªæ–°é¡µç­¾ â–¼â–¼â–¼ -->
    <div class="nav-item" data-view="memories-view">
        <span>å›å¿†</span>
    </div>
    <!-- â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–² -->
    <div class="nav-item" data-view="favorites-view">
        <span>æ”¶è—</span>
    </div>
</div>
</div>
<!-- â–²â–²â–² æ›¿æ¢åŒºåŸŸç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°çš„ HTML ç²˜è´´åˆ° id="chat-list-screen" çš„ div ä¹‹å â–¼â–¼â–¼ -->
<div id="album-screen" class="screen">
    <!-- 1. é¡µé¢å¤´éƒ¨ï¼ŒåŒ…å«è¿”å›æŒ‰é’®å’Œæ ‡é¢˜ -->
    <div class="header">
        <span class="back-btn" id="album-back-btn">â€¹</span>
        <span>æˆ‘çš„ç›¸å†Œ</span>
        <span class="action-btn" id="create-album-btn-page">+</span>
    </div>
    
    <!-- 2. é¡µé¢å†…å®¹å®¹å™¨ -->
    <div class="list-container">
        <div id="album-grid-page">
            <!-- ç›¸å†Œåˆ—è¡¨å°†ç”± JS åŠ¨æ€ç”Ÿæˆåœ¨è¿™é‡Œ -->
        </div>
    </div>
</div>
<!-- â–²â–²â–² æ–°çš„ HTML ç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°çš„ HTML ç²˜è´´åˆ° id="album-screen" çš„ div ä¹‹å â–¼â–¼â–¼ -->
<div id="album-photos-screen" class="screen">
    <!-- 1. é¡µé¢å¤´éƒ¨ -->
    <div class="header">
        <span class="back-btn" id="album-photos-back-btn">â€¹</span>
        <span id="album-photos-title">ç›¸å†Œåç§°</span>
        <span class="action-btn" id="album-upload-photo-btn">ä¸Šä¼ </span>
    </div>
    
    <!-- 2. é¡µé¢å†…å®¹å®¹å™¨ -->
    <div class="list-container">
        <div id="photos-grid-page">
            <!-- ç…§ç‰‡åˆ—è¡¨å°†ç”± JS åŠ¨æ€ç”Ÿæˆåœ¨è¿™é‡Œ -->
        </div>

<!-- â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°çš„ HTML ç²˜è´´åˆ°æ‰€æœ‰æ¨¡æ€æ¡†çš„æœ«å°¾ â–¼â–¼â–¼ -->
<div id="photo-viewer-modal" class="modal">
    <!-- 1. å…³é—­æŒ‰é’® -->
    <button id="photo-viewer-close-btn">Ã—</button>
    
    <!-- 2. ä¸Šä¸€å¼ ç…§ç‰‡æŒ‰é’® -->
    <button id="photo-viewer-prev-btn" class="nav-arrow">â€¹</button>
    
    <!-- 3. å›¾ç‰‡å®¹å™¨ -->
    <div class="photo-viewer-content">
        <img id="photo-viewer-image" src="" alt="å…¨å±ç…§ç‰‡é¢„è§ˆ">
    </div>
    
    <!-- 4. ä¸‹ä¸€å¼ ç…§ç‰‡æŒ‰é’® -->
    <button id="photo-viewer-next-btn" class="nav-arrow">â€º</button>
</div>
<!-- â–²â–²â–² æ–°çš„ HTML ç²˜è´´ç»“æŸ â–²â–²â–² -->

    </div>
</div>
<!-- â–²â–²â–² æ–°çš„ HTML ç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ ç²˜è´´åˆ° #album-photos-screen çš„ div ä¹‹å â–¼â–¼â–¼ -->
<input type="file" id="album-photo-input" accept="image/*" multiple="" hidden="">
            
<!-- â–¼â–¼â–¼ è¯·ç”¨è¿™ã€ä¸€æ•´å—ã€‘å…¨æ–°çš„ä»£ç ï¼Œå®Œæ•´æ›¿æ¢æ‰æ‚¨æ–‡ä»¶ä¸­æ—§çš„ #chat-interface-screen åŠå…¶æ‰€æœ‰å†…å®¹ â–¼â–¼â–¼ -->
<div id="chat-interface-screen" class="screen">

    <!-- ã€æœ€ç»ˆä¿®æ­£ç‰ˆã€‘Headerï¼Œå·²å°†çŠ¶æ€æ å’Œæœç´¢åŠŸèƒ½æ­£ç¡®æ•´åˆ -->
    <div class="header">
        <!-- é»˜è®¤æ§ä»¶ï¼šåŒ…å«æ ‡é¢˜ã€çŠ¶æ€æ å’Œå¸¸è§„æŒ‰é’® -->
        <div class="default-controls">
            <span class="back-btn" id="back-to-list-btn">â€¹</span>
            
            <!-- â–¼â–¼â–¼ ã€æ ¸å¿ƒæ–°å¢ã€‘æ ‡é¢˜å’ŒçŠ¶æ€çš„å®¹å™¨ â–¼â–¼â–¼ -->
            <div id="chat-header-title-wrapper">
                <span id="chat-header-title">èŠå¤©å¯¹è±¡</span>
                <div id="chat-header-status">
                    <span class="status-dot"></span>
                    <span class="status-text">åœ¨çº¿</span>
                </div>
            </div>
            <!-- â–²â–²â–² æ–°å¢ç»“æŸ â–²â–²â–² -->

            <div class="header-actions">
                <span class="action-btn" id="listen-together-btn" title="ä¸€èµ·å¬"><img src="https://i.postimg.cc/dV8sdNcx/210-20250618115221.png" alt="ä¸€èµ·å¬"></span>
                <span class="action-btn" id="chat-settings-btn" title="èŠå¤©è®¾ç½®"><img src="https://i.postimg.cc/bvPq64cv/CCA834-BA-5-A90-408-D-94-FA-7-EE156-B6-A765.png" alt="è®¾ç½®"></span>
            </div>
        </div>

        <!-- å¤šé€‰æ¨¡å¼æ§ä»¶ (ä¿æŒä¸å˜) -->
        <div class="selection-controls">
            <span id="selection-cancel-btn">å–æ¶ˆ</span>
            <span id="selection-count"></span>
            <div class="header-actions">
               <span id="selection-favorite-btn" class="action-btn">æ”¶è—</span>
       <span id="selection-share-btn" class="action-btn">åˆ†äº«</span> 
               <span id="selection-delete-btn" class="action-btn" style="color: #ff3b30;">åˆ é™¤</span>
            </div>
        </div>
    </div>
    
    <!-- èŠå¤©æ¶ˆæ¯åŒºåŸŸ (ä¿æŒä¸å˜) -->
    <div id="chat-messages"><div id="typing-indicator">å¯¹æ–¹æ­£åœ¨è¾“å…¥...</div></div>

    <!-- è¾“å…¥åŒºåŸŸ (ä¿æŒä¸å˜) -->
    <div id="chat-input-area">
<div id="reply-preview-bar">
    <div class="reply-preview-content">
        <div class="sender">å›å¤ xxx:</div>
        <div class="text">è¢«å¼•ç”¨çš„æ¶ˆæ¯å†…å®¹...</div>
    </div>
    <span id="cancel-reply-btn">Ã—</span>
</div>
        <div id="chat-input-actions-top">
            <button id="open-sticker-panel-btn" class="chat-action-icon-btn action-button" title="è¡¨æƒ…é¢æ¿">+</button>
            <button id="send-photo-btn" class="chat-action-icon-btn action-button" title="å‘é€ç…§ç‰‡"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle></svg></button>
            <button id="upload-image-btn" class="chat-action-icon-btn action-button" title="ä¸Šä¼ å›¾ç‰‡"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="color: var(--text-primary);"><path d="M21 3.5H3C2.44772 3.5 2 3.94772 2 4.5V19.5C2 20.0523 2.44772 20.5 3 20.5H21C21.5523 20.5 22 20.0523 22 19.5V4.5C22 3.94772 21.5523 3.5 21 3.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M16.5 13.5C17.6046 13.5 18.5 12.6046 18.5 11.5C18.5 10.3954 17.6046 9.5 16.5 9.5C15.3954 9.5 14.5 10.3954 14.5 11.5C14.5 12.6046 15.3954 13.5 16.5 13.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M22 14.5L18 10.5L10.3333 18.5M12.5 16L9 12.5L2 19.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button>
            <button id="transfer-btn" class="chat-action-icon-btn action-button" title="è½¬è´¦">ï¿¥</button>
            <button id="voice-message-btn" class="chat-action-icon-btn action-button" title="å‘é€è¯­éŸ³"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><path d="M12 19v4"></path><path d="M8 23h8"></path></svg></button>
<!-- â–¼â–¼â–¼ å°†è¿™è¡Œæ–°ä»£ç ç²˜è´´åˆ°â€œå‘é€è¯­éŸ³â€æŒ‰é’®çš„åé¢ â–¼â–¼â–¼ -->
<button id="send-waimai-request-btn" class="chat-action-icon-btn action-button" title="å‘èµ·å¤–å–è¯·æ±‚"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg></button>
<!-- â–²â–²â–² æ–°ä»£ç ç²˜è´´ç»“æŸ â–²â–²â–² -->
<!-- â–¼â–¼â–¼ ã€æ–°å¢ã€‘è§†é¢‘é€šè¯æŒ‰é’® â–¼â–¼â–¼ -->
<button id="video-call-btn" class="chat-action-icon-btn action-button" title="è§†é¢‘é€šè¯"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect></svg></button>
<!-- â–²â–²â–² æ–°å¢ç»“æŸ â–²â–²â–²
<!-- â–¼â–¼â–¼ç¾¤è§†é¢‘é€šè¯æŒ‰é’® â–¼â–¼â–¼ -->
<button id="group-video-call-btn" class="chat-action-icon-btn action-button" title="ç¾¤è§†é¢‘é€šè¯"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg></button>
<!-- â–²â–²â–² å…¨æ–°æ·»åŠ ç»“æŸ â–²â–²â–² -->
<!-- â–¼â–¼â–¼å‘èµ·æŠ•ç¥¨æŒ‰é’®â–¼â–¼â–¼ -->
<button id="send-poll-btn" class="chat-action-icon-btn action-button" title="å‘èµ·æŠ•ç¥¨"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 6h10"></path><path d="M6 6h.01"></path><path d="M8 12h10"></path><path d="M6 12h.01"></path><path d="M8 18h10"></path><path d="M6 18h.01"></path></svg></button>
<!-- â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² -->
<!-- â–¼â–¼â–¼ åœ¨ id="chat-input-actions-top" çš„æœ«å°¾ï¼Œã€æ·»åŠ ã€‘è¿™ä¸ªæ–°çš„æŒ‰é’® â–¼â–¼â–¼ -->
<button id="share-link-btn" class="chat-action-icon-btn action-button" title="åˆ†äº«é“¾æ¥"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"></path></svg></button>
<!-- â–²â–²â–² æ–°å¢HTMLç»“æŸ â–²â–²â–² -->
        </div>
        <div id="chat-input-main-row">
            <textarea id="chat-input" rows="1" placeholder="è¾“å…¥æ¶ˆæ¯..."></textarea>
            <div id="input-actions-wrapper">
                <button id="wait-reply-btn" title="ç­‰å¾…å›å¤"><img src="https://i.postimg.cc/q72zq80N/ECE92-BBC-BE57-48-E9-BB2-C-345-B6019-C4-B2.png" alt="ç­‰å¾…å›å¤"></button>
                <button id="send-btn" class="action-button">å‘é€</button>
            </div>
        </div>
    </div>

<!-- â–¼â–¼â–¼ åœ¨è¿™é‡Œæ–°å¢ â–¼â–¼â–¼ -->
<div id="chat-lock-overlay">
    <div id="chat-lock-content"></div>
</div>
<!-- â–²â–²â–² æ–°å¢ç»“æŸ â–²â–²â–² -->

    <!-- è¡¨æƒ…é¢æ¿ (ä¿æŒä¸å˜) -->
    <div id="sticker-panel">
        <div id="sticker-panel-header">
            <span class="panel-btn" id="close-sticker-panel-btn">å–æ¶ˆ</span>
            <span class="title">æˆ‘çš„è¡¨æƒ…</span>
            <div style="display: flex; gap: 10px;">
              <span class="panel-btn" id="add-sticker-btn">æ·»åŠ </span>
              <span class="panel-btn" id="upload-sticker-btn">ä¸Šä¼ </span>
            </div>
        </div>
        <div id="sticker-grid"></div>
    </div>
    <input type="file" id="sticker-upload-input" accept="image/*" style="display: none;">
    <input type="file" id="image-upload-input" accept="image/*" style="display: none;">
    
    <!-- éŸ³ä¹æ’­æ”¾å™¨ (ä¿æŒä¸å˜) -->
<div id="music-player-overlay">
    <div class="music-player-window">
        
        <!-- 1. é¡¶éƒ¨æ“ä½œæ  -->
        <div class="music-player-top-actions">
            <div class="top-left-cluster">
                <button id="music-return-btn">â€¹</button>
                <button id="music-exit-btn">Ã—</button>
            </div>
            <span id="music-playlist-btn">â˜°</span>
        </div>
        
        <!-- 2. æ­Œæ›²ä¿¡æ¯ -->
        <div id="music-time-counter">å·²ç»ä¸€èµ·å¬äº†0.0å°æ—¶</div>
        <div id="music-player-song-title">è¯·æ·»åŠ æ­Œæ›²</div>
        <div id="music-player-artist">...</div>
        
        <!-- 3. ã€å…¨æ–°ã€‘æ­Œè¯æ˜¾ç¤ºåŒºåŸŸ -->
        <div id="music-lyrics-container">
            <div id="music-lyrics-list">
                <!-- æ­Œè¯å°†ç”±JSåŠ¨æ€ç”Ÿæˆåœ¨è¿™é‡Œ -->
                <div class="lyric-line">â™ª æš‚æ— æ­Œè¯ â™ª</div>
            </div>
        </div>
        
        <!-- 4. ã€å…¨æ–°ã€‘æ’­æ”¾æ§åˆ¶åŒºçš„åŒ…è£¹å®¹å™¨ -->
        <div class="music-player-controls-wrapper">
            <!-- a. æ–°çš„iOSé£æ ¼è¿›åº¦æ¡ -->
            <div class="music-progress-bar-container">
                <div id="music-current-time" class="time-display">0:00</div>
                <div class="progress-bar">
                    <div id="music-progress-fill" class="progress-bar-fill"></div>
                </div>
                <div id="music-total-time" class="time-display">0:00</div>
            </div>
            
            <!-- b. æ’­æ”¾æ§åˆ¶æŒ‰é’® -->
            <div class="music-controls">
                <button id="music-prev-btn">â—€</button>
                <button id="music-play-pause-btn" class="play-pause-btn">â–¶</button>
                <button id="music-next-btn">â–¶</button>
                <button id="music-mode-btn">é¡ºåº</button>
            </div>
        </div>

    </div>
</div>
    
    <div id="music-playlist-panel">
        <div class="playlist-header">
            <span class="panel-btn" id="close-playlist-btn">è¿”å›</span>
            <span>æ’­æ”¾åˆ—è¡¨</span>
            <div>
                <span class="panel-btn" id="add-song-local-btn">æœ¬åœ°</span>
                <span class="panel-btn" id="add-song-url-btn">URL</span>
            </div>
        </div>
        <div class="playlist-body" id="playlist-body"></div>
    </div>
    <input type="file" id="local-song-upload-input" accept="audio/*" multiple="" style="display: none;">
<input type="file" id="lrc-upload-input" accept=".lrc" style="display: none;">
</div>
<!-- â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ ç”¨è¿™æ•´å—ä»£ç æ›¿æ¢ä½ åŸæ¥çš„ id="wallpaper-screen" â–¼â–¼â–¼ -->
<div id="wallpaper-screen" class="screen">
    <div class="header">
        <span class="back-btn" onclick="showScreen('home-screen')">â€¹</span>
        <!-- ã€æ ¸å¿ƒä¿®æ”¹1ã€‘æ ‡é¢˜æ”¹ä¸ºâ€œå¤–è§‚è®¾ç½®â€ï¼Œæ›´é€šç”¨ -->
        <span>å¤–è§‚è®¾ç½®</span>
        <span style="width: 30px;"></span>
    </div>
    <div class="form-container">
        <!-- å£çº¸è®¾ç½®éƒ¨åˆ†ä¿æŒä¸å˜ -->
        <div id="wallpaper-preview">ç‚¹å‡»ä¸‹æ–¹ä¸Šä¼ </div>
        <button class="form-button" onclick="document.getElementById('wallpaper-upload-input').click();">ä¸Šä¼ å£çº¸</button>
        <input type="file" id="wallpaper-upload-input" accept="image/*">

<!-- â–¼â–¼â–¼ å°†ã€ä¸Šé¢æ•´å—ä»£ç ã€‘ï¼Œå®Œæ•´æ›¿æ¢ä¸ºä¸‹é¢è¿™æ®µã€å…¨æ–°çš„ä»£ç ã€‘ â–¼â–¼â–¼ -->
<div class="form-group" style="display: flex; justify-content: space-between; align-items: center;">
    <label for="theme-toggle-switch" style="margin-bottom: 0;">å¤œé—´æ¨¡å¼</label>
    <label class="toggle-switch">
        <input type="checkbox" id="theme-toggle-switch">
        <span class="slider"></span>
    </label>
</div>
<!-- â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² -->
        
        <!-- ã€æ ¸å¿ƒä¿®æ”¹2ã€‘æ–°å¢å›¾æ ‡è®¾ç½®åŒºåŸŸ -->
        <hr style="width: 80%; opacity: 0.3; margin: 30px 0;">
        <div style="width:100%; text-align: left; margin-bottom: 15px;">
            <label style="font-weight: 500; color: var(--text-secondary);">App å›¾æ ‡è®¾ç½®</label>
        </div>
        <div id="icon-settings-grid">
            <!-- å›¾æ ‡è®¾ç½®é¡¹å°†ç”±JSåŠ¨æ€ç”Ÿæˆåœ¨è¿™é‡Œ -->
        </div>
        
        <!-- ã€æ ¸å¿ƒä¿®æ”¹3ã€‘æŒ‰é’®æ–‡å­—ä¹Ÿæ”¹ä¸€ä¸‹ -->
        <button class="form-button" id="save-wallpaper-btn" style="margin-top: 30px;">ä¿å­˜æ‰€æœ‰å¤–è§‚è®¾ç½®</button>
    </div>
</div>
<!-- â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘åˆ†äº«é“¾æ¥åŠŸèƒ½ HTML â–¼â–¼â–¼ -->
<div id="browser-screen" class="screen">
    <div class="header">
        <span class="back-btn" id="browser-back-btn">â€¹</span>
        <span id="browser-title"></span>
        <span style="width: 30px;"></span>
    </div>
    <div id="browser-content" class="list-container">
        <!-- æ–‡ç« å†…å®¹å°†ç”±JSåŠ¨æ€ç”Ÿæˆåœ¨è¿™é‡Œ -->
    </div>
</div>
<!-- â–²â–²â–² æ–°HTMLç²˜è´´ç»“æŸ â–²â–²â–² -->

<div id="font-settings-screen" class="screen">
    <div class="header">
        <span class="back-btn" onclick="showScreen('home-screen')">â€¹</span>
        <span>å­—ä½“è®¾ç½®</span>
        <span style="width: 30px;"></span>
    </div>
    <div class="form-container">
        <div class="form-group">
            <label for="font-url-input">å­—ä½“æ–‡ä»¶URL (.ttf, .otf, .woffç­‰)</label>
            <input type="text" id="font-url-input" placeholder="https://..../font.ttf">
        </div>

        <div class="form-group">
            <label>å®æ—¶é¢„è§ˆ</label>
<div id="font-preview">
                <p style="font-size: 20px; margin: 0 0 10px 0;">ä½ å¥½ä¸–ç•Œ Hello World</p>
                <p style="margin: 0;">è¿™æ˜¯å­—ä½“é¢„è§ˆæ•ˆæœï¼Œ12345ã€‚</p>
            </div>
        </div>

        <button class="form-button" id="save-font-btn">ä¿å­˜å¹¶åº”ç”¨</button>
        <button class="form-button form-button-secondary" id="reset-font-btn">æ¢å¤é»˜è®¤å­—ä½“</button>
    </div>
</div>

<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘é€‰æ‹©è”ç³»äººä»¥åˆ›å»ºç¾¤èŠçš„å±å¹• â–¼â–¼â–¼ -->
<div id="contact-picker-screen" class="screen">
    <div class="header">
        <span class="back-btn" id="cancel-contact-picker-btn">å–æ¶ˆ</span>
        <span>é€‰æ‹©è”ç³»äºº</span>
        <span class="save-btn" id="confirm-contact-picker-btn">å®Œæˆ(0)</span>
    </div>
    <div class="list-container" id="contact-picker-list">
        <!-- è”ç³»äººåˆ—è¡¨å°†ç”±JSåŠ¨æ€ç”Ÿæˆ -->
    </div>
</div>
<!-- â–²â–²â–² æ–°HTMLç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ç¾¤æˆå‘˜ç®¡ç†å±å¹• â–¼â–¼â–¼ -->
<div id="member-management-screen" class="screen">
    <div class="header">
        <span class="back-btn" id="back-from-member-management">â€¹</span>
        <span>ç¾¤æˆå‘˜ç®¡ç†</span>
        <span style="width: 30px;"></span>
    </div>
    <div class="list-container" id="member-management-list">
        <!-- ç°æœ‰æˆå‘˜åˆ—è¡¨ä¼šåœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
    </div>
    <div id="member-management-actions">
        <button id="add-existing-contact-btn">ä»å¥½å‹åˆ—è¡¨æ·»åŠ </button>
        <button id="create-new-member-btn">åˆ›å»ºç¾¤å†…æ–°æˆå‘˜</button>
    </div>
</div>
<!-- â–²â–²â–² æ–°HTMLç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æ¥ç”µè¯·æ±‚æ¨¡æ€æ¡† â–¼â–¼â–¼ -->
<div id="incoming-call-modal" class="modal">
    <div class="incoming-call-content">
        <img id="caller-avatar" class="caller-avatar" src="">
        <div id="caller-name" class="caller-name"></div>
        <div class="caller-text">é‚€è¯·ä½ è§†é¢‘é€šè¯</div>
        <div class="incoming-call-actions">
            <div class="action-button-wrapper">
                <button id="decline-call-btn" class="call-action-btn decline"></button>
                <span>æ‹’ç»</span>
            </div>
            <div class="action-button-wrapper">
                <button id="accept-call-btn" class="call-action-btn accept"></button>
                <span>æ¥å¬</span>
            </div>
        </div>
    </div>
</div>
<!-- â–²â–²â–² æ–°å¢ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ è¯·ç”¨è¿™æ®µã€å…¨æ–°ç¾¤èŠå…¼å®¹ç»“æ„ã€‘çš„ä»£ç ï¼Œå®Œæ•´æ›¿æ¢ä½ æ—§çš„ #video-call-screen â–¼â–¼â–¼ -->
<div id="video-call-screen" class="screen">
    <!-- 1. é¡¶éƒ¨æ  (ä¿æŒä¸å˜) -->
    <div class="video-call-top-bar">
        <span id="call-timer">00:00</span>
    </div>
    
    <!-- 2. ã€å‡çº§ã€‘å‚ä¸è€…å¤´åƒç½‘æ ¼åŒºåŸŸ -->
    <div class="video-call-avatar-area">
        <div id="participant-avatars-grid">
            <!-- JSä¼šåœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆå¤´åƒ -->
        </div>
    </div>

    <!-- 3. å¯¹è¯æ¡†åŒºåŸŸ (ä¿æŒä¸å˜) -->
    <div id="video-call-main" class="video-call-main">
        <!-- å¯¹è¯å†…å®¹ä¼šåŠ¨æ€ç”Ÿæˆåœ¨è¿™é‡Œ -->
    </div>
    
    <!-- 4. ã€å‡çº§ã€‘åº•éƒ¨æ§åˆ¶æ ï¼Œç°åœ¨åŒ…å«ä¸€ä¸ªâ€œåŠ å…¥â€æŒ‰é’® -->
    <div class="video-call-controls">
        <button id="user-speak-btn" class="control-btn speak-btn"></button>
        <button id="hang-up-btn" class="control-btn hangup-btn"></button>
        <!-- è¿™ä¸ªæŒ‰é’®é»˜è®¤éšè—ï¼Œåªåœ¨ç”¨æˆ·â€œæ—è§‚â€æ—¶æ˜¾ç¤º -->
        <button id="join-call-btn" class="control-btn join-btn" style="display: none;"></button>
    </div>
</div>
<!-- â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ ã€å…¨æ–°æ·»åŠ ã€‘æ­£åœ¨å‘¼å«ç•Œé¢ â–¼â–¼â–¼ -->
<div id="outgoing-call-screen" class="screen">
    <div class="outgoing-call-content">
        <img id="outgoing-call-avatar" class="caller-avatar" src="">
        <div id="outgoing-call-name" class="caller-name"></div>
        <div class="caller-text">æ­£åœ¨å‘¼å«...</div>
        <div class="outgoing-call-actions">
            <button id="cancel-call-btn" class="call-action-btn decline"></button>
            <span>å–æ¶ˆ</span>
        </div>
    </div>
</div>
<!-- â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘é€šè¯è®°å½•é¡µé¢ â–¼â–¼â–¼ -->
<div id="call-history-screen" class="screen">
    <div class="header">
        <span class="back-btn" id="call-history-back-btn">â€¹</span>
        <span id="call-history-title">é€šè¯è®°å½•</span>
        <span style="width: 30px;"></span> <!-- å ä½ç¬¦ï¼Œä¿æŒæ ‡é¢˜å±…ä¸­ -->
    </div>
    <div id="call-history-list" class="list-container" style="padding: 15px; display: flex; flex-direction: column; gap: 15px;">
        <!-- é€šè¯è®°å½•å¡ç‰‡å°†ç”±JSåŠ¨æ€ç”Ÿæˆåœ¨è¿™é‡Œ -->
    </div>
</div>
<!-- â–²â–²â–² æ–°HTMLç²˜è´´ç»“æŸ â–²â–²â–² -->

        </div>
    </div>
  
    <div id="chat-settings-modal" class="modal"><div class="modal-content"><div class="modal-header"><span>èŠå¤©è®¾ç½®</span></div><div class="modal-body"><div class="form-group" id="chat-name-group"><label for="chat-name-input">å¤‡æ³¨å / ç¾¤å</label><input type="text" id="chat-name-input"></div>

    <!-- â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°ä»£ç ç²˜è´´åˆ°â€œå¤‡æ³¨åâ€è¾“å…¥æ¡†çš„ form-group ä¹‹å â–¼â–¼â–¼ -->
    <div class="form-group" id="assign-group-section" style="display: none;"> <!-- é»˜è®¤éšè—ï¼Œåªå¯¹å•èŠæ˜¾ç¤º -->
        <label for="assign-group-select">å¥½å‹åˆ†ç»„</label>
        <div style="display: flex; align-items: center; gap: 10px;">
            <select id="assign-group-select" style="flex-grow: 1;">
                <!-- åˆ†ç»„é€‰é¡¹å°†ç”±JSåŠ¨æ€ç”Ÿæˆ -->
            </select>
            <button id="manage-groups-btn" class="form-button-secondary" style="margin-top: 0; padding: 12px;">ç®¡ç†åˆ†ç»„</button>
        </div>
    </div>
    <!-- â–²â–²â–² æ–°ä»£ç ç²˜è´´ç»“æŸ â–²â–²â–² -->

<div class="form-group" id="my-group-nickname-group"><label for="my-group-nickname-input">æˆ‘çš„ç¾¤æ˜µç§°</label><input type="text" id="my-group-nickname-input"></div><div class="form-group" id="group-avatar-group"><label>ç¾¤å¤´åƒ</label><div class="avatar-upload"><img id="group-avatar-preview"><button onclick="document.getElementById('group-avatar-input').click()">ä¸Šä¼ ç¾¤å¤´åƒ</button><input type="file" id="group-avatar-input" accept="image/*"></div></div>
            <div class="form-group" id="world-book-link-group">
                <label>å…³è”ä¸–ç•Œä¹¦ (å¯å¤šé€‰)</label>
                <div class="custom-multiselect">
                    <div class="select-box">
                        <span class="selected-options-text">-- ç‚¹å‡»é€‰æ‹© --</span>
                        <span class="arrow-down">â–¼</span>
                    </div>
                    <div id="world-book-checkboxes-container" class="checkboxes-container">
                    </div>
                </div>
            </div>
            <div class="form-group" id="ai-persona-group"><label for="ai-persona">å¯¹æ–¹äººè®¾ (AI Persona)</label><textarea id="ai-persona" rows="3"></textarea></div><div class="form-group" id="ai-avatar-group"><label>å¯¹æ–¹å¤´åƒ</label><div class="avatar-upload"><img id="ai-avatar-preview"><button onclick="document.getElementById('ai-avatar-input').click()">ä¸Šä¼ å¯¹æ–¹å¤´åƒ</button><button id="manage-ai-avatar-library-btn">ç®¡ç†å¤´åƒåº“</button>
<input type="file" id="ai-avatar-input" accept="image/*"></div></div><div class="form-group" id="my-persona-group"><label for="my-persona">æˆ‘çš„äººè®¾ (My Persona)</label><textarea id="my-persona" rows="3"></textarea></div><div class="form-group" id="my-avatar-group"><label>æˆ‘çš„å¤´åƒ</label><div class="avatar-upload"><img id="my-avatar-preview"><button onclick="document.getElementById('my-avatar-input').click()">ä¸Šä¼ æˆ‘çš„å¤´åƒ</button><button id="open-persona-library-btn">é¢„è®¾</button><input type="file" id="my-avatar-input" accept="image/*"></div></div><div class="form-group" id="group-members-group"><label>ç¾¤æˆå‘˜äººè®¾</label><div id="group-members-settings"></div>

    <!-- ã€æ–°å¢ã€‘ç®¡ç†æˆå‘˜æŒ‰é’® -->
    <button id="manage-members-btn" class="form-button form-button-secondary" style="margin-top: 15px;">ç®¡ç†ç¾¤æˆå‘˜</button></div>
<div class="form-group"><label for="max-memory">ä¸Šä¸‹æ–‡è®°å¿†æ¡æ•°</label><input type="number" id="max-memory" value="10"></div><div class="form-group"><label>èŠå¤©æ°”æ³¡ä¸»é¢˜ <button id="reset-theme-btn" type="button">é‡ç½®</button></label><div class="theme-selector"><label><input type="radio" name="theme-select" value="default" id="theme-default"> é»˜è®¤</label><label><input type="radio" name="theme-select" value="pink_blue"> ç²‰è“</label><label><input type="radio" name="theme-select" value="blue_white"> è“ç™½</label><label><input type="radio" name="theme-select" value="purple_yellow"> ç´«é»„</label><label><input type="radio" name="theme-select" value="black_white"> é»‘ç™½</label><label><input type="radio" name="theme-select" value="yellow_white"> é»„ç™½</label><label><input type="radio" name="theme-select" value="red_black"> çº¢é»‘</label><label><input type="radio" name="theme-select" value="blue_yellow"> è“é»„</label><label><input type="radio" name="theme-select" value="pink_yellow"> ç²‰é»„</label><label><input type="radio" name="theme-select" value="pink_purple"> ç²‰ç´«</label><label><input type="radio" name="theme-select" value="gray_white"> ç°ç™½</label><label><input type="radio" name="theme-select" value="blue_green"> è“ç»¿</label><label><input type="radio" name="theme-select" value="pink_white"> ç²‰ç™½</label><label><input type="radio" name="theme-select" value="pink_black"> ç²‰é»‘</label><label><input type="radio" name="theme-select" value="pink_green"> ç²‰ç»¿</label><label><input type="radio" name="theme-select" value="green_black"> ç»¿é»‘</label></div></div>

<!-- â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°ä»£ç ç²˜è´´åˆ°â€œèŠå¤©æ°”æ³¡ä¸»é¢˜â€çš„ form-group ä¹‹å â–¼â–¼â–¼ -->
<div class="form-group">
    <label for="font-size-slider">èŠå¤©å­—ä½“å¤§å° <span id="font-size-value">13px</span></label>
    <input type="range" id="font-size-slider" min="12" max="20" step="1" value="13" style="width: 100%; margin-top: 8px;">
</div>
<!-- â–²â–²â–² æ–°ä»£ç ç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°ä»£ç ç²˜è´´åˆ°â€œèŠå¤©å­—ä½“å¤§å°â€çš„ form-group ä¹‹å â–¼â–¼â–¼ -->
<div class="form-group">
    <label for="custom-css-input">
        è‡ªå®šä¹‰æ°”æ³¡æ ·å¼ (CSS)
        <button id="reset-custom-css-btn" type="button" style="background: none; border: 1px solid #ccc; color: #555; font-size: 12px; padding: 2px 8px; border-radius: 5px; cursor: pointer; margin-left: 10px;">é‡ç½®</button>
    </label>
    <textarea id="custom-css-input" rows="5" style="width: 100%; margin-top: 8px; font-family: monospace; font-size: 12px; resize: vertical;" placeholder="/* ç¤ºä¾‹ï¼šä¸ºâ€œæˆ‘â€çš„æ°”æ³¡æ·»åŠ æ¸å˜èƒŒæ™¯å’Œé˜´å½± */
.message-bubble.user .content {
  background: linear-gradient(135deg, #a1c4fd, #c2e9fb);
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  border-radius: 15px 4px 15px 15px;
}"></textarea>
</div>
<!-- â–²â–²â–² æ–°ä»£ç ç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°ä»£ç ç²˜è´´åˆ°è‡ªå®šä¹‰CSSè¾“å…¥æ¡†çš„ form-group ä¹‹å â–¼â–¼â–¼ -->
<div class="form-group">
    <label>å®æ—¶é¢„è§ˆ</label>
    <div id="settings-preview-area">
        <!-- JSä¼šåœ¨è¿™é‡Œç”Ÿæˆé¢„è§ˆå†…å®¹ -->
    </div>
</div>
<!-- â–²â–²â–² æ–°ä»£ç ç²˜è´´ç»“æŸ â–²â–²â–² -->

            <div class="form-group">
                <label>èŠå¤©èƒŒæ™¯</label>
                <div class="bg-upload-container">
                    <button type="button" class="form-button-secondary" style="width: auto; padding: 8px 12px; margin-top: 0;" onclick="document.getElementById('bg-input').click()">ä¸Šä¼ èƒŒæ™¯å›¾</button>
                    <button type="button" id="remove-bg-btn">ç§»é™¤èƒŒæ™¯</button>
                </div>
                <img id="bg-preview" class="bg-preview-img">
                <input type="file" id="bg-input" accept="image/*" style="display: none;">
            </div>
<hr style="margin: 25px 0; border: none; border-top: 1px solid #eee;">
<button class="form-button form-button-secondary" id="block-chat-btn" style="background-color: #ff3b30; color: white; border-color: #ff3b30;">æ‹‰é»‘å¯¹æ–¹</button>
<button class="form-button form-button-secondary" id="clear-chat-btn">æ¸…ç©ºèŠå¤©è®°å½•</button></div><div class="modal-footer"><button class="cancel" id="cancel-chat-settings-btn">å–æ¶ˆ</button><button class="save" id="save-chat-settings-btn">ä¿å­˜</button></div></div></div>
    
    <div id="persona-library-modal" class="modal"><div class="modal-content"><div class="modal-header"><span>æˆ‘çš„äººè®¾åº“</span><button id="add-persona-preset-btn" class="action-button">æ·»åŠ </button></div><div class="modal-body"><div id="persona-library-grid"></div></div><div class="modal-footer"><button class="cancel" id="close-persona-library-btn">å…³é—­</button></div></div></div>
    
    <div id="persona-editor-modal" class="modal"><div class="modal-content"><div class="modal-header"><span id="persona-editor-title">æ·»åŠ äººè®¾é¢„è®¾</span></div><div class="modal-body"><div class="form-group"><label>é¢„è®¾å¤´åƒ</label><div class="avatar-upload"><img id="preset-avatar-preview"><button onclick="document.getElementById('preset-avatar-input').click()">ä¸Šä¼ å¤´åƒ</button><input type="file" id="preset-avatar-input" accept="image/*"></div></div><div class="form-group"><label for="preset-persona-input">é¢„è®¾äººè®¾</label><textarea id="preset-persona-input" rows="4" placeholder="åœ¨æ­¤è¾“å…¥è¿™ä¸ªäººè®¾çš„è¯¦ç»†è®¾å®š..."></textarea></div></div><div class="modal-footer"><button class="cancel" id="cancel-persona-editor-btn">å–æ¶ˆ</button><button class="save" id="save-persona-preset-btn">ä¿å­˜</button></div></div></div>

    <div id="member-settings-modal" class="modal"><div class="modal-content"><div class="modal-header"><span>ç¼–è¾‘ç¾¤æˆå‘˜</span></div><div class="modal-body">
    <div class="form-group"><label for="member-name-input">åå­—</label><input type="text" id="member-name-input"></div>
    <div class="form-group"><label for="member-persona-input">äººè®¾</label><textarea id="member-persona-input" rows="4"></textarea></div>
    <div class="form-group"><label>å¤´åƒ</label><div class="avatar-upload"><img id="member-avatar-preview"><button onclick="document.getElementById('member-avatar-input').click()">ä¸Šä¼ å¤´åƒ</button><input type="file" id="member-avatar-input" accept="image/*"></div></div>
    </div><div class="modal-footer"><button class="cancel" id="cancel-member-settings-btn">å–æ¶ˆ</button><button class="save" id="save-member-settings-btn">ä¿å­˜</button></div></div></div>
    
    <div id="custom-modal-overlay">
        <div id="custom-modal">
            <div class="custom-modal-header" id="custom-modal-title"></div>
            <div class="custom-modal-body" id="custom-modal-body"></div>
            <div class="custom-modal-footer">
                <button id="custom-modal-cancel">å–æ¶ˆ</button>
                <button id="custom-modal-confirm" class="confirm-btn">ç¡®å®š</button>
            </div>
        </div>
    </div>
    
    <div id="preset-actions-modal" class="modal">
        <div id="custom-modal" style="width: 250px;">
            <div class="custom-modal-footer">
                <button id="preset-action-edit">ç¼–è¾‘é¢„è®¾</button>
                <button id="preset-action-delete" class="btn-danger">åˆ é™¤é¢„è®¾</button>
                <button id="preset-action-cancel" style="margin-top: 8px; border-radius: 8px; background-color: #f0f0f0;">å–æ¶ˆ</button>
            </div>
        </div>
    </div>

    <div id="transfer-modal">
        <div class="transfer-content">
            <div class="transfer-header">ç»™Taä¸€ä¸ªæƒŠå–œï¼</div>
            <div class="transfer-input-group">
                <label for="transfer-amount">è½¬è´¦é‡‘é¢</label>
                <input type="number" id="transfer-amount" placeholder="0.00" min="0" max="9999" step="0.01">
            </div>
            <div class="transfer-input-group">
                <label for="transfer-note">å¤‡æ³¨ (å¯é€‰)</label>
                <input type="text" id="transfer-note" placeholder="ç•™ä¸‹ä½ çš„å°å¿ƒæ€~" maxlength="20">
            </div>
            <div class="transfer-actions">
                <button id="transfer-cancel-btn">å–æ¶ˆ</button>
                <button id="transfer-confirm-btn">ç¡®è®¤è½¬è´¦</button>
            </div>
        </div>
    </div>

 <div id="battery-alert-modal">
    <div class="battery-alert-content">
        <img id="battery-alert-image" src="">
        <p id="battery-alert-text"></p>
    </div>
</div>

    <audio id="audio-player" style="display:none;"></audio>

<!-- â–¼â–¼â–¼ ç”¨ä¸‹é¢è¿™æ®µã€å®Œæ•´ã€‘çš„æ¨¡æ€æ¡†ä»£ç ï¼Œæ›¿æ¢æ‰ä½ ç°æœ‰çš„ id="create-post-modal" çš„æ•´ä¸ª div â–¼â–¼â–¼ -->
<div id="create-post-modal" class="modal">
    <div class="modal-content" style="height: auto; max-height: 90%;">
        <div class="modal-header">
            <span>å‘å¸ƒåŠ¨æ€</span>
        </div>
        <div class="modal-body">
            <!-- å…¬å¼€æ–‡å­—è¾“å…¥åŒº -->
            <div class="form-group">
                <textarea id="post-public-text" rows="3" placeholder="åˆ†äº«æ–°é²œäº‹...ï¼ˆéå¿…å¡«çš„å…¬å¼€æ–‡å­—ï¼‰"></textarea>
            </div>

            <!-- === æ¨¡å¼åˆ‡æ¢å¼€å…³ (æ–°å¢) === -->
            <div class="post-mode-switcher">
                <button id="switch-to-image-mode" class="mode-btn active">ä¸Šä¼ å›¾ç‰‡</button>
                <button id="switch-to-text-image-mode" class="mode-btn">ä½¿ç”¨æ–‡å­—å›¾</button>
            </div>

<!-- â–¼â–¼â–¼ ã€ä¿®æ­£åã€‘çš„å¯è§èŒƒå›´è®¾ç½® â–¼â–¼â–¼ -->
<div class="form-group">
    <label>å¯è§èŒƒå›´</label>
    <div id="post-visibility-options" style="display: flex; gap: 15px; margin-bottom: 10px;">
        <label><input type="radio" name="visibility" value="public" checked=""> å…¬å¼€</label>

        <label><input type="radio" name="visibility" value="include"> æŒ‡å®šåˆ†ç»„å¯è§</label>
    </div>
    <div id="post-visibility-groups" style="display: none; max-height: 120px; overflow-y: auto; background: #f9f9f9; padding: 10px; border-radius: 8px;">
        <!-- åˆ†ç»„å¤šé€‰æ¡†å°†ç”±JSåŠ¨æ€ç”Ÿæˆ -->
    </div>
</div>
<!-- â–²â–²â–² ä¿®æ­£ç»“æŸ â–²â–²â–² -->

            <!-- === å›¾ç‰‡æ¨¡å¼åŒºåŸŸ === -->
            <div id="image-mode-content" class="post-mode-content active">
                <div class="form-group">
<div id="post-image-preview-container" class="post-image-preview-container">
                        <img id="post-image-preview" src="" alt="å›¾ç‰‡é¢„è§ˆ">
                        <button id="post-remove-image-btn">Ã—</button>
                    </div>
                    <div class="post-image-upload-options">
                        <button id="post-upload-local-btn" class="form-button-secondary">æœ¬åœ°ä¸Šä¼ </button>
                        <button id="post-use-url-btn" class="form-button-secondary">ç½‘ç»œURL</button>
                        <input type="file" id="post-local-image-input" accept="image/*" hidden="">
                    </div>
                </div>
                <div id="post-image-desc-group" class="form-group" style="display: none;">
                    <label>å›¾ç‰‡æè¿° (å¿…å¡«ï¼Œç»™AIçœ‹)</label>
                    <input type="text" id="post-image-description" placeholder="ç®€å•æè¿°å›¾ç‰‡å†…å®¹ï¼Œå¸®åŠ©AIç†è§£">
                </div>
            </div>

            <!-- === æ–‡å­—å›¾æ¨¡å¼åŒºåŸŸ (æ–°å¢) === -->
            <div id="text-image-mode-content" class="post-mode-content">
                <div class="form-group">
                    <label>æ–‡å­—å›¾ (ç»™AIç†è§£ç”¨çš„æè¿°ï¼Œç‚¹å‡»å›¾ç‰‡åå¯è§)</label>
                    <textarea id="post-hidden-text" rows="4" placeholder="åœ¨è¿™é‡Œå†™ä¸‹å›¾ç‰‡æè¿°..."></textarea>
                </div>
            </div>

        </div>
        <div class="modal-footer">
            <button class="cancel" id="cancel-create-post-btn">å–æ¶ˆ</button>
            <button class="save" id="confirm-create-post-btn">å‘å¸ƒ</button>
        </div>
    </div>
</div>
<!-- â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ è¯·å°†è¿™ä¸ªæ–°çš„æ¨¡æ€æ¡†HTMLç²˜è´´åˆ°æ‰€æœ‰å…¶ä»–æ¨¡æ€æ¡†ä¹‹å â–¼â–¼â–¼ -->
<div id="group-management-modal" class="modal">
    <div class="modal-content" style="height: 60%;">
        <div class="modal-header">
            <span>ç®¡ç†å¥½å‹åˆ†ç»„</span>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label>æ–°å»ºåˆ†ç»„</label>
                <div style="display: flex; gap: 10px;">
                    <input type="text" id="new-group-name-input" placeholder="è¾“å…¥åˆ†ç»„å..." style="flex-grow: 1;">
                    <button id="add-new-group-btn" class="form-button" style="width: auto; margin-top: 0; padding: 0 15px;">æ·»åŠ </button>
                </div>
            </div>
            <hr style="opacity: 0.2;">
            <div id="existing-groups-list" style="display: flex; flex-direction: column; gap: 10px;">
                <!-- åˆ†ç»„åˆ—è¡¨å°†ç”±JSåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        <div class="modal-footer">
            <button class="save" id="close-group-manager-btn" style="width: 100%;">å®Œæˆ</button>
        </div>
    </div>
</div>
<!-- â–²â–²â–² æ–°ä»£ç ç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°HTMLç²˜è´´åˆ°æ‰€æœ‰æ¨¡æ€æ¡†çš„æœ«å°¾ â–¼â–¼â–¼ -->
<div id="message-actions-modal" class="modal">
    <div id="custom-modal" style="width: 250px;">
        <div class="custom-modal-footer">
            <!-- æ–°çš„æ“ä½œæŒ‰é’® -->
            <button id="edit-message-btn">ç¼–è¾‘æ¶ˆæ¯</button>
            <button id="copy-message-btn">å¤åˆ¶æ–‡æœ¬</button>
            <button id="recall-message-btn">æ’¤å›</button>
<button id="quote-message-btn">å¼•ç”¨</button>
            <button id="select-message-btn">è¿›å…¥å¤šé€‰</button>
            <!-- å–æ¶ˆæŒ‰é’® -->
            <button id="cancel-message-action-btn" style="margin-top: 8px; border-radius: 8px; background-color: #f0f0f0;">å–æ¶ˆ</button>
        </div>
    </div>
</div>
<!-- â–²â–²â–² æ–°HTMLç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°HTMLç²˜è´´åˆ°æ‰€æœ‰æ¨¡æ€æ¡†çš„æœ«å°¾ â–¼â–¼â–¼ -->
<div id="post-actions-modal" class="modal">
    <div id="custom-modal" style="width: 250px;">
        <div class="custom-modal-footer">
            <button id="edit-post-btn">ç¼–è¾‘åŠ¨æ€</button>
            <button id="copy-post-btn">å¤åˆ¶å†…å®¹</button>           
            <button id="cancel-post-action-btn">å–æ¶ˆ</button>
        </div>
    </div>
</div>
<!-- â–²â–²â–² æ–°HTMLç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¯è§†åŒ–æ¶ˆæ¯ç¼–è¾‘å™¨æ¨¡æ€æ¡† â–¼â–¼â–¼ -->
<div id="message-editor-modal" class="modal">
    <div class="modal-content" style="height: 75%;">
        <div class="modal-header">
            <span>ç¼–è¾‘ä¸æ‹†åˆ†æ¶ˆæ¯</span>
        </div>
        <div class="modal-body" id="message-editor-body">
            <!-- ç¼–è¾‘å™¨å®¹å™¨ï¼ŒJSä¼šåœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆæ–‡æœ¬æ¡† -->
            <div id="message-editor-container"></div>
            <!-- æ·»åŠ æ–°æ¶ˆæ¯çš„æŒ‰é’® -->
            <button id="add-message-editor-block-btn" class="form-button form-button-secondary" style="margin-top: 15px;">
                [+] æ·»åŠ ä¸‹ä¸€æ¡æ¶ˆæ¯
            </button>
        </div>
        <div class="modal-footer">
            <button class="cancel" id="cancel-advanced-editor-btn">å–æ¶ˆ</button>
            <button class="save" id="save-advanced-editor-btn">ä¿å­˜æ›´æ”¹</button>
        </div>
    </div>
</div>
<!-- â–²â–²â–² æ–°HTMLç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¤–å–è¯·æ±‚æ¨¡æ€æ¡† â–¼â–¼â–¼ -->
<div id="waimai-request-modal" class="modal">
    <div class="modal-content" style="width: 290px;">
        <div class="modal-header">
            <span>å‘èµ·å¤–å–ä»£ä»˜</span>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="waimai-product-info">å•†å“ä¿¡æ¯</label>
                <input type="text" id="waimai-product-info" placeholder="ä¾‹å¦‚ï¼šä¸€æ¯æ¨æç”˜éœ²">
            </div>
            <div class="form-group">
                <label for="waimai-amount">ä»£ä»˜é‡‘é¢ (å…ƒ)</label>
                <input type="number" id="waimai-amount" placeholder="ä¾‹å¦‚ï¼š21" min="0" step="0.01">
            </div>
        </div>
        <div class="modal-footer">
            <button class="cancel" id="waimai-cancel-btn">å–æ¶ˆ</button>
            <button class="save" id="waimai-confirm-btn">å‘èµ·è¯·æ±‚</button>
        </div>
    </div>
</div>

<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æ–°å»ºçº¦å®š/å€’è®¡æ—¶æ¨¡æ€æ¡† â–¼â–¼â–¼ -->
<div id="create-countdown-modal" class="modal">
    <div class="modal-content" style="height: auto;">
        <div class="modal-header">
            <span>æ–°å»ºçº¦å®š</span>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="countdown-title-input">çº¦å®šæ ‡é¢˜</label>
                <input type="text" id="countdown-title-input" placeholder="ä¾‹å¦‚ï¼šæˆ‘çš„ç”Ÿæ—¥">
            </div>
            <div class="form-group">
                <label for="countdown-date-input">çº¦å®šæ—¥æœŸä¸æ—¶é—´</label>
                <input type="datetime-local" id="countdown-date-input">
            </div>
        </div>
        <div class="modal-footer">
            <button class="cancel" id="cancel-create-countdown-btn">å–æ¶ˆ</button>
            <button class="save" id="confirm-create-countdown-btn">ä¿å­˜çº¦å®š</button>
        </div>
    </div>
</div>
<!-- â–²â–²â–² æ–°HTMLç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å‘çº¢åŒ…æ¨¡æ€æ¡† â–¼â–¼â–¼ -->
<div id="red-packet-modal" class="modal">
    <div class="modal-content" style="width: 300px; height: auto;">
        <div class="modal-header">
            <span>å‘çº¢åŒ…</span>
        </div>
        <div class="modal-body" style="padding: 0;">
            <!-- 1. é¡µç­¾åˆ‡æ¢ -->
            <div class="frame-tabs">
                <div id="rp-tab-group" class="frame-tab active">æ‹¼æ‰‹æ°”çº¢åŒ…</div>
                <div id="rp-tab-direct" class="frame-tab">ä¸“å±çº¢åŒ…</div>
            </div>

            <!-- 2. æ‹¼æ‰‹æ°”çº¢åŒ…å†…å®¹åŒº -->
            <div id="rp-content-group" class="frame-content" style="padding: 20px 15px;">
                <div class="form-group">
                    <label>æ€»é‡‘é¢ (å…ƒ)</label>
                    <input type="number" id="rp-group-amount" placeholder="0.00">
                </div>
                <div class="form-group">
                    <label>çº¢åŒ…ä¸ªæ•°</label>
                    <input type="number" id="rp-group-count" placeholder="å¡«å†™çº¢åŒ…ä¸ªæ•°">
                </div>
                <div class="form-group">
                    <label>ç¥ç¦è¯­</label>
                    <input type="text" id="rp-group-greeting" placeholder="æ­å–œå‘è´¢ï¼Œå¤§å‰å¤§åˆ©ï¼">
                </div>
                <p id="rp-group-total" style="text-align: center; font-size: 24px; font-weight: bold; margin: 10px 0;">Â¥ 0.00</p>
                <button id="send-group-packet-btn" class="form-button">å¡é’±è¿›çº¢åŒ…</button>
            </div>

            <!-- 3. ä¸“å±çº¢åŒ…å†…å®¹åŒº -->
            <div id="rp-content-direct" class="frame-content" style="display: none; padding: 20px 15px;">
                <div class="form-group">
                    <label>å‘é€ç»™</label>
                    <select id="rp-direct-receiver"></select>
                </div>
                <div class="form-group">
                    <label>é‡‘é¢ (å…ƒ)</label>
                    <input type="number" id="rp-direct-amount" placeholder="0.00">
                </div>
                <div class="form-group">
                    <label>ç¥ç¦è¯­</label>
                    <input type="text" id="rp-direct-greeting" placeholder="æ­å–œå‘è´¢ï¼Œå¤§å‰å¤§åˆ©ï¼">
                </div>
                 <p id="rp-direct-total" style="text-align: center; font-size: 24px; font-weight: bold; margin: 10px 0;">Â¥ 0.00</p>
                <button id="send-direct-packet-btn" class="form-button">å¡é’±è¿›çº¢åŒ…</button>
            </div>
        </div>
        <div class="modal-footer" style="justify-content: center;">
             <button class="cancel" id="cancel-red-packet-btn" style="width: 100%;">å–æ¶ˆ</button>
        </div>
    </div>
</div>
<!-- â–²â–²â–² æ–°HTMLç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘çº¢åŒ…è¯¦æƒ…æ¨¡æ€æ¡† â–¼â–¼â–¼ -->
<div id="red-packet-details-modal" class="modal">
    <div class="modal-content" style="width: 280px; height: auto; background-color: #f7f7f7;">
        <div class="modal-header" style="background-color: #F96259; color: white; border-bottom: none; padding-bottom: 5px;">
            <div style="text-align: center; width: 100%;">
                <div id="rp-details-sender" style="font-size: 16px;"></div>
                <div style="font-size: 13px; opacity: 0.8;">çš„çº¢åŒ…</div>
            </div>
        </div>
        <div class="modal-body" style="padding: 15px;">
            <p id="rp-details-greeting" style="text-align: center; font-size: 20px; color: #333; margin: 0 0 20px 0;"></p>
            <div id="rp-details-my-amount" style="text-align: center; display: none; margin-bottom: 20px;">
                <span style="font-size: 40px; font-weight: bold; color: #E44D44;">0.00</span>
                <span style="font-size: 18px; color: #E44D44;">å…ƒ</span>
            </div>
            <div id="rp-details-summary" style="font-size: 13px; color: #8a8a8a; border-top: 1px solid #e0e0e0; padding-top: 10px;"></div>
            <div id="rp-details-list" style="max-height: 150px; overflow-y: auto; margin-top: 10px;">
                <!-- é¢†å–è¯¦æƒ…å°†ç”±JSåŠ¨æ€ç”Ÿæˆåœ¨è¿™é‡Œ -->
            </div>
        </div>
        <div class="modal-footer">
            <button class="save" id="close-rp-details-btn" style="width: 100%;">å…³é—­</button>
        </div>
    </div>
</div>
<!-- â–²â–²â–² æ–°HTMLç²˜è´´ç»“æŸ â–²â–²â–² -->
<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘åˆ›å»ºæŠ•ç¥¨æ¨¡æ€æ¡† â–¼â–¼â–¼ -->
<div id="create-poll-modal" class="modal">
    <div class="modal-content" style="width: 300px; height: auto;">
        <div class="modal-header">
            <span>å‘èµ·æŠ•ç¥¨</span>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="poll-question-input">æŠ•ç¥¨é—®é¢˜</label>
                <textarea id="poll-question-input" rows="2" placeholder="ä¾‹å¦‚ï¼šä»Šæ™šæˆ‘ä»¬çœ‹ä»€ä¹ˆç”µå½±ï¼Ÿ"></textarea>
            </div>
            <div class="form-group">
                <label>æŠ•ç¥¨é€‰é¡¹ (è‡³å°‘2é¡¹)</label>
                <div id="poll-options-container" style="display: flex; flex-direction: column; gap: 8px;">
                    <!-- æŠ•ç¥¨é€‰é¡¹å°†ç”±JSåŠ¨æ€ç”Ÿæˆåœ¨è¿™é‡Œ -->
                </div>
                <button id="add-poll-option-btn" class="form-button form-button-secondary" style="margin-top: 12px;">+ æ·»åŠ é€‰é¡¹</button>
            </div>
        </div>
        <div class="modal-footer">
            <button class="cancel" id="cancel-create-poll-btn">å–æ¶ˆ</button>
            <button class="save" id="confirm-create-poll-btn">å‘èµ·æŠ•ç¥¨</button>
        </div>
    </div>
</div>
<!-- â–²â–²â–² æ–°HTMLç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘AIå¤´åƒåº“ç®¡ç†æ¨¡æ€æ¡† â–¼â–¼â–¼ -->
<div id="ai-avatar-library-modal" class="modal">
    <div class="modal-content" style="height: 70%;">
        <div class="modal-header">
            <span id="ai-avatar-library-title">å¯¹æ–¹çš„å¤´åƒåº“</span>
            <button id="add-ai-avatar-btn" class="action-button">æ·»åŠ </button>
        </div>
        <div class="modal-body" style="padding: 15px;">
            <div id="ai-avatar-library-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 15px;">
                <!-- å¤´åƒåº“å†…å®¹å°†ç”±JSåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        <div class="modal-footer">
            <button class="save" id="close-ai-avatar-library-btn" style="width: 100%;">å…³é—­</button>
        </div>
    </div>
</div>

<!-- â–²â–²â–² æ–°HTMLç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ç”¨æˆ·åˆ†äº«é“¾æ¥æ¨¡æ€æ¡† â–¼â–¼â–¼ -->
<div id="share-link-modal" class="modal">
    <div class="modal-content" style="width: 300px; height: auto;">
        <div class="modal-header">
            <span>åˆ†äº«é“¾æ¥</span>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="link-title-input">æ ‡é¢˜</label>
                <input type="text" id="link-title-input" placeholder="è¾“å…¥æ–‡ç« æˆ–é“¾æ¥çš„æ ‡é¢˜">
            </div>
            <div class="form-group">
                <label for="link-description-input">æ‘˜è¦ (å¯é€‰)</label>
                <textarea id="link-description-input" rows="2" placeholder="ç®€å•æè¿°ä¸€ä¸‹é“¾æ¥å†…å®¹"></textarea>
            </div>
            <div class="form-group">
                <label for="link-source-input">æ¥æºåç§° (å¯é€‰)</label>
                <input type="text" id="link-source-input" placeholder="ä¾‹å¦‚ï¼šçŸ¥ä¹æ—¥æŠ¥ã€Bç«™">
            </div>
            <div class="form-group">
                <label for="link-content-input">å®Œæ•´å†…å®¹ (å¯é€‰ï¼Œç”¨äºæµè§ˆå™¨å†…æ˜¾ç¤º)</label>
                <textarea id="link-content-input" rows="4" placeholder="ç²˜è´´æˆ–è¾“å…¥å®Œæ•´çš„æ–‡ç« å†…å®¹"></textarea>
            </div>
        </div>
        <div class="modal-footer">
            <button class="cancel" id="cancel-share-link-btn">å–æ¶ˆ</button>
            <button class="save" id="confirm-share-link-btn">åˆ†äº«</button>
        </div>
    </div>
</div>
<!-- â–²â–²â–² æ–°HTMLç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ç²¾è‡´ç‰ˆè½¬è´¦æ“ä½œå¼¹çª— â–¼â–¼â–¼ -->
<div id="transfer-actions-modal" class="modal">
    <div class="transfer-actions-content">
        <div class="transfer-actions-header">è¯·é€‰æ‹©æ“ä½œ</div>
        <div class="transfer-actions-body">
            <p>ä½ æ”¶åˆ°äº†æ¥è‡ª <strong id="transfer-sender-name"></strong> çš„ä¸€ç¬”è½¬è´¦ã€‚</p>
        </div>
        <div class="transfer-actions-footer">
            <button id="transfer-action-decline" class="action-btn decline">æ®‹å¿æ‹’ç»</button>
            <button id="transfer-action-accept" class="action-btn accept">å¼€å¿ƒæ”¶ä¸‹</button>
        </div>
        <button id="transfer-action-cancel" class="cancel-btn">Ã—</button>
    </div>
</div>
<!-- â–²â–²â–² æ–°HTMLç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘é€šè¯è®°å½•è¯¦æƒ…æ¨¡æ€æ¡† â–¼â–¼â–¼ -->
<div id="call-transcript-modal" class="modal">
    <div class="modal-content" style="height: 70%;">
        <div class="modal-header">
            <span id="transcript-modal-title">é€šè¯è¯¦æƒ…</span>
        </div>
        <div class="modal-body" id="transcript-modal-body" style="background-color: #f0f2f5;">
            <!-- é€šè¯æ–‡å­—è®°å½•å°†ç”±JSåŠ¨æ€ç”Ÿæˆåœ¨è¿™é‡Œ -->
        </div>
        <div class="modal-footer">
            <button class="cancel" id="delete-transcript-btn" style="background-color: #ff3b30; color: white; border-color: #ff3b30;">åˆ é™¤è®°å½•</button>
            <button class="save" id="close-transcript-modal-btn" style="width: 100%;">å…³é—­</button>
        </div>
    </div>
</div>
<!-- â–²â–²â–² æ–°HTMLç²˜è´´ç»“æŸ â–²â–²â–² -->

<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘åˆ†äº«ç›®æ ‡é€‰æ‹©å™¨æ¨¡æ€æ¡† â–¼â–¼â–¼ -->
<div id="share-target-modal" class="modal">
    <div class="modal-content" style="height: 70%;">
        <div class="modal-header">
            <span>åˆ†äº«åˆ°...</span>
        </div>
        <div class="modal-body" id="share-target-list" style="padding: 0;">
            <!-- èŠå¤©åˆ—è¡¨å°†ç”±JSåŠ¨æ€ç”Ÿæˆåœ¨è¿™é‡Œ -->
        </div>
        <div class="modal-footer">
            <button class="cancel" id="cancel-share-target-btn">å–æ¶ˆ</button>
            <button class="save" id="confirm-share-target-btn">ç¡®è®¤åˆ†äº«</button>
        </div>
    </div>
</div>

<!-- â–¼â–¼â–¼ ã€å…¨æ–°ã€‘åˆ†äº«è®°å½•æŸ¥çœ‹å™¨æ¨¡æ€æ¡† â–¼â–¼â–¼ -->
<div id="shared-history-viewer-modal" class="modal">
    <div class="modal-content" style="height: 80%;">
        <div class="modal-header">
            <span id="shared-history-viewer-title">èŠå¤©è®°å½•</span>
        </div>
        <div class="modal-body" id="shared-history-viewer-content" style="background-color: #f0f2f5;">
            <!-- åˆ†äº«çš„èŠå¤©è®°å½•æ°”æ³¡å°†ç”±JSåŠ¨æ€ç”Ÿæˆåœ¨è¿™é‡Œ -->
        </div>
        <div class="modal-footer">
            <button class="save" id="close-shared-history-viewer-btn" style="width:100%;">å…³é—­</button>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {

        // ===================================================================
        // 1. æ‰€æœ‰å˜é‡å’Œå¸¸é‡å®šä¹‰
        // ===================================================================
        const db = new Dexie('GeminiChatDB');
        // --- å·²ä¿®æ­£ ---
        let state = { chats: {}, activeChatId: null, globalSettings: {}, apiConfig: {}, userStickers: [], worldBooks: [], personaPresets: [], qzoneSettings: {}, activeAlbumId: null };
        // --- ä¿®æ­£ç»“æŸ ---
let musicState = { 
    isActive: false, 
    activeChatId: null, 
    isPlaying: false, 
    playlist: [], 
    currentIndex: -1, 
    playMode: 'order', 
    totalElapsedTime: 0, 
    timerId: null,
    // ã€æ–°å¢ã€‘æ­Œè¯ç›¸å…³çŠ¶æ€
    parsedLyrics: [],      // å½“å‰æ­Œæ›²è§£æåçš„æ­Œè¯æ•°ç»„
    currentLyricIndex: -1  // å½“å‰é«˜äº®çš„æ­Œè¯è¡Œç´¢å¼•
};
        const audioPlayer = document.getElementById('audio-player');
        let newWallpaperBase64 = null;
        let isSelectionMode = false;
        let selectedMessages = new Set();
        let editingMemberId = null;
        let editingWorldBookId = null;
        let editingPersonaPresetId = null;

let waimaiTimers = {}; // ç”¨äºå­˜å‚¨å¤–å–å€’è®¡æ—¶

let activeMessageTimestamp = null;
let currentReplyContext = null; // <--- æ–°å¢è¿™è¡Œï¼Œç”¨æ¥å­˜å‚¨å½“å‰æ­£åœ¨å¼•ç”¨çš„æ¶ˆæ¯ä¿¡æ¯
let activePostId = null; // <-- æ–°å¢ï¼šç”¨äºå­˜å‚¨å½“å‰æ“ä½œçš„åŠ¨æ€ID

        let photoViewerState = {
            isOpen: false,
            photos: [], // å­˜å‚¨å½“å‰ç›¸å†Œçš„æ‰€æœ‰ç…§ç‰‡URL
            currentIndex: -1, // å½“å‰æ­£åœ¨æŸ¥çœ‹çš„ç…§ç‰‡ç´¢å¼•
        };

        let unreadPostsCount = 0;

        let isFavoritesSelectionMode = false;
        let selectedFavorites = new Set()

let simulationIntervalId = null;

        const defaultAvatar = 'https://i.postimg.cc/PxZrFFFL/o-o-1.jpg';
        const defaultMyGroupAvatar = 'https://i.postimg.cc/cLPP10Vm/4.jpg';
        const defaultGroupMemberAvatar = 'https://i.postimg.cc/VkQfgzGJ/1.jpg';
        const defaultGroupAvatar = 'https://i.postimg.cc/gc3QYCDy/1-NINE7-Five.jpg';
        let notificationTimeout;

// â–¼â–¼â–¼ åœ¨JSé¡¶éƒ¨ï¼Œå˜é‡å®šä¹‰åŒºï¼Œæ·»åŠ è¿™ä¸ªæ–°å¸¸é‡ â–¼â–¼â–¼
const DEFAULT_APP_ICONS = {
    'world-book': 'https://i.postimg.cc/HWf1JKzn/IMG-6435.jpg',
    'qq': 'https://i.postimg.cc/MTC3Tkw8/IMG-6436.jpg',
    'api-settings': 'https://i.postimg.cc/MK8rJ8t7/IMG-6438.jpg',
    'wallpaper': 'https://i.postimg.cc/T1j03pQr/IMG-6440.jpg',
    'font': 'https://i.postimg.cc/pXxk1JXk/IMG-6442.jpg'
};
// â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

        const STICKER_REGEX = /^(https:\/\/i\.postimg\.cc\/.+|https:\/\/files\.catbox\.moe\/.+|data:image)/;
        const MESSAGE_RENDER_WINDOW = 50;
        let currentRenderedCount = 0;
        let lastKnownBatteryLevel = 1;
        let alertFlags = { hasShown40: false, hasShown20: false, hasShown10: false };
        let batteryAlertTimeout;
        const dynamicFontStyle = document.createElement('style');
        dynamicFontStyle.id = 'dynamic-font-style';
        document.head.appendChild(dynamicFontStyle);

        const modalOverlay = document.getElementById('custom-modal-overlay');
        const modalTitle = document.getElementById('custom-modal-title');
        const modalBody = document.getElementById('custom-modal-body');
        const modalConfirmBtn = document.getElementById('custom-modal-confirm');
        const modalCancelBtn = document.getElementById('custom-modal-cancel');
        let modalResolve;

        function showCustomModal() { 
            modalOverlay.classList.add('visible'); 
        }

        function hideCustomModal() { 
            modalOverlay.classList.remove('visible'); 
            modalConfirmBtn.classList.remove('btn-danger'); 
            if (modalResolve) modalResolve(null); 
        }

        function showCustomConfirm(title, message, options = {}) {
            return new Promise(resolve => {
                modalResolve = resolve;
                modalTitle.textContent = title;
                modalBody.innerHTML = `<p>${message}</p>`;
                modalCancelBtn.style.display = 'block';
                modalConfirmBtn.textContent = 'ç¡®å®š';
                if (options.confirmButtonClass) modalConfirmBtn.classList.add(options.confirmButtonClass);
                modalConfirmBtn.onclick = () => { resolve(true); hideCustomModal(); };
                modalCancelBtn.onclick = () => { resolve(false); hideCustomModal(); };
                showCustomModal();
            });
        }

        function showCustomAlert(title, message) {
            return new Promise(resolve => {
                modalResolve = resolve;
                modalTitle.textContent = title;
                modalBody.innerHTML = `<p style="text-align: left; white-space: pre-wrap;">${message}</p>`;
                modalCancelBtn.style.display = 'none';
                modalConfirmBtn.textContent = 'å¥½çš„';
                modalConfirmBtn.onclick = () => {
                    modalCancelBtn.style.display = 'block'; 
                    modalConfirmBtn.textContent = 'ç¡®å®š';
                    resolve(true); 
                    hideCustomModal();
                };
                showCustomModal();
            });
        }

// â–¼â–¼â–¼ è¯·ç”¨è¿™ä¸ªã€åŠŸèƒ½å¢å¼ºç‰ˆã€‘æ›¿æ¢æ—§çš„ showCustomPrompt å‡½æ•° â–¼â–¼â–¼
function showCustomPrompt(title, placeholder, initialValue = '', type = 'text', extraHtml = '') {
    return new Promise(resolve => {
        modalResolve = resolve;
        modalTitle.textContent = title;
        const inputId = 'custom-prompt-input';
        
        const inputHtml = type === 'textarea' 
            ? `<textarea id="${inputId}" placeholder="${placeholder}" rows="4" style="width: 100%; padding: 8px; border-radius: 6px; border: 1px solid #ccc; font-size: 14px; box-sizing: border-box; resize: vertical;">${initialValue}</textarea>`
            : `<input type="${type}" id="${inputId}" placeholder="${placeholder}" value="${initialValue}">`;
        
        // ã€æ ¸å¿ƒä¿®æ”¹ã€‘å°†é¢å¤–çš„HTMLå’Œè¾“å…¥æ¡†ç»„åˆåœ¨ä¸€èµ·
        modalBody.innerHTML = extraHtml + inputHtml;
        const input = document.getElementById(inputId);

        // ã€æ ¸å¿ƒä¿®æ”¹ã€‘ä¸ºæ ¼å¼åŠ©æ‰‹æŒ‰é’®ç»‘å®šäº‹ä»¶
        modalBody.querySelectorAll('.format-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const templateStr = btn.dataset.template;
                if (templateStr) {
                    try {
                        const templateObj = JSON.parse(templateStr);
                        // ä½¿ç”¨ null, 2 å‚æ•°è®©JSONå­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼Œå¸¦ç¼©è¿›ï¼Œæ›´æ˜“è¯»
                        input.value = JSON.stringify(templateObj, null, 2);
                        input.focus();
                    } catch(e) {
                        console.error("è§£ææ ¼å¼æ¨¡æ¿å¤±è´¥:", e);
                    }
                }
            });
        });
        
        modalConfirmBtn.onclick = () => { resolve(input.value); hideCustomModal(); };
        modalCancelBtn.onclick = () => { resolve(null); hideCustomModal(); };
        showCustomModal();
        setTimeout(() => input.focus(), 100);
    });
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

        // ===================================================================
        // 2. æ•°æ®åº“ç»“æ„å®šä¹‰
        // ===================================================================

db.version(22).stores({ 
    chats: '&id, isGroup, groupId', 
    apiConfig: '&id', 
    globalSettings: '&id', 
    userStickers: '&id, url, name',
    worldBooks: '&id, name',
    musicLibrary: '&id', 
    personaPresets: '&id',
    qzoneSettings: '&id',
    qzonePosts: '++id, timestamp', 
    qzoneAlbums: '++id, name, createdAt',
    qzonePhotos: '++id, albumId',
    favorites: '++id, type, timestamp, originalTimestamp',
    qzoneGroups: '++id, name',
    memories: '++id, chatId, timestamp, type, targetDate' ,
    callRecords: '++id, chatId, timestamp, customName' // <--ã€æ ¸å¿ƒä¿®æ”¹ã€‘åœ¨è¿™é‡ŒåŠ ä¸Š customName
});

        // ===================================================================
        // 3. æ‰€æœ‰åŠŸèƒ½å‡½æ•°å®šä¹‰
        // ===================================================================

        function showScreen(screenId) {
            if (screenId === 'chat-list-screen') {
                window.renderChatListProxy(); 
                switchToChatListView('messages-view');
            }
            if (screenId === 'api-settings-screen') window.renderApiSettingsProxy();
            if (screenId === 'wallpaper-screen') window.renderWallpaperScreenProxy();
            if (screenId === 'world-book-screen') window.renderWorldBookScreenProxy();
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            const screenToShow = document.getElementById(screenId);
            if (screenToShow) screenToShow.classList.add('active');
            if (screenId === 'chat-interface-screen') window.updateListenTogetherIconProxy(state.activeChatId);
            if (screenId === 'font-settings-screen') {
                document.getElementById('font-url-input').value = state.globalSettings.fontUrl || '';
                applyCustomFont(state.globalSettings.fontUrl || '', true);
            }
        }
        window.updateListenTogetherIconProxy = () => {};

        function switchToChatListView(viewId) {
            const chatListScreen = document.getElementById('chat-list-screen');
            const views = {
                'messages-view': document.getElementById('messages-view'),
                'qzone-screen': document.getElementById('qzone-screen'),
                'favorites-view': document.getElementById('favorites-view'),
        'memories-view': document.getElementById('memories-view') // <-- æ–°å¢è¿™ä¸€è¡Œ
    };
            const mainHeader = document.getElementById('main-chat-list-header');
            const mainBottomNav = document.getElementById('chat-list-bottom-nav'); // è·å–ä¸»å¯¼èˆªæ 

            if (isFavoritesSelectionMode) {
                document.getElementById('favorites-edit-btn').click(); 
            }

            // éšè—æ‰€æœ‰è§†å›¾
            Object.values(views).forEach(v => v.classList.remove('active'));
            // æ˜¾ç¤ºç›®æ ‡è§†å›¾
            if (views[viewId]) {
                views[viewId].classList.add('active');
            }

            // æ›´æ–°åº•éƒ¨å¯¼èˆªæ é«˜äº®
            document.querySelectorAll('#chat-list-bottom-nav .nav-item').forEach(item => {
                item.classList.toggle('active', item.dataset.view === viewId);
            });
            
            // â–¼â–¼â–¼ ã€æ ¸å¿ƒä¿®æ­£ã€‘åœ¨è¿™é‡Œç»Ÿä¸€ç®¡ç†æ‰€æœ‰UIå…ƒç´ çš„æ˜¾éš â–¼â–¼â–¼
            if (viewId === 'messages-view') {
                mainHeader.style.display = 'flex';
                mainBottomNav.style.display = 'flex';
            } else {
                mainHeader.style.display = 'none';
                mainBottomNav.style.display = 'none';
            }
            // â–²â–²â–² ä¿®æ­£ç»“æŸ â–²â–²â–²

    if (viewId !== 'memories-view') {
        activeCountdownTimers.forEach(timerId => clearInterval(timerId));
        activeCountdownTimers = [];
    }

            // æ ¹æ®è§†å›¾IDæ‰§è¡Œç‰¹å®šçš„æ¸²æŸ“/æ›´æ–°é€»è¾‘
            switch (viewId) {
                case 'qzone-screen':
                    views['qzone-screen'].style.backgroundColor = '#f0f2f5';
                    updateUnreadIndicator(0);
                    renderQzoneScreen();
                    renderQzonePosts();
                    break;
                case 'favorites-view':
                    views['favorites-view'].style.backgroundColor = '#f9f9f9';
                    renderFavoritesScreen();
                    break;
                case 'messages-view':
                    // å¦‚æœéœ€è¦ï¼Œå¯ä»¥åœ¨è¿™é‡Œæ·»åŠ è¿”å›æ¶ˆæ¯åˆ—è¡¨æ—¶è¦æ‰§è¡Œçš„é€»è¾‘
                    break;
            }
        }
        
        function renderQzoneScreen() {
            if (state && state.qzoneSettings) {
                const settings = state.qzoneSettings;
                document.getElementById('qzone-nickname').textContent = settings.nickname;
                document.getElementById('qzone-avatar-img').src = settings.avatar;
                document.getElementById('qzone-banner-img').src = settings.banner;
            }
        }
        window.renderQzoneScreenProxy = renderQzoneScreen;

        async function saveQzoneSettings() {
            if (db && state.qzoneSettings) {
                await db.qzoneSettings.put(state.qzoneSettings);
            }
        }

        function formatPostTimestamp(timestamp) {
            if (!timestamp) return '';
            const now = new Date();
            const date = new Date(timestamp);
            const diffSeconds = Math.floor((now - date) / 1000);
            const diffMinutes = Math.floor(diffSeconds / 60);
            const diffHours = Math.floor(diffMinutes / 60);
            if (diffMinutes < 1) return 'åˆšåˆš';
            if (diffMinutes < 60) return `${diffMinutes}åˆ†é’Ÿå‰`;
            if (diffHours < 24) return `${diffHours}å°æ—¶å‰`;
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            const hours = String(date.getHours()).padStart(2, '0');
            const minutes = String(date.getMinutes()).padStart(2, '0');
            if (now.getFullYear() === year) {
                return `${month}-${day} ${hours}:${minutes}`;
            } else {
                return `${year}-${month}-${day} ${hours}:${minutes}`;
            }
        }

// â–¼â–¼â–¼ è¯·ç”¨è¿™ä¸ªã€å·²æ·»åŠ åˆ é™¤æŒ‰é’®ã€‘çš„å‡½æ•°ï¼Œå®Œæ•´æ›¿æ¢æ‰ä½ æ—§çš„ renderQzonePosts å‡½æ•° â–¼â–¼â–¼
async function renderQzonePosts() {
    const postsListEl = document.getElementById('qzone-posts-list');
    if (!postsListEl) return;

    const [posts, favorites] = await Promise.all([
        db.qzonePosts.orderBy('timestamp').reverse().toArray(),
        db.favorites.where('type').equals('qzone_post').toArray()
    ]);

    const favoritedPostIds = new Set(favorites.map(fav => fav.content.id));
    
    postsListEl.innerHTML = '';

    if (posts.length === 0) {
        postsListEl.innerHTML = '<p style="text-align:center; color: var(--text-secondary); padding: 30px 0;">è¿™é‡Œç©ºç©ºå¦‚ä¹Ÿï¼Œå¿«æ¥å‘å¸ƒç¬¬ä¸€æ¡è¯´è¯´å§ï¼</p>';
        return;
    }

    const userSettings = state.qzoneSettings;

    posts.forEach(post => {
        const postContainer = document.createElement('div');
        postContainer.className = 'qzone-post-container';
        postContainer.dataset.postId = post.id;

        const postEl = document.createElement('div');
        postEl.className = 'qzone-post-item';

        let authorAvatar = '', authorNickname = '', commentAvatar = userSettings.avatar; 

        if (post.authorId === 'user') {
            authorAvatar = userSettings.avatar;
            authorNickname = userSettings.nickname;
        } else if (state.chats[post.authorId]) {
            const authorChat = state.chats[post.authorId];
            authorAvatar = authorChat.settings.aiAvatar || defaultAvatar;
            authorNickname = authorChat.name;
        } else {
            authorAvatar = defaultAvatar;
            authorNickname = '{{char}}';
        }
        
        let contentHtml = '';
        const publicTextHtml = post.publicText ? `<div class="post-content">${post.publicText.replace(/\n/g, '<br>')}</div>` : '';

        if (post.type === 'shuoshuo') {
            contentHtml = `<div class="post-content" style="margin-bottom: 10px;">${post.content.replace(/\n/g, '<br>')}</div>`;
        } 
        else if (post.type === 'image_post' && post.imageUrl) {
            contentHtml = publicTextHtml ? `${publicTextHtml}<div style="margin-top:10px;"><img src="${post.imageUrl}" class="chat-image"></div>` : `<img src="${post.imageUrl}" class="chat-image">`;
        } 
        else if (post.type === 'text_image') {
            contentHtml = publicTextHtml ? `${publicTextHtml}<div style="margin-top:10px;"><img src="https://i.postimg.cc/KYr2qRCK/1.jpg" class="chat-image" style="cursor: pointer;" data-hidden-text="${post.hiddenContent}"></div>` : `<img src="https://i.postimg.cc/KYr2qRCK/1.jpg" class="chat-image" style="cursor: pointer;" data-hidden-text="${post.hiddenContent}">`;
        }

        let likesHtml = '';
        if (post.likes && post.likes.length > 0) {
            likesHtml = `<div class="post-likes-section"><svg class="like-icon" viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg><span>${post.likes.join('ã€')} è§‰å¾—å¾ˆèµ</span></div>`;
        }
        
        let commentsHtml = '';
        if (post.comments && post.comments.length > 0) {
            commentsHtml = '<div class="post-comments-container">';
            // â˜…â˜…â˜…â˜…â˜…ã€æ ¸å¿ƒä¿®æ”¹å°±åœ¨è¿™é‡Œã€‘â˜…â˜…â˜…â˜…â˜…
            // éå†è¯„è®ºæ—¶ï¼Œæˆ‘ä»¬ä¼ å…¥ comment å¯¹è±¡æœ¬èº«å’Œå®ƒçš„ç´¢å¼• index
            post.comments.forEach((comment, index) => {
                // åœ¨è¯„è®ºé¡¹çš„æœ«å°¾ï¼Œæ·»åŠ ä¸€ä¸ªå¸¦æœ‰ data-comment-index å±æ€§çš„åˆ é™¤æŒ‰é’®
                commentsHtml += `
                    <div class="comment-item">
                        <span class="commenter-name">${comment.commenterName}:</span>
                        <span class="comment-text">${comment.text}</span>
                        <span class="comment-delete-btn" data-comment-index="${index}">Ã—</span>
                    </div>`;
            });
            // â˜…â˜…â˜…â˜…â˜…ã€ä¿®æ”¹ç»“æŸã€‘â˜…â˜…â˜…â˜…â˜…
            commentsHtml += '</div>';
        }

        const userNickname = state.qzoneSettings.nickname;
        const isLikedByUser = post.likes && post.likes.includes(userNickname);
        const isFavoritedByUser = favoritedPostIds.has(post.id);

        postEl.innerHTML = `
            <div class="post-header"><img src="${authorAvatar}" class="post-avatar"><div class="post-info"><span class="post-nickname">${authorNickname}</span><span class="post-timestamp">${formatPostTimestamp(post.timestamp)}</span></div>
                <div class="post-actions-btn">â€¦</div>
            </div>
            <div class="post-main-content">${contentHtml}</div>
            <div class="post-feedback-icons">
                <span class="action-icon like ${isLikedByUser ? 'active' : ''}"><svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg></span>
                <span class="action-icon favorite ${isFavoritedByUser ? 'active' : ''}"><svg viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path></svg></span>
            </div>
            ${likesHtml}
            ${commentsHtml}
            <div class="post-footer"><div class="comment-section"><img src="${commentAvatar}" class="comment-avatar"><input type="text" class="comment-input" placeholder="å‹å–„çš„è¯„è®ºæ˜¯äº¤æµçš„èµ·ç‚¹"><div class="at-mention-popup"></div></div><button class="comment-send-btn">å‘é€</button></div>
        `;
        
        const deleteAction = document.createElement('div');
        deleteAction.className = 'qzone-post-delete-action';
        deleteAction.innerHTML = '<span>åˆ é™¤</span>';
        postContainer.appendChild(postEl);
        postContainer.appendChild(deleteAction);
        const commentSection = postContainer.querySelector('.comment-section');
        if (commentSection) {
            commentSection.addEventListener('touchstart', (e) => e.stopPropagation());
            commentSection.addEventListener('mousedown', (e) => e.stopPropagation());
        }
        postsListEl.appendChild(postContainer);
        const commentInput = postContainer.querySelector('.comment-input');
        const popup = postContainer.querySelector('.at-mention-popup');
        commentInput.addEventListener('input', () => {
            const value = commentInput.value;
            const atMatch = value.match(/@([\p{L}\w]*)$/u);
            if (atMatch) {
                const namesToMention = new Set();
                const authorNickname = postContainer.querySelector('.post-nickname')?.textContent;
                if (authorNickname) namesToMention.add(authorNickname);
                postContainer.querySelectorAll('.commenter-name').forEach(nameEl => {
                    namesToMention.add(nameEl.textContent.replace(':', ''));
                });
                namesToMention.delete(state.qzoneSettings.nickname);
                popup.innerHTML = '';
                if (namesToMention.size > 0) {
                    const searchTerm = atMatch[1];
                    namesToMention.forEach(name => {
                        if (name.toLowerCase().includes(searchTerm.toLowerCase())) {
                            const item = document.createElement('div');
                            item.className = 'at-mention-item';
                            item.textContent = name;
                            item.addEventListener('mousedown', (e) => {
                                e.preventDefault();
                                const newText = value.substring(0, atMatch.index) + `@${name} `;
                                commentInput.value = newText;
                                popup.style.display = 'none';
                                commentInput.focus();
                            });
                            popup.appendChild(item);
                        }
                    });
                    popup.style.display = popup.children.length > 0 ? 'block' : 'none';
                } else {
                    popup.style.display = 'none';
                }
            } else {
                popup.style.display = 'none';
            }
        });
        commentInput.addEventListener('blur', () => { setTimeout(() => { popup.style.display = 'none'; }, 200); });
    });
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²
             
// â–¼â–¼â–¼ è¯·ç”¨ä¸‹é¢è¿™ä¸ªã€æ›´æ–°åçš„ã€‘å‡½æ•°ï¼Œå®Œæ•´æ›¿æ¢æ‰ä½ ä»£ç ä¸­æ—§çš„ displayFilteredFavorites å‡½æ•° â–¼â–¼â–¼

function displayFilteredFavorites(items) {
    const listEl = document.getElementById('favorites-list');
    listEl.innerHTML = '';

    if (items.length === 0) {
        const searchTerm = document.getElementById('favorites-search-input').value;
        const message = searchTerm ? 'æœªæ‰¾åˆ°ç›¸å…³æ”¶è—' : 'ä½ çš„æ”¶è—å¤¹æ˜¯ç©ºçš„ï¼Œ<br>å¿«å»åŠ¨æ€æˆ–èŠå¤©ä¸­æ”¶è—å–œæ¬¢çš„å†…å®¹å§ï¼';
        listEl.innerHTML = `<p style="text-align:center; color: var(--text-secondary); padding: 50px 0;">${message}</p>`;
        return;
    }

    for (const item of items) {
        const card = document.createElement('div');
        card.className = 'favorite-item-card';
        card.dataset.favid = item.id;

        let headerHtml = '', contentHtml = '', sourceText = '', footerHtml = '';

        if (item.type === 'qzone_post') {
            const post = item.content;
            sourceText = 'æ¥è‡ªåŠ¨æ€';
            let authorAvatar = defaultAvatar, authorNickname = 'æœªçŸ¥ç”¨æˆ·';

            if (post.authorId === 'user') {
                authorAvatar = state.qzoneSettings.avatar;
                authorNickname = state.qzoneSettings.nickname;
            } else if (state.chats[post.authorId]) {
                authorAvatar = state.chats[post.authorId].settings.aiAvatar;
                authorNickname = state.chats[post.authorId].name;
            }

            headerHtml = `<img src="${authorAvatar}" class="avatar"><div class="info"><div class="name">${authorNickname}</div></div>`;
            
            const publicTextHtml = post.publicText ? `<div class="post-content">${post.publicText.replace(/\n/g, '<br>')}</div>` : '';
            if (post.type === 'shuoshuo') {
                contentHtml = `<div class="post-content">${post.content.replace(/\n/g, '<br>')}</div>`;
            } else if (post.type === 'image_post' && post.imageUrl) {
                contentHtml = publicTextHtml ? `${publicTextHtml}<div style="margin-top:10px;"><img src="${post.imageUrl}" class="chat-image"></div>` : `<img src="${post.imageUrl}" class="chat-image">`;
            } else if (post.type === 'text_image') {
                contentHtml = publicTextHtml ? `${publicTextHtml}<div style="margin-top:10px;"><img src="https://i.postimg.cc/KYr2qRCK/1.jpg" class="chat-image" style="cursor: pointer;" data-hidden-text="${post.hiddenContent}"></div>` : `<img src="https://i.postimg.cc/KYr2qRCK/1.jpg" class="chat-image" style="cursor: pointer;" data-hidden-text="${post.hiddenContent}">`;
            }

            // â–¼â–¼â–¼ æ–°å¢/ä¿®æ”¹çš„ä»£ç å¼€å§‹ â–¼â–¼â–¼
            
            // 1. æ„é€ ç‚¹èµåŒºåŸŸçš„HTML
            let likesHtml = '';
            // æ£€æŸ¥ post å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨ likes æ•°ç»„å¹¶ä¸”ä¸ä¸ºç©º
            if (post.likes && post.likes.length > 0) {
                // å¦‚æœå­˜åœ¨ï¼Œå°±åˆ›å»ºç‚¹èµåŒºåŸŸçš„ div
                likesHtml = `
                    <div class="post-likes-section">
                        <svg class="like-icon" viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
                        <span>${post.likes.join('ã€')} è§‰å¾—å¾ˆèµ</span>
                    </div>`;
            }

            // 2. æ„é€ è¯„è®ºåŒºåŸŸçš„HTML
            let commentsHtml = '';
            // æ£€æŸ¥ post å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨ comments æ•°ç»„å¹¶ä¸”ä¸ä¸ºç©º
            if (post.comments && post.comments.length > 0) {
                // å¦‚æœå­˜åœ¨ï¼Œå°±åˆ›å»ºè¯„è®ºå®¹å™¨ï¼Œå¹¶éå†æ¯ä¸€æ¡è¯„è®º
                commentsHtml = '<div class="post-comments-container">';
                post.comments.forEach(comment => {
                    commentsHtml += `
                        <div class="comment-item">
                            <span class="commenter-name">${comment.commenterName}:</span>
                            <span class="comment-text">${comment.text}</span>
                        </div>`;
                });
                commentsHtml += '</div>';
            }

            // 3. å°†ç‚¹èµå’Œè¯„è®ºçš„HTMLç»„åˆåˆ° footerHtml ä¸­
            footerHtml = `${likesHtml}${commentsHtml}`;
            
            // â–²â–²â–² æ–°å¢/ä¿®æ”¹çš„ä»£ç ç»“æŸ â–²â–²â–²

} else if (item.type === 'chat_message') {
    const msg = item.content;
    const chat = state.chats[item.chatId];
    if (!chat) continue; 

    sourceText = `æ¥è‡ªä¸ ${chat.name} çš„èŠå¤©`;
    const isUser = msg.role === 'user';
    let senderName, senderAvatar;

    if (isUser) {
        // ç”¨æˆ·æ¶ˆæ¯çš„é€»è¾‘ä¿æŒä¸å˜
        senderName = chat.isGroup ? (chat.settings.myNickname || 'æˆ‘') : 'æˆ‘';
        senderAvatar = chat.settings.myAvatar || (chat.isGroup ? defaultMyGroupAvatar : defaultAvatar);
    } else { // AI/æˆå‘˜æ¶ˆæ¯
         if (chat.isGroup) {
            // â˜…â˜…â˜…â˜…â˜… è¿™å°±æ˜¯å”¯ä¸€çš„ã€æ ¸å¿ƒçš„ä¿®æ”¹ï¼ â˜…â˜…â˜…â˜…â˜…
            // æˆ‘ä»¬ç°åœ¨ä½¿ç”¨ originalName å»åŒ¹é…ï¼Œè€Œä¸æ˜¯æ—§çš„ name
            const member = chat.members.find(m => m.originalName === msg.senderName);
            // â˜…â˜…â˜…â˜…â˜… ä¿®æ”¹ç»“æŸ â˜…â˜…â˜…â˜…â˜…
            
            senderName = msg.senderName;
            // å› ä¸ºç°åœ¨èƒ½æ­£ç¡®æ‰¾åˆ° member å¯¹è±¡äº†ï¼Œæ‰€ä»¥ä¹Ÿèƒ½æ­£ç¡®è·å–åˆ°ä»–çš„å¤´åƒ
            senderAvatar = member ? member.avatar : defaultGroupMemberAvatar;
        } else {
            // å•èŠçš„é€»è¾‘ä¿æŒä¸å˜
            senderName = chat.name;
            senderAvatar = chat.settings.aiAvatar || defaultAvatar;
        }
    }

    // åç»­æ‹¼æ¥ headerHtml å’Œ contentHtml çš„é€»è¾‘éƒ½ä¿æŒä¸å˜
    headerHtml = `<img src="${senderAvatar}" class="avatar"><div class="info"><div class="name">${senderName}</div></div>`;
    
    if (typeof msg.content === 'string' && STICKER_REGEX.test(msg.content)) {
        contentHtml = `<img src="${msg.content}" class="sticker-image" style="max-width: 80px; max-height: 80px;">`;
    } else if (Array.isArray(msg.content) && msg.content[0]?.type === 'image_url') {
        contentHtml = `<img src="${msg.content[0].image_url.url}" class="chat-image">`;
    } else {
        contentHtml = String(msg.content || '').replace(/\n/g, '<br>');
    }
}
        
        // â–¼â–¼â–¼ ä¿®æ”¹æœ€ç»ˆçš„HTMLæ‹¼æ¥ï¼ŒåŠ å…¥ footerHtml â–¼â–¼â–¼
        card.innerHTML = `
            <div class="fav-card-header">${headerHtml}<div class="source">${sourceText}</div></div>
            <div class="fav-card-content">${contentHtml}</div>
            ${footerHtml}`; // <-- æŠŠæˆ‘ä»¬æ–°åˆ›å»ºçš„ footerHtml æ”¾åœ¨è¿™é‡Œ
            
        listEl.appendChild(card);
    }
}

// â–²â–²â–² æ›¿æ¢åŒºåŸŸç»“æŸ â–²â–²â–²

        /**
         * ã€é‡æ„åçš„å‡½æ•°ã€‘: è´Ÿè´£å‡†å¤‡æ•°æ®å¹¶è§¦å‘æ¸²æŸ“
         */
        async function renderFavoritesScreen() {
            // 1. ä»æ•°æ®åº“è·å–æœ€æ–°æ•°æ®å¹¶ç¼“å­˜
            allFavoriteItems = await db.favorites.orderBy('timestamp').reverse().toArray();
            
            // 2. æ¸…ç©ºæœç´¢æ¡†å¹¶éšè—æ¸…é™¤æŒ‰é’®
            const searchInput = document.getElementById('favorites-search-input');
            const clearBtn = document.getElementById('favorites-search-clear-btn');
            searchInput.value = '';
            clearBtn.style.display = 'none';

            // 3. æ˜¾ç¤ºæ‰€æœ‰æ”¶è—é¡¹
            displayFilteredFavorites(allFavoriteItems);
        }

        // â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–²

        function resetCreatePostModal() {
            document.getElementById('post-public-text').value = '';
            document.getElementById('post-image-preview').src = '';
            document.getElementById('post-image-description').value = '';
            document.getElementById('post-image-preview-container').classList.remove('visible');
            document.getElementById('post-image-desc-group').style.display = 'none';
            document.getElementById('post-local-image-input').value = '';
            document.getElementById('post-hidden-text').value = '';
            document.getElementById('switch-to-image-mode').click();
        }

// â–¼â–¼â–¼ ç”¨è¿™ä¸ªã€å·²åŒ…å« memoriesã€‘çš„ç‰ˆæœ¬ï¼Œå®Œæ•´æ›¿æ¢æ—§çš„ exportBackup å‡½æ•° â–¼â–¼â–¼
async function exportBackup() {
    try {
        const backupData = {
            version: 1, 
            timestamp: Date.now()
        };

        const [
            chats, worldBooks, userStickers, apiConfig, globalSettings,
            personaPresets, musicLibrary, qzoneSettings, qzonePosts,
            qzoneAlbums, qzonePhotos, favorites, qzoneGroups,
            memories // ã€æ ¸å¿ƒä¿®æ­£ã€‘æ–°å¢
        ] = await Promise.all([
            db.chats.toArray(),
            db.worldBooks.toArray(),
            db.userStickers.toArray(),
            db.apiConfig.get('main'),
            db.globalSettings.get('main'),
            db.personaPresets.toArray(),
            db.musicLibrary.get('main'),
            db.qzoneSettings.get('main'),
            db.qzonePosts.toArray(),
            db.qzoneAlbums.toArray(),
            db.qzonePhotos.toArray(),
            db.favorites.toArray(),
            db.qzoneGroups.toArray(),
            db.memories.toArray() // ã€æ ¸å¿ƒä¿®æ­£ã€‘æ–°å¢
        ]);

        Object.assign(backupData, {
            chats, worldBooks, userStickers, apiConfig, globalSettings,
            personaPresets, musicLibrary, qzoneSettings, qzonePosts,
            qzoneAlbums, qzonePhotos, favorites, qzoneGroups,
            memories // ã€æ ¸å¿ƒä¿®æ­£ã€‘æ–°å¢
        });
        
        const blob = new Blob(
            [JSON.stringify(backupData, null, 2)], 
            { type: 'application/json' }
        );
        const url = URL.createObjectURL(blob);
        const link = Object.assign(document.createElement('a'), {
            href: url,
            download: `EPhone-Full-Backup-${new Date().toISOString().split('T')[0]}.json`
        });
        link.click();
        URL.revokeObjectURL(url);
        
        await showCustomAlert('å¯¼å‡ºæˆåŠŸ', 'å·²æˆåŠŸå¯¼å‡ºæ‰€æœ‰æ•°æ®ï¼');

    } catch (error) {
        console.error("å¯¼å‡ºæ•°æ®æ—¶å‡ºé”™:", error);
        await showCustomAlert('å¯¼å‡ºå¤±è´¥', `å‘ç”Ÿäº†ä¸€ä¸ªé”™è¯¯: ${error.message}`);
    }
}

// â–¼â–¼â–¼ ç”¨è¿™ä¸ªã€å·²åŒ…å« memoriesã€‘çš„ç‰ˆæœ¬ï¼Œå®Œæ•´æ›¿æ¢æ—§çš„ importBackup å‡½æ•° â–¼â–¼â–¼
async function importBackup(file) {
    if (!file) return;

    const confirmed = await showCustomConfirm(
        'ä¸¥é‡è­¦å‘Šï¼',
        'å¯¼å…¥å¤‡ä»½å°†å®Œå…¨è¦†ç›–æ‚¨å½“å‰çš„æ‰€æœ‰æ•°æ®ï¼ŒåŒ…æ‹¬èŠå¤©ã€åŠ¨æ€ã€è®¾ç½®ç­‰ã€‚æ­¤æ“ä½œä¸å¯æ’¤é”€ï¼æ‚¨ç¡®å®šè¦ç»§ç»­å—ï¼Ÿ',
        { confirmButtonClass: 'btn-danger' }
    );

    if (!confirmed) return;

    try {
        const text = await file.text();
        const data = JSON.parse(text);

        await db.transaction('rw', db.tables, async () => {
            for (const table of db.tables) {
                await table.clear();
            }

            if (Array.isArray(data.chats)) await db.chats.bulkPut(data.chats);
            if (Array.isArray(data.worldBooks)) await db.worldBooks.bulkPut(data.worldBooks);
            if (Array.isArray(data.userStickers)) await db.userStickers.bulkPut(data.userStickers);
            if (Array.isArray(data.personaPresets)) await db.personaPresets.bulkPut(data.personaPresets);
            if (Array.isArray(data.qzonePosts)) await db.qzonePosts.bulkPut(data.qzonePosts);
            if (Array.isArray(data.qzoneAlbums)) await db.qzoneAlbums.bulkPut(data.qzoneAlbums);
            if (Array.isArray(data.qzonePhotos)) await db.qzonePhotos.bulkPut(data.qzonePhotos);
            if (Array.isArray(data.favorites)) await db.favorites.bulkPut(data.favorites);
            if (Array.isArray(data.qzoneGroups)) await db.qzoneGroups.bulkPut(data.qzoneGroups);
            if (Array.isArray(data.memories)) await db.memories.bulkPut(data.memories); // ã€æ ¸å¿ƒä¿®æ­£ã€‘æ–°å¢

            if (data.apiConfig) await db.apiConfig.put(data.apiConfig);
            if (data.globalSettings) await db.globalSettings.put(data.globalSettings);
            if (data.musicLibrary) await db.musicLibrary.put(data.musicLibrary);
            if (data.qzoneSettings) await db.qzoneSettings.put(data.qzoneSettings);
        });

        await showCustomAlert('å¯¼å…¥æˆåŠŸ', 'æ‰€æœ‰æ•°æ®å·²æˆåŠŸæ¢å¤ï¼åº”ç”¨å³å°†åˆ·æ–°ä»¥åº”ç”¨æ‰€æœ‰æ›´æ”¹ã€‚');
        
        setTimeout(() => {
            window.location.reload();
        }, 1500);

    } catch (error) {
        console.error("å¯¼å…¥æ•°æ®æ—¶å‡ºé”™:", error);
        await showCustomAlert('å¯¼å…¥å¤±è´¥', `æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®æˆ–æ•°æ®å·²æŸå: ${error.message}`);
    }
}

        function applyCustomFont(fontUrl, isPreviewOnly = false) {
            if (!fontUrl) {
                dynamicFontStyle.innerHTML = '';
                document.getElementById('font-preview').style.fontFamily = '';
                return;
            }
            const fontName = 'custom-user-font';
            const newStyle = `
                @font-face {
                  font-family: '${fontName}';
                  src: url('${fontUrl}');
                  font-display: swap;
                }`;
            if (isPreviewOnly) {
                const previewStyle = document.getElementById('preview-font-style') || document.createElement('style');
                previewStyle.id = 'preview-font-style';
                previewStyle.innerHTML = newStyle;
                if (!document.getElementById('preview-font-style')) document.head.appendChild(previewStyle);
                document.getElementById('font-preview').style.fontFamily = `'${fontName}', 'bulangni', sans-serif`;
            } else {
                dynamicFontStyle.innerHTML = `
                    ${newStyle}
                    body {
                      font-family: '${fontName}', 'bulangni', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
                    }`;
            }
        }

        async function resetToDefaultFont() {
            dynamicFontStyle.innerHTML = ''; 
            state.globalSettings.fontUrl = '';
            await db.globalSettings.put(state.globalSettings);
            document.getElementById('font-url-input').value = '';
            document.getElementById('font-preview').style.fontFamily = '';
            alert('å·²æ¢å¤é»˜è®¤å­—ä½“ã€‚');
        }

async function loadAllDataFromDB() {
    // â–¼â–¼â–¼ ã€æ ¸å¿ƒä¿®æ”¹åœ¨è¿™é‡Œã€‘ â–¼â–¼â–¼
    const [
        chatsArr,
        apiConfig,
        globalSettings,
        userStickers,
        worldBooks,
        musicLib,
        personaPresets,
        qzoneSettings,
        initialFavorites // å°† initialFavorites åŠ å…¥åˆ°è§£æ„èµ‹å€¼ä¸­
    ] = await Promise.all([
        db.chats.toArray(),
        db.apiConfig.get('main'),
        db.globalSettings.get('main'),
        db.userStickers.toArray(),
        db.worldBooks.toArray(),
        db.musicLibrary.get('main'),
        db.personaPresets.toArray(),
        db.qzoneSettings.get('main'),
        db.favorites.orderBy('timestamp').reverse().toArray() // ç¡®ä¿è¿™ä¸€è¡Œåœ¨ Promise.all çš„æ•°ç»„å‚æ•°å†…
    ]);
    // â–²â–²â–² ã€ä¿®æ”¹ç»“æŸã€‘ â–²â–²â–²

    state.chats = chatsArr.reduce((acc, chat) => {

    if (typeof chat.unreadCount === 'undefined') {
        chat.unreadCount = 0; // å¦‚æœè¿™ä¸ªèŠå¤©å¯¹è±¡æ²¡æœ‰ unreadCount å±æ€§ï¼Œå°±ç»™å®ƒåˆå§‹åŒ–ä¸º 0
    }

        // â˜…â˜…â˜…ã€æ ¸å¿ƒé‡æ„ï¼šæ•°æ®è¿ç§»è„šæœ¬ã€‘â˜…â˜…â˜…
        // æ£€æŸ¥æ˜¯å¦æ˜¯ç¾¤èŠï¼Œå¹¶ä¸”å…¶æˆå‘˜å¯¹è±¡ä½¿ç”¨çš„æ˜¯æ—§çš„ `name` ç»“æ„
        if (chat.isGroup && chat.members && chat.members.length > 0 && chat.members[0].name) {
            console.log(`æ£€æµ‹åˆ°æ—§ç‰ˆç¾¤èŠæ•°æ® for "${chat.name}"ï¼Œæ­£åœ¨æ‰§è¡Œè¿ç§»...`);
            chat.members.forEach(member => {
                // å¦‚æœè¿™ä¸ªæˆå‘˜å¯¹è±¡æ²¡æœ‰ originalNameï¼Œè¯´æ˜æ˜¯æ—§æ•°æ®
                if (typeof member.originalName === 'undefined') {
                    member.originalName = member.name; // å°†æ—§çš„ name ä½œä¸º originalName
                    member.groupNickname = member.name; // åŒæ—¶åˆ›å»ºä¸€ä¸ªåˆå§‹çš„ groupNickname
                    delete member.name; // åˆ é™¤æ—§çš„ã€æœ‰æ­§ä¹‰çš„ name å­—æ®µ
                    needsUpdate = true; // æ ‡è®°éœ€è¦å­˜å›æ•°æ®åº“
                }
            });
             console.log(`è¿ç§»å®Œæˆ for "${chat.name}"`);
        }

        // --- â–¼â–¼â–¼ æ ¸å¿ƒä¿®å¤å°±åœ¨è¿™é‡Œ â–¼â–¼â–¼ ---
        // æ£€æŸ¥1ï¼šå¦‚æœæ˜¯ä¸€ä¸ªå•èŠï¼Œå¹¶ä¸”æ²¡æœ‰ status å±æ€§
        if (!chat.isGroup && !chat.status) {
            // å°±ä¸ºå®ƒè¡¥ä¸Šä¸€ä¸ªé»˜è®¤çš„ status å¯¹è±¡
            chat.status = {
                text: 'åœ¨çº¿',
                lastUpdate: Date.now(),
                isBusy: false
            };
            console.log(`ä¸ºæ—§è§’è‰² "${chat.name}" è¡¥å…¨äº†statuså±æ€§ã€‚`);
        }
        // --- â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–²

        // --- â–¼â–¼â–¼ æ ¸å¿ƒä¿®å¤å°±åœ¨è¿™é‡Œ â–¼â–¼â–¼ ---
        // æ£€æŸ¥2ï¼šå…¼å®¹æœ€æ–°çš„â€œå…³ç³»â€åŠŸèƒ½
        if (!chat.isGroup && !chat.relationship) {
            // å¦‚æœæ˜¯å•èŠï¼Œä¸”æ²¡æœ‰ relationship å¯¹è±¡ï¼Œå°±è¡¥ä¸Šä¸€ä¸ªé»˜è®¤çš„
            chat.relationship = {
                status: 'friend',
                blockedTimestamp: null,
                applicationReason: ''
            };
            console.log(`ä¸ºæ—§è§’è‰² "${chat.name}" è¡¥å…¨äº† relationship å±æ€§ã€‚`);
        }
        // --- â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–²

    // â–¼â–¼â–¼ åœ¨è¿™é‡Œæ·»åŠ  â–¼â–¼â–¼
    if (!chat.isGroup && (!chat.settings || !chat.settings.aiAvatarLibrary)) {
        if (!chat.settings) chat.settings = {}; // ä»¥é˜²ä¸‡ä¸€è¿settingséƒ½æ²¡æœ‰
        chat.settings.aiAvatarLibrary = [];
        console.log(`ä¸ºæ—§è§’è‰² "${chat.name}" è¡¥å…¨äº†aiAvatarLibraryå±æ€§ã€‚`);
    }
    // â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

        if (!chat.musicData) chat.musicData = { totalTime: 0 };
        if (chat.settings && chat.settings.linkedWorldBookId && !chat.settings.linkedWorldBookIds) {
            chat.settings.linkedWorldBookIds = [chat.settings.linkedWorldBookId];
            delete chat.settings.linkedWorldBookId;
        }
        acc[chat.id] = chat;
        return acc;
    }, {});
    state.apiConfig = apiConfig || { id: 'main', proxyUrl: '', apiKey: '', model: '' };

state.globalSettings = globalSettings || { 
    id: 'main', 
    wallpaper: 'linear-gradient(135deg, #89f7fe, #66a6ff)', 
    fontUrl: '', 
    enableBackgroundActivity: false, 
    backgroundActivityInterval: 60,
    blockCooldownHours: 1,
    appIcons: { ...DEFAULT_APP_ICONS } // ã€æ ¸å¿ƒä¿®æ”¹ã€‘ç¡®ä¿appIconså­˜åœ¨å¹¶æœ‰é»˜è®¤å€¼
};
// ã€æ ¸å¿ƒä¿®æ”¹ã€‘åˆå¹¶å·²ä¿å­˜çš„å›¾æ ‡å’Œé»˜è®¤å›¾æ ‡ï¼Œé˜²æ­¢æ›´æ–°åæ—§æ•°æ®ä¸¢å¤±æ–°å›¾æ ‡
state.globalSettings.appIcons = { ...DEFAULT_APP_ICONS, ...(state.globalSettings.appIcons || {}) };

    state.userStickers = userStickers || [];
    state.worldBooks = worldBooks || [];
    musicState.playlist = musicLib?.playlist || [];
    state.personaPresets = personaPresets || [];
    state.qzoneSettings = qzoneSettings || { id: 'main', nickname: '{{user}}', avatar: 'https://files.catbox.moe/q6z5fc.jpeg', banner: 'https://files.catbox.moe/r5heyt.gif' };

    // â–¼â–¼â–¼ ã€ç¡®ä¿è¿™ä¸€è¡Œåœ¨ Promise.all ä¹‹åï¼Œå¹¶ä½¿ç”¨è§£æ„èµ‹å€¼å¾—åˆ°çš„ initialFavoritesã€‘ â–¼â–¼â–¼
    allFavoriteItems = initialFavorites || [];
    // â–²â–²â–² ã€ä¿®æ”¹ç»“æŸã€‘ â–²â–²â–²
}

        async function saveGlobalPlaylist() { await db.musicLibrary.put({ id: 'main', playlist: musicState.playlist }); }

        function formatTimestamp(timestamp) { if (!timestamp) return ''; const date = new Date(timestamp); const hours = String(date.getHours()).padStart(2, '0'); const minutes = String(date.getMinutes()).padStart(2, '0'); return `${hours}:${minutes}`; }

        function showNotification(chatId, messageContent) { clearTimeout(notificationTimeout); const chat = state.chats[chatId]; if (!chat) return; const bar = document.getElementById('notification-bar'); document.getElementById('notification-avatar').src = chat.settings.aiAvatar || chat.settings.groupAvatar || defaultAvatar; document.getElementById('notification-content').querySelector('.name').textContent = chat.name; document.getElementById('notification-content').querySelector('.message').textContent = messageContent; const newBar = bar.cloneNode(true); bar.parentNode.replaceChild(newBar, bar); newBar.addEventListener('click', () => { openChat(chatId); newBar.classList.remove('visible'); }); newBar.classList.add('visible'); notificationTimeout = setTimeout(() => { newBar.classList.remove('visible'); }, 4000); }

        function updateClock() { const now = new Date(); const timeString = now.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' }); const dateString = now.toLocaleDateString('zh-CN', { weekday: 'long', month: 'long', day: 'numeric' }); document.getElementById('main-time').textContent = timeString; document.getElementById('status-bar-time').textContent = timeString; document.getElementById('main-date').textContent = dateString; }

/**
 * ã€ç»ˆæå¥å£®ç‰ˆã€‘è§£æAIè¿”å›çš„ã€å¯èƒ½æ ¼å¼ä¸è§„èŒƒçš„å“åº”å†…å®¹
 * @param {string} content - AIè¿”å›çš„åŸå§‹å­—ç¬¦ä¸²
 * @returns {Array} - ä¸€ä¸ªæ ‡å‡†åŒ–çš„æ¶ˆæ¯å¯¹è±¡æ•°ç»„
 */
function parseAiResponse(content) {
    const trimmedContent = content.trim();

    // æ–¹æ¡ˆ1ï¼šã€æœ€ä¼˜å…ˆã€‘å°è¯•ä½œä¸ºæ ‡å‡†çš„ã€å•ä¸€çš„JSONæ•°ç»„è§£æ
    // è¿™æ˜¯æœ€ç†æƒ³ã€æœ€é«˜æ•ˆçš„æƒ…å†µ
    if (trimmedContent.startsWith('[') && trimmedContent.endsWith(']')) {
        try {
            const parsed = JSON.parse(trimmedContent);
            if (Array.isArray(parsed)) {
                console.log("è§£ææˆåŠŸï¼šæ ‡å‡†JSONæ•°ç»„æ ¼å¼ã€‚");
                return parsed;
            }
        } catch (e) {
            // å¦‚æœè§£æå¤±è´¥ï¼Œè¯´æ˜å®ƒè™½ç„¶çœ‹èµ·æ¥åƒä¸ªæ•°ç»„ï¼Œä½†å†…éƒ¨æ ¼å¼æœ‰é—®é¢˜ã€‚
            // æ­¤æ—¶æˆ‘ä»¬ä¸æŠ¥é”™ï¼Œè€Œæ˜¯ç»§ç»­å°è¯•ä¸‹é¢çš„â€œå¼ºåŠ›è§£æâ€æ–¹æ¡ˆã€‚
            console.warn("æ ‡å‡†JSONæ•°ç»„è§£æå¤±è´¥ï¼Œå°†å°è¯•å¼ºåŠ›è§£æ...");
        }
    }

    // æ–¹æ¡ˆ2ï¼šã€å¼ºåŠ›è§£æã€‘ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œä»æ··ä¹±çš„å­—ç¬¦ä¸²ä¸­æå–å‡ºæ‰€æœ‰ç‹¬ç«‹çš„JSONå¯¹è±¡
    // è¿™èƒ½å®Œç¾è§£å†³æ‚¨é‡åˆ°çš„ "(Timestamp: ...)[{...}](Timestamp: ...)[{...}]" è¿™ç§æ ¼å¼
    const jsonMatches = trimmedContent.match(/{[^{}]*}/g);

    if (jsonMatches) {
        const results = [];
        for (const match of jsonMatches) {
            try {
                // å°è¯•è§£ææ¯ä¸€ä¸ªè¢«æˆ‘ä»¬â€œæªâ€å‡ºæ¥çš„JSONå­—ç¬¦ä¸²
                const parsedObject = JSON.parse(match);
                results.push(parsedObject);
            } catch (e) {
                // å¦‚æœæŸä¸ªç‰‡æ®µä¸æ˜¯æœ‰æ•ˆçš„JSONï¼Œå°±å¿½ç•¥å®ƒï¼Œç»§ç»­å¤„ç†ä¸‹ä¸€ä¸ª
                console.warn("è·³è¿‡ä¸€ä¸ªæ— æ•ˆçš„JSONç‰‡æ®µ:", match);
            }
        }

        // å¦‚æœæˆ‘ä»¬æˆåŠŸæå–å‡ºäº†è‡³å°‘ä¸€ä¸ªæœ‰æ•ˆçš„JSONå¯¹è±¡ï¼Œå°±è¿”å›è¿™ä¸ªç»“æœ
        if (results.length > 0) {
            console.log("è§£ææˆåŠŸï¼šé€šè¿‡å¼ºåŠ›æå–æ¨¡å¼ã€‚");
            return results;
        }
    }
    
    // æ–¹æ¡ˆ3ï¼šã€æœ€ç»ˆå¤‡ç”¨ã€‘å¦‚æœä»¥ä¸Šæ‰€æœ‰æ–¹æ³•éƒ½å¤±è´¥äº†ï¼Œè¯´æ˜AIè¿”å›çš„å¯èƒ½å°±æ˜¯çº¯æ–‡æœ¬
    // æˆ‘ä»¬å°†åŸå§‹çš„ã€æœªå¤„ç†çš„å†…å®¹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ ‡å‡†çš„æ–‡æœ¬æ¶ˆæ¯å¯¹è±¡è¿”å›ï¼Œç¡®ä¿ç¨‹åºä¸ä¼šå´©æºƒ
    console.error("æ‰€æœ‰è§£ææ–¹æ¡ˆå‡å¤±è´¥ï¼å°†è¿”å›åŸå§‹æ–‡æœ¬ã€‚");
    return [{ type: 'text', content: content }];
}

        function renderApiSettings() { document.getElementById('proxy-url').value = state.apiConfig.proxyUrl || ''; document.getElementById('api-key').value = state.apiConfig.apiKey || ''; 
    // â–¼â–¼â–¼ æ–°å¢è¿™è¡Œ â–¼â–¼â–¼
    document.getElementById('background-activity-switch').checked = state.globalSettings.enableBackgroundActivity || false;
    document.getElementById('background-interval-input').value = state.globalSettings.backgroundActivityInterval || 60;
    document.getElementById('block-cooldown-input').value = state.globalSettings.blockCooldownHours || 1;
}
        window.renderApiSettingsProxy = renderApiSettings;

// â–¼â–¼â–¼ è¯·ç”¨è¿™ä¸ªã€å…¨æ–°ç‰ˆæœ¬ã€‘çš„å‡½æ•°ï¼Œå®Œæ•´æ›¿æ¢æ‰ä½ æ—§çš„ renderChatList â–¼â–¼â–¼
async function renderChatList() {
    const chatListEl = document.getElementById('chat-list');
    chatListEl.innerHTML = '';

    // 1. åƒä»¥å‰ä¸€æ ·ï¼Œè·å–æ‰€æœ‰èŠå¤©å¹¶æŒ‰æœ€æ–°æ¶ˆæ¯æ—¶é—´æ’åº
    const allChats = Object.values(state.chats).sort((a, b) => (b.history.slice(-1)[0]?.timestamp || 0) - (a.history.slice(-1)[0]?.timestamp || 0));
    
    // 2. è·å–æ‰€æœ‰åˆ†ç»„
    const allGroups = await db.qzoneGroups.toArray();

    if (allChats.length === 0) {
        chatListEl.innerHTML = '<p style="text-align:center; color: #8a8a8a; margin-top: 50px;">ç‚¹å‡»å³ä¸Šè§’ "+" æˆ–ç¾¤ç»„å›¾æ ‡æ·»åŠ èŠå¤©</p>';
        return;
    }

    // --- ã€æ ¸å¿ƒä¿®æ­£å¼€å§‹ã€‘---

    // 3. ä¸ºæ¯ä¸ªåˆ†ç»„æ‰¾åˆ°å…¶å†…éƒ¨æœ€æ–°çš„æ¶ˆæ¯æ—¶é—´æˆ³
    allGroups.forEach(group => {
        // ä»å·²æ’åºçš„ allChats ä¸­æ‰¾åˆ°æœ¬ç»„çš„ç¬¬ä¸€ä¸ªï¼ˆä¹Ÿå°±æ˜¯æœ€æ–°çš„ï¼‰èŠå¤©
        const latestChatInGroup = allChats.find(chat => chat.groupId === group.id);
        // å¦‚æœæ‰¾åˆ°äº†ï¼Œå°±ç”¨å®ƒçš„æ—¶é—´æˆ³ï¼›å¦‚æœè¯¥åˆ†ç»„æš‚æ—¶æ²¡æœ‰èŠå¤©æˆ–èŠå¤©æ²¡æœ‰å†å²è®°å½•ï¼Œå°±ç”¨0
        group.latestTimestamp = latestChatInGroup ? (latestChatInGroup.history.slice(-1)[0]?.timestamp || 0) : 0;
    });

    // 4. æ ¹æ®è¿™ä¸ªæœ€æ–°çš„æ—¶é—´æˆ³æ¥å¯¹â€œåˆ†ç»„æœ¬èº«â€è¿›è¡Œæ’åº
    allGroups.sort((a, b) => b.latestTimestamp - a.latestTimestamp);

    // --- ã€æ ¸å¿ƒä¿®æ­£ç»“æŸã€‘---

    // 5. ç°åœ¨ï¼Œæˆ‘ä»¬æŒ‰ç…§æ’å¥½åºçš„åˆ†ç»„æ¥æ¸²æŸ“
    allGroups.forEach(group => {
        // ä»æ€»åˆ—è¡¨é‡Œè¿‡æ»¤å‡ºå±äºè¿™ä¸ªï¼ˆå·²æ’åºï¼‰åˆ†ç»„çš„å¥½å‹
        const groupChats = allChats.filter(chat => !chat.isGroup && chat.groupId === group.id);
        // å¦‚æœè¿™ä¸ªåˆ†ç»„æ˜¯ç©ºçš„ï¼ˆå¯èƒ½æ‰€æœ‰å¥½å‹éƒ½è¢«åˆ äº†ï¼‰ï¼Œå°±è·³è¿‡
        if (groupChats.length === 0) return;

        const groupContainer = document.createElement('div');
        groupContainer.className = 'chat-group-container';
        groupContainer.innerHTML = `
            <div class="chat-group-header">
                <span class="arrow">â–¼</span>
                <span class="group-name">${group.name}</span>
            </div>
            <div class="chat-group-content"></div>
        `;
        const contentEl = groupContainer.querySelector('.chat-group-content');
        // å› ä¸º allChats æœ¬èº«å°±æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥ groupChats è‡ªç„¶ä¹Ÿæ˜¯æœ‰åºçš„
        groupChats.forEach(chat => {
            const item = createChatListItem(chat);
            contentEl.appendChild(item);
        });
        chatListEl.appendChild(groupContainer);
    });

    // 6. æœ€åï¼Œæ¸²æŸ“æ‰€æœ‰ç¾¤èŠå’Œæœªåˆ†ç»„çš„å¥½å‹
    // ä»–ä»¬çš„é¡ºåºå› ä¸º allChats çš„åˆå§‹æ’åºï¼Œå¤©ç„¶å°±æ˜¯æ­£ç¡®çš„
    const ungroupedOrGroupChats = allChats.filter(chat => chat.isGroup || (!chat.isGroup && !chat.groupId));
    ungroupedOrGroupChats.forEach(chat => {
        const item = createChatListItem(chat);
        chatListEl.appendChild(item);
    });

    // ä¸ºæ‰€æœ‰åˆ†ç»„æ ‡é¢˜æ·»åŠ æŠ˜å äº‹ä»¶
    document.querySelectorAll('.chat-group-header').forEach(header => {
        header.addEventListener('click', () => {
            header.classList.toggle('collapsed');
            header.nextElementSibling.classList.toggle('collapsed');
        });
    });
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

function createChatListItem(chat) {
    const lastMsgObj = chat.history.filter(msg => !msg.isHidden).slice(-1)[0] || {};
    let lastMsgDisplay;

    // --- â–¼â–¼â–¼ ã€æ ¸å¿ƒä¿®æ”¹ã€‘åœ¨è¿™é‡ŒåŠ å…¥å¯¹å…³ç³»çŠ¶æ€çš„åˆ¤æ–­ â–¼â–¼â–¼ ---
    if (!chat.isGroup && chat.relationship?.status === 'pending_user_approval') {
        lastMsgDisplay = `<span style="color: #ff8c00;">[å¥½å‹ç”³è¯·] ${chat.relationship.applicationReason || 'è¯·æ±‚æ·»åŠ ä½ ä¸ºå¥½å‹'}</span>`;
    }
    // --- â–²â–²â–² ä¿®æ”¹ç»“æŸ â–²â–²â–² ---

// â–¼â–¼â–¼ åœ¨è¿™é‡Œæ–°å¢ else if â–¼â–¼â–¼
else if (!chat.isGroup && chat.relationship?.status === 'blocked_by_ai') {
    lastMsgDisplay = `<span style="color: #dc3545;">[ä½ å·²è¢«å¯¹æ–¹æ‹‰é»‘]</span>`;
}
// â–²â–²â–² æ–°å¢ç»“æŸ â–²â–²â–²
    
    // ã€æ ¸å¿ƒä¿®æ”¹ã€‘ä¼˜å…ˆæ˜¾ç¤ºçŠ¶æ€ï¼Œè€Œä¸æ˜¯æœ€åä¸€æ¡æ¶ˆæ¯
    if (chat.isGroup) {
        // ç¾¤èŠé€»è¾‘ä¿æŒä¸å˜
        if (lastMsgObj.type === 'pat_message') { lastMsgDisplay = `[ç³»ç»Ÿæ¶ˆæ¯] ${lastMsgObj.content}`; }
        // ... (å…¶ä»–ç¾¤èŠæ¶ˆæ¯ç±»å‹åˆ¤æ–­) ...
        else if (lastMsgObj.type === 'transfer') { lastMsgDisplay = '[è½¬è´¦]'; }
        else if (lastMsgObj.type === 'ai_image' || lastMsgObj.type === 'user_photo') { lastMsgDisplay = '[ç…§ç‰‡]'; }
        else if (lastMsgObj.type === 'voice_message') { lastMsgDisplay = '[è¯­éŸ³]'; }
        else if (typeof lastMsgObj.content === 'string' && STICKER_REGEX.test(lastMsgObj.content)) { lastMsgDisplay = lastMsgObj.meaning ? `[è¡¨æƒ…: ${lastMsgObj.meaning}]` : '[è¡¨æƒ…]'; }
        else if (Array.isArray(lastMsgObj.content)) { lastMsgDisplay = `[å›¾ç‰‡]`; }
        else { lastMsgDisplay = String(lastMsgObj.content || '...').substring(0, 20); }

        if (lastMsgObj.senderName && lastMsgObj.type !== 'pat_message') {
            lastMsgDisplay = `${lastMsgObj.senderName}: ${lastMsgDisplay}`;
        }

    } else {
        // å•èŠé€»è¾‘ï¼šæ˜¾ç¤ºçŠ¶æ€
        // ç¡®ä¿ chat.status å¯¹è±¡å­˜åœ¨
        const statusText = chat.status?.text || 'åœ¨çº¿';
        lastMsgDisplay = `[${statusText}]`;
    }

    const item = document.createElement('div');
    item.className = 'chat-list-item';
    item.dataset.chatId = chat.id;
    const avatar = chat.isGroup ? chat.settings.groupAvatar : chat.settings.aiAvatar;
    
    item.innerHTML = `
        <img src="${avatar || defaultAvatar}" class="avatar">
        <div class="info">
            <div class="name-line">
                <span class="name">${chat.name}</span>
                ${chat.isGroup ? '<span class="group-tag">ç¾¤èŠ</span>' : ''}
            </div>
            <div class="last-msg" style="color: ${chat.isGroup ? 'var(--text-secondary)' : '#b5b5b5'}; font-style: italic;">${lastMsgDisplay}</div>
        </div>
        <!-- è¿™é‡Œå°±æ˜¯æˆ‘ä»¬æ–°åŠ çš„çº¢ç‚¹HTMLç»“æ„ -->
        <div class="unread-count-wrapper">
            <span class="unread-count" style="display: none;">0</span>
        </div>
    `;
    
    // ã€æ ¸å¿ƒä¿®æ”¹2ã€‘åœ¨è¿™é‡Œæ·»åŠ æ§åˆ¶çº¢ç‚¹æ˜¾ç¤º/éšè—çš„é€»è¾‘
    const unreadCount = chat.unreadCount || 0;
    const unreadEl = item.querySelector('.unread-count');
    if (unreadCount > 0) {
        unreadEl.textContent = unreadCount > 99 ? '99+' : unreadCount;
        // æ³¨æ„è¿™é‡Œæ˜¯ 'inline-flex'ï¼Œä¸æˆ‘ä»¬çš„CSSå¯¹åº”ï¼Œä½¿å…¶å‚ç›´å±…ä¸­
        unreadEl.style.display = 'inline-flex';
    } else {
        unreadEl.style.display = 'none';
    }
    
    const avatarEl = item.querySelector('.avatar');
    if (avatarEl) {
        avatarEl.style.cursor = 'pointer';
        avatarEl.addEventListener('click', (e) => {
            e.stopPropagation();
            handleUserPat(chat.id, chat.name);
        });
    }
    
    const infoEl = item.querySelector('.info');
    if (infoEl) {
        infoEl.addEventListener('click', () => openChat(chat.id));
    }

    addLongPressListener(item, async (e) => {
        const confirmed = await showCustomConfirm('åˆ é™¤å¯¹è¯', `ç¡®å®šè¦åˆ é™¤ä¸ "${chat.name}" çš„æ•´ä¸ªå¯¹è¯å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚`, { confirmButtonClass: 'btn-danger' });
        if (confirmed) {
            if (musicState.isActive && musicState.activeChatId === chat.id) await endListenTogetherSession(false);
            delete state.chats[chat.id];
            if (state.activeChatId === chat.id) state.activeChatId = null;
            await db.chats.delete(chat.id);
            renderChatList();
        }
    });
    return item;
}

// â–¼â–¼â–¼ è¯·ç”¨è¿™ä¸ªã€å¸¦è¯Šæ–­åŠŸèƒ½çš„å…¨æ–°ç‰ˆæœ¬ã€‘æ›¿æ¢æ—§çš„ renderChatInterface å‡½æ•° â–¼â–¼â–¼
function renderChatInterface(chatId) {
    cleanupWaimaiTimers();
    const chat = state.chats[chatId];
    if (!chat) return;
    exitSelectionMode();
    
    const messagesContainer = document.getElementById('chat-messages');
    const chatInputArea = document.getElementById('chat-input-area');
    const lockOverlay = document.getElementById('chat-lock-overlay');
    const lockContent = document.getElementById('chat-lock-content');

    messagesContainer.dataset.theme = chat.settings.theme || 'default';
    const fontSize = chat.settings.fontSize || 13;
    messagesContainer.style.setProperty('--chat-font-size', `${fontSize}px`);
    applyScopedCss(chat.settings.customCss || '', '#chat-messages', 'custom-bubble-style');
    
    document.getElementById('chat-header-title').textContent = chat.name;
    const statusContainer = document.getElementById('chat-header-status');
    const statusTextEl = statusContainer.querySelector('.status-text');

    if (chat.isGroup) {
        statusContainer.style.display = 'none';
        document.getElementById('chat-header-title-wrapper').style.justifyContent = 'center';
    } else {
        statusContainer.style.display = 'flex';
        document.getElementById('chat-header-title-wrapper').style.justifyContent = 'flex-start';
        statusTextEl.textContent = chat.status?.text || 'åœ¨çº¿';
        statusContainer.classList.toggle('busy', chat.status?.isBusy || false);
    }
    
    lockOverlay.style.display = 'none';
    chatInputArea.style.visibility = 'visible';
    lockContent.innerHTML = '';

    if (!chat.isGroup && chat.relationship.status !== 'friend') {
        lockOverlay.style.display = 'flex';
        chatInputArea.style.visibility = 'hidden';
        
        let lockHtml = '';
        switch (chat.relationship.status) {
            case 'blocked_by_user':
                // --- ã€æ ¸å¿ƒä¿®æ”¹ï¼šåœ¨è¿™é‡ŒåŠ å…¥è¯Šæ–­é¢æ¿ã€‘ ---
                const isSimulationRunning = simulationIntervalId !== null;
                const blockedTimestamp = chat.relationship.blockedTimestamp;
                const cooldownHours = state.globalSettings.blockCooldownHours || 1;
                const cooldownMilliseconds = cooldownHours * 60 * 60 * 1000;
                const timeSinceBlock = Date.now() - blockedTimestamp;
                const isCooldownOver = timeSinceBlock > cooldownMilliseconds;
                const timeRemainingMinutes = Math.max(0, Math.ceil((cooldownMilliseconds - timeSinceBlock) / (1000 * 60)));

                lockHtml = `
                    <span class="lock-text">ä½ å·²å°†â€œ${chat.name}â€æ‹‰é»‘ã€‚</span>
                    <button id="unblock-btn" class="lock-action-btn">è§£é™¤æ‹‰é»‘</button>
                    <div style="margin-top: 20px; padding: 10px; border: 1px dashed #ccc; border-radius: 8px; font-size: 11px; text-align: left; color: #666; background: rgba(0,0,0,0.02);">
                        <strong style="color: #333;">ã€å¼€å‘è€…è¯Šæ–­é¢æ¿ã€‘</strong><br>
                        - åå°æ´»åŠ¨æ€»å¼€å…³: ${state.globalSettings.enableBackgroundActivity ? '<span style="color: green;">å·²å¼€å¯</span>' : '<span style="color: red;">å·²å…³é—­</span>'}<br>
                        - ç³»ç»Ÿå¿ƒè·³è®¡æ—¶å™¨: ${isSimulationRunning ? '<span style="color: green;">è¿è¡Œä¸­</span>' : '<span style="color: red;">æœªè¿è¡Œ</span>'}<br>
                        - å½“å‰è§’è‰²çŠ¶æ€: <strong>${chat.relationship.status}</strong><br>
                        - éœ€è¦å†·é™(å°æ—¶): <strong>${cooldownHours}</strong><br>
                        - å†·é™æœŸæ˜¯å¦ç»“æŸ: ${isCooldownOver ? '<span style="color: green;">æ˜¯</span>' : `<span style="color: orange;">å¦ (è¿˜å‰©çº¦ ${timeRemainingMinutes} åˆ†é’Ÿ)</span>`}<br>
                        - è§¦å‘æ¡ä»¶: ${isCooldownOver && state.globalSettings.enableBackgroundActivity ? '<span style="color: green;">å·²æ»¡è¶³ï¼Œç­‰å¾…ä¸‹æ¬¡ç³»ç»Ÿå¿ƒè·³</span>' : '<span style="color: red;">æœªæ»¡è¶³</span>'}
                    </div>
                    <button id="force-apply-check-btn" class="lock-action-btn secondary" style="margin-top: 10px;">å¼ºåˆ¶è§¦å‘ä¸€æ¬¡å¥½å‹ç”³è¯·æ£€æµ‹</button>
                `;
                // --- ã€ä¿®æ”¹ç»“æŸã€‘ ---
                break;
            case 'blocked_by_ai':
                lockHtml = `
                    <span class="lock-text">ä½ è¢«å¯¹æ–¹æ‹‰é»‘äº†ã€‚</span>
                    <button id="apply-friend-btn" class="lock-action-btn">é‡æ–°ç”³è¯·åŠ ä¸ºå¥½å‹</button>
                `;
                break;
            
            case 'pending_user_approval':
                lockHtml = `
                    <span class="lock-text">â€œ${chat.name}â€è¯·æ±‚æ·»åŠ ä½ ä¸ºå¥½å‹ï¼š<br><i>â€œ${chat.relationship.applicationReason}â€</i></span>
                    <button id="accept-friend-btn" class="lock-action-btn">æ¥å—</button>
                    <button id="reject-friend-btn" class="lock-action-btn secondary">æ‹’ç»</button>
                `;
                break;

            // ã€æ ¸å¿ƒä¿®æ­£ã€‘ä¿®å¤å½“ä½ ç”³è¯·åï¼Œä½ çœ‹åˆ°çš„ç•Œé¢
            case 'pending_ai_approval':
                lockHtml = `<span class="lock-text">å¥½å‹ç”³è¯·å·²å‘é€ï¼Œç­‰å¾…å¯¹æ–¹é€šè¿‡...</span>`;
                break;
        }
        lockContent.innerHTML = lockHtml;
    }
    messagesContainer.innerHTML = '';
    // ...åç»­ä»£ç ä¿æŒä¸å˜
    const chatScreen = document.getElementById('chat-interface-screen');
    chatScreen.style.backgroundImage = chat.settings.background ? `url(${chat.settings.background})` : 'none';

const isDarkMode = document.getElementById('phone-screen').classList.contains('dark-mode');
chatScreen.style.backgroundColor = chat.settings.background ? 'transparent' : (isDarkMode ? '#000000' : '#f0f2f5');
    const history = chat.history;
    const totalMessages = history.length;
    currentRenderedCount = 0;
    const initialMessages = history.slice(-MESSAGE_RENDER_WINDOW);
    initialMessages.forEach(msg => appendMessage(msg, chat, true));
    currentRenderedCount = initialMessages.length;
    if (totalMessages > currentRenderedCount) {
        prependLoadMoreButton(messagesContainer);
    }
    const typingIndicator = document.createElement('div');
    typingIndicator.id = 'typing-indicator';
    typingIndicator.style.display = 'none';
    typingIndicator.textContent = 'å¯¹æ–¹æ­£åœ¨è¾“å…¥...';
    messagesContainer.appendChild(typingIndicator);
    setTimeout(() => messagesContainer.scrollTop = messagesContainer.scrollHeight, 0);
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

        function prependLoadMoreButton(container) { const button = document.createElement('button'); button.id = 'load-more-btn'; button.textContent = 'åŠ è½½æ›´æ—©çš„è®°å½•'; button.addEventListener('click', loadMoreMessages); container.prepend(button); }

        function loadMoreMessages() { const messagesContainer = document.getElementById('chat-messages'); const chat = state.chats[state.activeChatId]; if (!chat) return; const loadMoreBtn = document.getElementById('load-more-btn'); if (loadMoreBtn) loadMoreBtn.remove(); const totalMessages = chat.history.length; const nextSliceStart = totalMessages - currentRenderedCount - MESSAGE_RENDER_WINDOW; const nextSliceEnd = totalMessages - currentRenderedCount; const messagesToPrepend = chat.history.slice(Math.max(0, nextSliceStart), nextSliceEnd); const oldScrollHeight = messagesContainer.scrollHeight; messagesToPrepend.reverse().forEach(msg => prependMessage(msg, chat)); currentRenderedCount += messagesToPrepend.length; const newScrollHeight = messagesContainer.scrollHeight; messagesContainer.scrollTop += (newScrollHeight - oldScrollHeight); if (totalMessages > currentRenderedCount) { prependLoadMoreButton(messagesContainer); } }

// â–¼â–¼â–¼ ç”¨è¿™ä¸ªã€æ–°ç‰ˆæœ¬ã€‘æ›¿æ¢æ—§çš„ renderWallpaperScreen å‡½æ•° â–¼â–¼â–¼
function renderWallpaperScreen() { 
    const preview = document.getElementById('wallpaper-preview'); 
    const bg = newWallpaperBase64 || state.globalSettings.wallpaper; 
    if (bg && bg.startsWith('data:image')) { 
        preview.style.backgroundImage = `url(${bg})`; 
        preview.textContent = ''; 
    } else if(bg) { 
        preview.style.backgroundImage = bg; 
        preview.textContent = 'å½“å‰ä¸ºæ¸å˜è‰²'; 
    }
    // ã€æ ¸å¿ƒä¿®æ”¹ã€‘åœ¨è¿™é‡Œè°ƒç”¨å›¾æ ‡æ¸²æŸ“å‡½æ•°
    renderIconSettings();
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²
        window.renderWallpaperScreenProxy = renderWallpaperScreen;

        function applyGlobalWallpaper() { const homeScreen = document.getElementById('home-screen'); const wallpaper = state.globalSettings.wallpaper; if (wallpaper && wallpaper.startsWith('data:image')) homeScreen.style.backgroundImage = `url(${wallpaper})`; else if (wallpaper) homeScreen.style.backgroundImage = wallpaper; }

        function renderWorldBookScreen() { const listEl = document.getElementById('world-book-list'); listEl.innerHTML = ''; if (state.worldBooks.length === 0) { listEl.innerHTML = '<p style="text-align:center; color: #8a8a8a; margin-top: 50px;">ç‚¹å‡»å³ä¸Šè§’ "+" åˆ›å»ºä½ çš„ç¬¬ä¸€æœ¬ä¸–ç•Œä¹¦</p>'; return; } state.worldBooks.forEach(book => { const item = document.createElement('div'); item.className = 'list-item'; item.dataset.bookId = book.id; item.innerHTML = `<div class="item-title">${book.name}</div><div class="item-content">${(book.content || 'æš‚æ— å†…å®¹...').substring(0, 50)}</div>`; item.addEventListener('click', () => openWorldBookEditor(book.id)); addLongPressListener(item, async () => { const confirmed = await showCustomConfirm('åˆ é™¤ä¸–ç•Œä¹¦', `ç¡®å®šè¦åˆ é™¤ã€Š${book.name}ã€‹å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚`, { confirmButtonClass: 'btn-danger' }); if (confirmed) { await db.worldBooks.delete(book.id); state.worldBooks = state.worldBooks.filter(wb => wb.id !== book.id); renderWorldBookScreen(); } }); listEl.appendChild(item); }); }
        window.renderWorldBookScreenProxy = renderWorldBookScreen;

        function openWorldBookEditor(bookId) { editingWorldBookId = bookId; const book = state.worldBooks.find(wb => wb.id === bookId); if (!book) return; document.getElementById('world-book-editor-title').textContent = book.name; document.getElementById('world-book-name-input').value = book.name; document.getElementById('world-book-content-input').value = book.content; showScreen('world-book-editor-screen'); }

        function renderStickerPanel() { const grid = document.getElementById('sticker-grid'); grid.innerHTML = ''; if (state.userStickers.length === 0) { grid.innerHTML = '<p style="text-align:center; color: var(--text-secondary); grid-column: 1 / -1;">å¤§äººè¯·ç‚¹å‡»å³ä¸Šè§’â€œæ·»åŠ â€æˆ–â€œä¸Šä¼ â€æ¥æ·»åŠ ä½ çš„ç¬¬ä¸€ä¸ªè¡¨æƒ…å§ï¼</p>'; return; } state.userStickers.forEach(sticker => { const item = document.createElement('div'); item.className = 'sticker-item'; item.style.backgroundImage = `url(${sticker.url})`; item.title = sticker.name; item.addEventListener('click', () => sendSticker(sticker)); addLongPressListener(item, () => { if (isSelectionMode) return; const existingDeleteBtn = item.querySelector('.delete-btn'); if (existingDeleteBtn) return; const deleteBtn = document.createElement('div'); deleteBtn.className = 'delete-btn'; deleteBtn.innerHTML = '&times;'; deleteBtn.onclick = async (e) => { e.stopPropagation(); const confirmed = await showCustomConfirm('åˆ é™¤è¡¨æƒ…', `ç¡®å®šè¦åˆ é™¤è¡¨æƒ… "${sticker.name}" å—ï¼Ÿ`, { confirmButtonClass: 'btn-danger' }); if (confirmed) { await db.userStickers.delete(sticker.id); state.userStickers = state.userStickers.filter(s => s.id !== sticker.id); renderStickerPanel(); } }; item.appendChild(deleteBtn); deleteBtn.style.display = 'block'; setTimeout(() => item.addEventListener('mouseleave', () => deleteBtn.remove(), { once: true }), 3000); }); grid.appendChild(item); }); }

// â–¼â–¼â–¼ ç”¨è¿™ä¸ªã€å·²æ›´æ–°ã€‘çš„ç‰ˆæœ¬æ›¿æ¢æ—§çš„ createMessageElement å‡½æ•° â–¼â–¼â–¼
function createMessageElement(msg, chat) {

    // â–¼â–¼â–¼ åœ¨å‡½æ•°æœ€å¼€å¤´ï¼Œæ·»åŠ è¿™æ®µæ–°ä»£ç  â–¼â–¼â–¼
if (msg.type === 'recalled_message') {
    const wrapper = document.createElement('div');
    // 1. ã€æ ¸å¿ƒã€‘ç»™ wrapper ä¹ŸåŠ ä¸Š timestampï¼Œæ–¹ä¾¿äº‹ä»¶å§”æ‰˜æ—¶æŸ¥æ‰¾
    wrapper.className = 'message-wrapper system-pat';
    wrapper.dataset.timestamp = msg.timestamp; 

    const bubble = document.createElement('div');
    // 2. ã€æ ¸å¿ƒã€‘è®©è¿™ä¸ªå…ƒç´ åŒæ—¶æ‹¥æœ‰ .message-bubble å’Œ .recalled-message-placeholder ä¸¤ä¸ªclass
    //    è¿™æ ·å®ƒæ—¢èƒ½è¢«é€‰æ‹©ç³»ç»Ÿè¯†åˆ«ï¼Œåˆèƒ½ä¿æŒåŸæœ‰çš„å±…ä¸­ç°è‰²æ ·å¼
    bubble.className = 'message-bubble recalled-message-placeholder';
    // 3. ã€æ ¸å¿ƒã€‘æŠŠ timestamp æ”¾åœ¨ bubble ä¸Šï¼Œè¿™æ˜¯å¤šé€‰é€»è¾‘çš„å…³é”®
    bubble.dataset.timestamp = msg.timestamp; 
    bubble.textContent = msg.content;
    
    wrapper.appendChild(bubble);
    
    // 4. ã€æ ¸å¿ƒã€‘ä¸ºå®ƒè¡¥ä¸Šå’Œå…¶ä»–æ¶ˆæ¯ä¸€æ ·çš„æ ‡å‡†äº‹ä»¶ç›‘å¬å™¨
    addLongPressListener(wrapper, () => showMessageActions(msg.timestamp));
    wrapper.addEventListener('click', () => { 
        if (isSelectionMode) {
            toggleMessageSelection(msg.timestamp);
        }
    });

    // 5. ã€é‡è¦ã€‘åœ¨ä¹‹å‰çš„â€œç‚¹å‡»æŸ¥çœ‹åŸæ–‡â€çš„é€»è¾‘ä¸­ï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨äº†äº‹ä»¶å§”æ‰˜ï¼Œæ‰€ä»¥è¿™é‡Œä¸éœ€è¦å†å•ç‹¬ä¸ºè¿™ä¸ªå…ƒç´ æ·»åŠ ç‚¹å‡»äº‹ä»¶äº†ã€‚
    //    init() å‡½æ•°ä¸­çš„é‚£ä¸ªäº‹ä»¶ç›‘å¬å™¨ä¼šå¤„ç†å®ƒã€‚
    
    return wrapper;
}
    // â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

    if (msg.isHidden) {
        return null;
    }

    if (msg.type === 'pat_message') {
        const wrapper = document.createElement('div');
        wrapper.className = 'message-wrapper system-pat'; 
        const bubble = document.createElement('div');
        bubble.className = 'message-bubble system-bubble'; 
        bubble.dataset.timestamp = msg.timestamp;
        bubble.textContent = msg.content;
        wrapper.appendChild(bubble);
        addLongPressListener(wrapper, () => showMessageActions(msg.timestamp));
        wrapper.addEventListener('click', () => { if (isSelectionMode) toggleMessageSelection(msg.timestamp); });
        return wrapper;
    }

    const isUser = msg.role === 'user';
    const wrapper = document.createElement('div');
    wrapper.className = `message-wrapper ${isUser ? 'user' : 'ai'}`;

    // â˜…â˜…â˜…ã€æ ¸å¿ƒé‡æ„ã€‘â˜…â˜…â˜…
    // è¿™æ®µé€»è¾‘ç°åœ¨ç”¨äºæŸ¥æ‰¾æˆå‘˜å¯¹è±¡ï¼Œå¹¶æ˜¾ç¤ºå…¶â€œç¾¤æ˜µç§°â€
    if (chat.isGroup && !isUser) {
        // 1. ä½¿ç”¨AIè¿”å›çš„â€œæœ¬åâ€(`msg.senderName`)å»åˆ—è¡¨é‡ŒæŸ¥æ‰¾æˆå‘˜å¯¹è±¡
        const member = chat.members.find(m => m.originalName === msg.senderName);
        
        // 2. åˆ›å»ºç”¨äºæ˜¾ç¤ºåå­—çš„ div
        const senderNameDiv = document.createElement('div');
        senderNameDiv.className = 'sender-name';
        
        // 3. å¦‚æœæ‰¾åˆ°äº†æˆå‘˜ï¼Œå°±æ˜¾ç¤ºä»–çš„â€œç¾¤æ˜µç§°â€ï¼›å¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±æ˜¾ç¤ºAIè¿”å›çš„â€œæœ¬åâ€ä½œä¸ºå¤‡ç”¨
        senderNameDiv.textContent = member ? member.groupNickname : (msg.senderName || 'æœªçŸ¥æˆå‘˜');
        
        wrapper.appendChild(senderNameDiv);
    }

    const bubble = document.createElement('div');
    bubble.className = `message-bubble ${isUser ? 'user' : 'ai'}`;
    bubble.dataset.timestamp = msg.timestamp;

    const timestampEl = document.createElement('span');
    timestampEl.className = 'timestamp';
    timestampEl.textContent = formatTimestamp(msg.timestamp);

    // â–¼â–¼â–¼ã€ç²˜è´´è¿™æ®µæ–°ä»£ç ã€‘â–¼â–¼â–¼
    let avatarSrc; // æˆ‘ä»¬ç°åœ¨åªéœ€è¦å¤´åƒå›¾ç‰‡ï¼Œä¸å†éœ€è¦å¤´åƒæ¡†äº†
    if (chat.isGroup) {
        if (isUser) {
            avatarSrc = chat.settings.myAvatar || defaultMyGroupAvatar;
        } else {
            const member = chat.members.find(m => m.originalName === msg.senderName);
            avatarSrc = member ? member.avatar : defaultGroupMemberAvatar;
        }
    } else {
        if (isUser) {
            avatarSrc = chat.settings.myAvatar || defaultAvatar;
        } else {
            avatarSrc = chat.settings.aiAvatar || defaultAvatar;
        }
    }
    // ç›´æ¥ç”Ÿæˆæœ€ç®€å•çš„å¤´åƒHTMLï¼Œä¸å†æœ‰ä»»ä½•å’Œå¤´åƒæ¡†ç›¸å…³çš„é€»è¾‘
    const avatarHtml = `<img src="${avatarSrc}" class="avatar">`;
    // â–²â–²â–²ã€ç²˜è´´ç»“æŸã€‘â–²â–²â–²

    let contentHtml;
    
    if (msg.type === 'share_link') {
        bubble.classList.add('is-link-share');
        
        // ã€æ ¸å¿ƒä¿®æ­£1ã€‘å°† onclick="openBrowser(...)" ç§»é™¤ï¼Œæˆ‘ä»¬å°†åœ¨JSä¸­åŠ¨æ€ç»‘å®šäº‹ä»¶
        contentHtml = `
            <div class="link-share-card" data-timestamp="${msg.timestamp}">
                <div class="title">${msg.title || 'æ— æ ‡é¢˜'}</div>
                <div class="description">${msg.description || 'ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…...'}</div>
                <div class="footer">
                    <svg class="footer-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
                    <span>${msg.source_name || 'é“¾æ¥åˆ†äº«'}</span>
                </div>
            </div>
        `;
    }

else if (msg.type === 'share_card') {
    bubble.classList.add('is-link-share'); // å¤ç”¨é“¾æ¥åˆ†äº«çš„å¡ç‰‡æ ·å¼
    // ã€æ ¸å¿ƒã€‘æŠŠæ—¶é—´æˆ³åŠ åˆ°å¡ç‰‡ä¸Šï¼Œæ–¹ä¾¿åé¢ç‚¹å‡»æ—¶è¯†åˆ«
    contentHtml = `
        <div class="link-share-card" style="cursor: pointer;" data-timestamp="${msg.timestamp}">
            <div class="title">${msg.payload.title}</div>
            <div class="description">å…± ${msg.payload.sharedHistory.length} æ¡æ¶ˆæ¯</div>
            <div class="footer">
                <svg class="footer-icon" ...>...</svg> <!-- å¤ç”¨é“¾æ¥åˆ†äº«çš„å›¾æ ‡ -->
                <span>èŠå¤©è®°å½•</span>
            </div>
        </div>
    `;
}

    // åç»­çš„å…¶ä»– else if ä¿æŒä¸å˜
    else if (msg.type === 'user_photo' || msg.type === 'ai_image') {
        bubble.classList.add('is-ai-image');
        const altText = msg.type === 'user_photo' ? "ç”¨æˆ·æè¿°çš„ç…§ç‰‡" : "AIç”Ÿæˆçš„å›¾ç‰‡";
        contentHtml = `<img src="https://i.postimg.cc/KYr2qRCK/1.jpg" class="ai-generated-image" alt="${altText}" data-description="${msg.content}">`;
    } else if (msg.type === 'voice_message') {
    bubble.classList.add('is-voice-message');
    
    // ã€æ ¸å¿ƒä¿®æ­£1ã€‘å°†è¯­éŸ³åŸæ–‡å­˜å‚¨åœ¨çˆ¶çº§æ°”æ³¡çš„ data-* å±æ€§ä¸­ï¼Œæ–¹ä¾¿äº‹ä»¶å¤„ç†å™¨è·å–
    bubble.dataset.voiceText = msg.content;
    
    const duration = Math.max(1, Math.round((msg.content || '').length / 5));
    const durationFormatted = `0:${String(duration).padStart(2, '0')}''`;
    const waveformHTML = '<div></div><div></div><div></div><div></div><div></div>';
    
    // ã€æ ¸å¿ƒä¿®æ­£2ã€‘æ„å»ºåŒ…å«æ‰€æœ‰æ–°å…ƒç´ çš„å®Œæ•´ HTML
    contentHtml = `
        <div class="voice-message-body">
            <div class="voice-waveform">${waveformHTML}</div>
            <div class="loading-spinner"></div>
            <span class="voice-duration">${durationFormatted}</span>
        </div>
        <div class="voice-transcript"></div>
    `;
} else if (msg.type === 'transfer') {
    bubble.classList.add('is-transfer');
    
    let titleText, noteText;
    const myNickname = chat.isGroup ? (chat.settings.myNickname || 'æˆ‘') : 'æˆ‘';

    if (isUser) { // æ¶ˆæ¯æ˜¯ç”¨æˆ·å‘å‡ºçš„
        if (msg.isRefund) {
            // ç”¨æˆ·å‘å‡ºçš„é€€æ¬¾ï¼ˆå³ç”¨æˆ·æ‹’æ”¶äº†AIçš„è½¬è´¦ï¼‰
            titleText = `é€€æ¬¾ç»™ ${chat.name}`;
            noteText = 'å·²æ‹’æ”¶å¯¹æ–¹è½¬è´¦';
        } else {
            // ç”¨æˆ·ä¸»åŠ¨å‘èµ·çš„è½¬è´¦
            titleText = `è½¬è´¦ç»™ ${msg.receiverName || chat.name}`;
            if (msg.status === 'accepted') {
                noteText = 'å¯¹æ–¹å·²æ”¶æ¬¾';
            } else if (msg.status === 'declined') {
                noteText = 'å¯¹æ–¹å·²æ‹’æ”¶';
            } else {
                noteText = msg.note || 'ç­‰å¾…å¯¹æ–¹å¤„ç†...';
            }
        }
    } else { // æ¶ˆæ¯æ˜¯ AI å‘å‡ºçš„
        if (msg.isRefund) {
            // AI çš„é€€æ¬¾ï¼ˆAI æ‹’æ”¶äº†ç”¨æˆ·çš„è½¬è´¦ï¼‰
            titleText = `é€€æ¬¾æ¥è‡ª ${msg.senderName}`;
            noteText = 'è½¬è´¦å·²è¢«æ‹’æ”¶';
        } else if (msg.receiverName === myNickname) {
            // ã€æ ¸å¿ƒä¿®æ­£1ã€‘è¿™æ˜¯ AI ä¸»åŠ¨ç»™ç”¨æˆ·çš„è½¬è´¦
            titleText = `è½¬è´¦ç»™ ${myNickname}`;
             if (msg.status === 'accepted') {
                noteText = 'ä½ å·²æ”¶æ¬¾';
            } else if (msg.status === 'declined') {
                noteText = 'ä½ å·²æ‹’æ”¶';
            } else {
                // è¿™æ˜¯ç”¨æˆ·éœ€è¦å¤„ç†çš„è½¬è´¦
                bubble.style.cursor = 'pointer';
                bubble.dataset.status = 'pending';
                noteText = msg.note || 'ç‚¹å‡»å¤„ç†';
            }
        } else {
            // ã€æ ¸å¿ƒä¿®æ­£2ã€‘è¿™æ˜¯ AI å‘ç»™ç¾¤é‡Œå…¶ä»–äººçš„è½¬è´¦ï¼Œå¯¹å½“å‰ç”¨æˆ·æ¥è¯´åªæ˜¯ä¸€ä¸ªé€šçŸ¥
            titleText = `è½¬è´¦: ${msg.senderName} â†’ ${msg.receiverName}`;
            noteText = msg.note || 'ç¾¤èŠå†…è½¬è´¦';
        }
    }

    const heartIcon = `<svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor" style="vertical-align: middle;"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path></svg>`;
        
    contentHtml = `
        <div class="transfer-card">
            <div class="transfer-title">${heartIcon} ${titleText}</div>
            <div class="transfer-amount">Â¥ ${Number(msg.amount).toFixed(2)}</div>
            <div class.transfer-note">${noteText}</div>
        </div>
    `;
} else if (msg.type === 'waimai_request') {
        bubble.classList.add('is-waimai-request');
        if (msg.status === 'paid' || msg.status === 'rejected') {
            bubble.classList.add(`status-${msg.status}`);
        }
        const requestTitle = `æ¥è‡ª ${msg.senderName} çš„ä»£ä»˜è¯·æ±‚`;
        let actionButtonsHtml = '';
        if (msg.status === 'pending' && !isUser) {
            actionButtonsHtml = `
                <div class="waimai-user-actions">
                    <button class="waimai-decline-btn" data-choice="rejected">æ®‹å¿æ‹’ç»</button>
                    <button class="waimai-pay-btn" data-choice="paid">ä¸ºTaä¹°å•</button>
                </div>`;
        }
        contentHtml = `
            <div class="waimai-card">
                <div class="waimai-header">
                    <img src="https://files.catbox.moe/mq179k.png" class="icon" alt="Meituan Icon">
                    <div class="title-group">
                        <span class="brand">ç¾å›¢å¤–å–</span><span class="separator">|</span><span>å¤–å–ç¾é£Ÿ</span>
                    </div>
                </div>
                <div class="waimai-catchphrase">Hiï¼Œä½ å’Œæˆ‘çš„è·ç¦»åªå·®ä¸€é¡¿å¤–å–ï½</div>
                <div class="waimai-main">
                    <div class="request-title">${requestTitle}</div>
                    <div class="payment-box">
                        <div class="payment-label">éœ€ä»˜æ¬¾</div>
                        <div class="amount">Â¥${Number(msg.amount).toFixed(2)}</div>
                        <div class="countdown-label">å‰©ä½™æ”¯ä»˜æ—¶é—´
                            <div class="countdown-timer" id="waimai-timer-${msg.timestamp}"></div>
                        </div>
                    </div>
                    <button class="waimai-details-btn">æŸ¥çœ‹è¯¦æƒ…</button>
                </div>
                ${actionButtonsHtml}
            </div>`;
        
        setTimeout(() => {
            const timerEl = document.getElementById(`waimai-timer-${msg.timestamp}`);
            if (timerEl && msg.countdownEndTime) {
                if (waimaiTimers[msg.timestamp]) clearInterval(waimaiTimers[msg.timestamp]);
                if (msg.status === 'pending') {
                    waimaiTimers[msg.timestamp] = startWaimaiCountdown(timerEl, msg.countdownEndTime);
                } else {
                    timerEl.innerHTML = `<span>å·²</span><span>å¤„</span><span>ç†</span>`;
                }
            }
            const detailsBtn = document.querySelector(`.message-bubble[data-timestamp="${msg.timestamp}"] .waimai-details-btn`);
            if (detailsBtn) {
                detailsBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const paidByText = msg.paidBy ? `<br><br><b>çŠ¶æ€ï¼š</b>ç”± ${msg.paidBy} ä¸ºæ‚¨ä»£ä»˜æˆåŠŸ` : '';
                    showCustomAlert('è®¢å•è¯¦æƒ…', `<b>å•†å“ï¼š</b>${msg.productInfo}<br><b>é‡‘é¢ï¼š</b>Â¥${Number(msg.amount).toFixed(2)}${paidByText}`);
                });
            }
            const actionButtons = document.querySelectorAll(`.message-bubble[data-timestamp="${msg.timestamp}"] .waimai-user-actions button`);
            actionButtons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const choice = e.target.dataset.choice;
                    handleWaimaiResponse(msg.timestamp, choice);
                });
            });
        }, 0);

} else if (msg.type === 'red_packet') {
    bubble.classList.add('is-red-packet');
    const myNickname = chat.settings.myNickname || 'æˆ‘';
    
    // ä»æœ€æ–°çš„ msg å¯¹è±¡ä¸­è·å–çŠ¶æ€
    const hasClaimed = msg.claimedBy && msg.claimedBy[myNickname];
    const isFinished = msg.isFullyClaimed;

    let cardClass = '';
    let claimedInfoHtml = '';
    let typeText = 'æ‹¼æ‰‹æ°”çº¢åŒ…';

    // 1. åˆ¤æ–­çº¢åŒ…å¡ç‰‡çš„æ ·å¼ (é¢œè‰²)
    if (isFinished) {
        cardClass = 'opened';
    } else if (msg.packetType === 'direct' && Object.keys(msg.claimedBy || {}).length > 0) {
        cardClass = 'opened'; // ä¸“å±çº¢åŒ…è¢«é¢†äº†ä¹Ÿå˜ç°
    }
    
    // 2. åˆ¤æ–­çº¢åŒ…ä¸‹æ–¹çš„æç¤ºæ–‡å­—
    if (msg.packetType === 'direct') {
        typeText = `ä¸“å±çº¢åŒ…: ç»™ ${msg.receiverName}`;
    }
    
    if (hasClaimed) {
        claimedInfoHtml = `<div class="rp-claimed-info">ä½ é¢†å–äº†çº¢åŒ…ï¼Œé‡‘é¢ ${msg.claimedBy[myNickname].toFixed(2)} å…ƒ</div>`;
    } else if (isFinished) {
        claimedInfoHtml = `<div class="rp-claimed-info">çº¢åŒ…å·²è¢«é¢†å®Œ</div>`;
    } else if (msg.packetType === 'direct' && Object.keys(msg.claimedBy || {}).length > 0) {
        claimedInfoHtml = `<div class="rp-claimed-info">å·²è¢« ${msg.receiverName} é¢†å–</div>`;
    }

    // 3. æ‹¼æ¥æœ€ç»ˆçš„HTMLï¼Œç¡®ä¿onclickè°ƒç”¨çš„æ˜¯æˆ‘ä»¬æ³¨å†Œåˆ°å…¨å±€çš„å‡½æ•°
    contentHtml = `
        <div class="red-packet-card ${cardClass}">
            <div class="rp-header">
                <img src="https://files.catbox.moe/lo9xhc.png" class="rp-icon">
                <span class="rp-greeting">${msg.greeting || 'æ­å–œå‘è´¢ï¼Œå¤§å‰å¤§åˆ©ï¼'}</span>
            </div>
            <div class="rp-type">${typeText}</div>
            ${claimedInfoHtml}
        </div>
    `;
// â–²â–²â–² æ–°å¢ç»“æŸ â–²â–²â–²

    } else if (msg.type === 'poll') {
    bubble.classList.add('is-poll');
    
    let totalVotes = 0;
    const voteCounts = {};

    // è®¡ç®—æ€»ç¥¨æ•°å’Œæ¯ä¸ªé€‰é¡¹çš„ç¥¨æ•°
    for (const option in msg.votes) {
        const count = msg.votes[option].length;
        voteCounts[option] = count;
        totalVotes += count;
    }

    const myNickname = chat.isGroup ? (chat.settings.myNickname || 'æˆ‘') : 'æˆ‘';
    let myVote = null;
    for (const option in msg.votes) {
        if (msg.votes[option].includes(myNickname)) {
            myVote = option;
            break;
        }
    }

    let optionsHtml = '<div class="poll-options-list">';
    msg.options.forEach(optionText => {
        const count = voteCounts[optionText] || 0;
        const percentage = totalVotes > 0 ? (count / totalVotes) * 100 : 0;
        const isVotedByMe = myVote === optionText;

        optionsHtml += `
            <div class="poll-option-item ${isVotedByMe ? 'voted' : ''}" data-option="${optionText}">
                <div class="poll-option-bar" style="width: ${percentage}%;"></div>
                <div class="poll-option-content">
                    <span class="poll-option-text">${optionText}</span>
                    <span class="poll-option-votes">${count} ç¥¨</span>
                </div>
            </div>
        `;
    });
    optionsHtml += '</div>';
    
    let footerHtml = '';
    // ã€æ ¸å¿ƒä¿®æ”¹ã€‘åœ¨è¿™é‡Œç»Ÿä¸€æŒ‰é’®çš„æ˜¾ç¤ºé€»è¾‘
    if (msg.isClosed) {
        // å¦‚æœæŠ•ç¥¨å·²ç»“æŸï¼Œæ€»æ˜¯æ˜¾ç¤ºâ€œæŸ¥çœ‹ç»“æœâ€
        footerHtml = `<div class="poll-footer"><span class="poll-total-votes">å…± ${totalVotes} äººæŠ•ç¥¨</span><button class="poll-action-btn">æŸ¥çœ‹ç»“æœ</button></div>`;
    } else {
        // å¦‚æœæŠ•ç¥¨æœªç»“æŸï¼Œæ€»æ˜¯æ˜¾ç¤ºâ€œç»“æŸæŠ•ç¥¨â€
        footerHtml = `<div class="poll-footer"><span class="poll-total-votes">å…± ${totalVotes} äººæŠ•ç¥¨</span><button class="poll-action-btn">ç»“æŸæŠ•ç¥¨</button></div>`;
    }

    contentHtml = `
        <div class="poll-card ${msg.isClosed ? 'closed' : ''}" data-poll-timestamp="${msg.timestamp}">
            <div class="poll-question">${msg.question}</div>
            ${optionsHtml}
            ${footerHtml}
        </div>
    `;
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

    } else if (typeof msg.content === 'string' && STICKER_REGEX.test(msg.content)) {
        bubble.classList.add('is-sticker');
        contentHtml = `<img src="${msg.content}" alt="${msg.meaning || 'Sticker'}" class="sticker-image">`;
    } else if (Array.isArray(msg.content) && msg.content[0]?.type === 'image_url') {
        bubble.classList.add('has-image');
        const imageUrl = msg.content[0].image_url.url;
        contentHtml = `<img src="${imageUrl}" class="chat-image" alt="User uploaded image">`;
    } else {
        contentHtml = String(msg.content || '').replace(/\n/g, '<br>');
    }

// â–¼â–¼â–¼ ã€æœ€ç»ˆä¿®æ­£ç‰ˆã€‘è¯·ç”¨è¿™æ•´å—ä»£ç ï¼Œå®Œæ•´æ›¿æ¢æ‰æ—§çš„å¼•ç”¨æ¸²æŸ“é€»è¾‘ â–¼â–¼â–¼

// 1. ã€ç»Ÿä¸€é€»è¾‘ã€‘æ£€æŸ¥æ¶ˆæ¯å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨å¼•ç”¨ä¿¡æ¯ (msg.quote)
let quoteHtml = '';
// æ— è®ºæ˜¯ç”¨æˆ·æ¶ˆæ¯è¿˜æ˜¯AIæ¶ˆæ¯ï¼Œåªè¦å®ƒåŒ…å«äº† .quote å¯¹è±¡ï¼Œå°±æ‰§è¡Œè¿™æ®µé€»è¾‘
if (msg.quote) {
    // a. ã€æ ¸å¿ƒä¿®æ­£ã€‘ç›´æ¥è·å–å®Œæ•´çš„ã€æœªç»æˆªæ–­çš„å¼•ç”¨å†…å®¹
    const fullQuotedContent = String(msg.quote.content || '');
    
    // b. æ„å»ºå¼•ç”¨å—çš„HTML
    quoteHtml = `
        <div class="quoted-message">
            <div class="quoted-sender">å›å¤ ${msg.quote.senderName}:</div>
            <div class="quoted-content">${fullQuotedContent}</div>
        </div>
    `;
}

// 2. æ‹¼æ¥æœ€ç»ˆçš„æ°”æ³¡å†…å®¹
//    å°†æ„å»ºå¥½çš„ quoteHtml (å¦‚æœå­˜åœ¨) å’Œ contentHtml ç»„åˆèµ·æ¥
    // --- ã€æœ€ç»ˆæ­£ç¡®ç»“æ„ã€‘å°†å¤´åƒå’Œå†…å®¹éƒ½æ”¾å›æ°”æ³¡å†…éƒ¨ ---
    bubble.innerHTML = `
        ${avatarHtml}
        <div class="content">
            ${quoteHtml}
            ${contentHtml}
        </div>
    `;
    
    // --- ã€æœ€ç»ˆæ­£ç¡®ç»“æ„ã€‘å°†å®Œæ•´çš„â€œæ°”æ³¡â€å’Œâ€œæ—¶é—´æˆ³â€æ”¾å…¥å®¹å™¨ ---
    wrapper.appendChild(bubble);
    wrapper.appendChild(timestampEl);
    
    addLongPressListener(wrapper, () => showMessageActions(msg.timestamp));
        wrapper.addEventListener('click', () => { if (isSelectionMode) toggleMessageSelection(msg.timestamp); });

if (!isUser) {
    const avatarEl = wrapper.querySelector('.avatar'); //  <-- 1. æŠŠæŸ¥æ‰¾ç›®æ ‡æ”¹æˆ '.avatar'
    if (avatarEl) {
        avatarEl.style.cursor = 'pointer';
        avatarEl.addEventListener('click', (e) => {    //  <-- 2. ç¡®ä¿è¿™é‡Œä¹Ÿç”¨æ–°å˜é‡
            e.stopPropagation();
            const characterName = chat.isGroup ? msg.senderName : chat.name;
            handleUserPat(chat.id, characterName);
        });
    }
}

return wrapper;
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

        function prependMessage(msg, chat) { const messagesContainer = document.getElementById('chat-messages'); const messageEl = createMessageElement(msg, chat); 

    if (!messageEl) return; // <--- æ–°å¢è¿™è¡Œï¼ŒåŒæ ·çš„å¤„ç†

const loadMoreBtn = document.getElementById('load-more-btn'); if (loadMoreBtn) { messagesContainer.insertBefore(messageEl, loadMoreBtn.nextSibling); } else { messagesContainer.prepend(messageEl); } }

// â–¼â–¼â–¼ ç”¨è¿™ä¸ªã€å¸¦åŠ¨ç”»çš„ç‰ˆæœ¬ã€‘æ›¿æ¢ä½ åŸæ¥çš„ appendMessage å‡½æ•° â–¼â–¼â–¼
function appendMessage(msg, chat, isInitialLoad = false) {
    const messagesContainer = document.getElementById('chat-messages');
    const messageEl = createMessageElement(msg, chat);

    if (!messageEl) return; // å¦‚æœæ¶ˆæ¯æ˜¯éšè—çš„ï¼Œåˆ™ä¸å¤„ç†

    // ã€æ ¸å¿ƒã€‘åªå¯¹æ–°æ¶ˆæ¯æ·»åŠ åŠ¨ç”»ï¼Œä¸å¯¹åˆå§‹åŠ è½½çš„æ¶ˆæ¯æ·»åŠ 
    if (!isInitialLoad) {
        messageEl.classList.add('animate-in');
    }
  
    const typingIndicator = document.getElementById('typing-indicator');
    messagesContainer.insertBefore(messageEl, typingIndicator);
    
    if (!isInitialLoad) {
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
        currentRenderedCount++;
    }
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

async function openChat(chatId) {
    state.activeChatId = chatId;
    const chat = state.chats[chatId];
    if (!chat) return; // å®‰å…¨æ£€æŸ¥

    // ã€æ ¸å¿ƒæ–°å¢ã€‘åœ¨è¿™é‡Œå°†æœªè¯»æ•°æ¸…é›¶
    if (chat.unreadCount > 0) {
        chat.unreadCount = 0;
        await db.chats.put(chat); // åˆ«å¿˜äº†æŠŠè¿™ä¸ªæ”¹å˜åŒæ­¥åˆ°æ•°æ®åº“
        // æˆ‘ä»¬ç¨åä¼šåœ¨æ¸²æŸ“åˆ—è¡¨æ—¶é‡æ–°æ¸²æŸ“ï¼Œæ‰€ä»¥è¿™é‡Œä¸éœ€è¦ç«‹å³é‡ç»˜åˆ—è¡¨
    }

    renderChatInterface(chatId);
    showScreen('chat-interface-screen');
    window.updateListenTogetherIconProxy(state.activeChatId);
    toggleCallButtons(chat.isGroup || false);    

    if (!chat.isGroup && chat.relationship?.status === 'pending_ai_approval') {
        console.log(`æ£€æµ‹åˆ°å¥½å‹ç”³è¯·å¾…å¤„ç†çŠ¶æ€ï¼Œä¸ºè§’è‰² "${chat.name}" è‡ªåŠ¨è§¦å‘AIå“åº”...`);
        triggerAiResponse();
    }
    
    // ã€æ ¸å¿ƒä¿®æ­£ã€‘æ ¹æ®æ˜¯å¦ä¸ºç¾¤èŠï¼Œæ˜¾ç¤ºæˆ–éšè—æŠ•ç¥¨æŒ‰é’®
    document.getElementById('send-poll-btn').style.display = chat.isGroup ? 'flex' : 'none';
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

async function triggerAiResponse() {
    if (!state.activeChatId) return;
    const chatId = state.activeChatId;
    const chat = state.chats[state.activeChatId];

const chatHeaderTitle = document.getElementById('chat-header-title');

    // â˜…â˜…â˜…â˜…â˜…ã€æ ¸å¿ƒä¿®æ”¹1ï¼šè·å–ç¾¤èŠçš„è¾“å…¥æç¤ºå…ƒç´ ã€‘â˜…â˜…â˜…â˜…â˜…
    const typingIndicator = document.getElementById('typing-indicator');

    // â˜…â˜…â˜…â˜…â˜…ã€æ ¸å¿ƒä¿®æ”¹2ï¼šæ ¹æ®èŠå¤©ç±»å‹ï¼Œå†³å®šæ˜¾ç¤ºå“ªç§â€œæ­£åœ¨è¾“å…¥â€ã€‘â˜…â˜…â˜…â˜…â˜…
    if (chat.isGroup) {
        // å¦‚æœæ˜¯ç¾¤èŠï¼Œæ˜¾ç¤ºè¾“å…¥æ¡†ä¸Šæ–¹çš„æç¤ºæ¡
        if (typingIndicator) {
            typingIndicator.textContent = 'æˆå‘˜ä»¬æ­£åœ¨è¾“å…¥...';
            typingIndicator.style.display = 'block';
        }
    } else {
        // å¦‚æœæ˜¯å•èŠï¼Œä¿æŒåŸæ¥çš„æ ‡é¢˜åŠ¨ç”»
        if (chatHeaderTitle) {
            chatHeaderTitle.style.opacity = 0;
            setTimeout(() => {
                chatHeaderTitle.textContent = 'å¯¹æ–¹æ­£åœ¨è¾“å…¥...';
                chatHeaderTitle.classList.add('typing-status');
                chatHeaderTitle.style.opacity = 1;
            }, 200);
        }
    }
    
    try {
        const { proxyUrl, apiKey, model } = state.apiConfig;
        if (!proxyUrl || !apiKey || !model) {
            alert('è¯·å…ˆåœ¨APIè®¾ç½®ä¸­é…ç½®åä»£åœ°å€ã€å¯†é’¥å¹¶é€‰æ‹©æ¨¡å‹ã€‚');
            // â˜…â˜…â˜…â˜…â˜…ã€æ ¸å¿ƒä¿®æ”¹3ï¼šæ— è®ºæˆåŠŸå¤±è´¥ï¼Œéƒ½è¦éšè—è¾“å…¥æç¤ºã€‘â˜…â˜…â˜…â˜…â˜…
            if (chat.isGroup) {
                if (typingIndicator) typingIndicator.style.display = 'none';
            } else {
                 if (chatHeaderTitle && state.chats[chatId]) {
                    chatHeaderTitle.textContent = state.chats[chatId].name;
                    chatHeaderTitle.classList.remove('typing-status');
                }
            }
            return;
        }

        // --- ã€æ ¸å¿ƒé‡æ„ V2ï¼šå¸¦æœ‰ä¸Šä¸‹æ–‡å’Œç†ç”±çš„å¥½å‹ç”³è¯·å¤„ç†é€»è¾‘ã€‘---
        if (!chat.isGroup && chat.relationship?.status === 'pending_ai_approval') {
            console.log(`ä¸ºè§’è‰² "${chat.name}" è§¦å‘å¸¦ç†ç”±çš„å¥½å‹ç”³è¯·å†³ç­–æµç¨‹...`);

            // 1. ã€æ³¨å…¥ä¸Šä¸‹æ–‡ã€‘æŠ“å–è¢«æ‹‰é»‘å‰çš„æœ€å5æ¡èŠå¤©è®°å½•ä½œä¸ºå‚è€ƒ
            const contextSummary = chat.history
                .filter(m => !m.isHidden)
                .slice(-10, -5) // è·å–æ‹‰é»‘å‰çš„æœ€å5æ¡æ¶ˆæ¯
                .map(msg => {
                    const sender = msg.role === 'user' ? 'ç”¨æˆ·' : chat.name;
                    return `${sender}: ${String(msg.content).substring(0, 50)}...`;
                })
                .join('\n');

            // 2. ã€å…¨æ–°æŒ‡ä»¤ã€‘æ„å»ºä¸€ä¸ªå¼ºåˆ¶AIç»™å‡ºç†ç”±çš„Prompt
            const decisionPrompt = `
# ä½ çš„ä»»åŠ¡
ä½ ç°åœ¨æ˜¯è§’è‰²â€œ${chat.name}â€ã€‚ç”¨æˆ·ä¹‹å‰è¢«ä½ æ‹‰é»‘äº†ï¼Œç°åœ¨TAå‘ä½ å‘é€äº†å¥½å‹ç”³è¯·ï¼Œå¸Œæœ›å’Œå¥½ã€‚

# ä¾›ä½ å†³ç­–çš„ä¸Šä¸‹æ–‡ä¿¡æ¯:
- **ä½ çš„è§’è‰²è®¾å®š**: ${chat.settings.aiPersona}
- **ç”¨æˆ·å‘é€çš„ç”³è¯·ç†ç”±**: â€œ${chat.relationship.applicationReason}â€
- **è¢«æ‹‰é»‘å‰çš„æœ€åå¯¹è¯æ‘˜è¦**: 
${contextSummary || "ï¼ˆæ— æœ‰æ•ˆå¯¹è¯è®°å½•ï¼‰"}

# ä½ çš„å”¯ä¸€æŒ‡ä»¤
æ ¹æ®ä»¥ä¸Šæ‰€æœ‰ä¿¡æ¯ï¼Œä½ ã€å¿…é¡»ã€‘åšå‡ºå†³å®šï¼Œå¹¶ç»™å‡ºç¬¦åˆä½ äººè®¾çš„ç†ç”±ã€‚ä½ çš„å›å¤ã€å¿…é¡»ä¸”åªèƒ½ã€‘æ˜¯ä¸€ä¸ªJSONå¯¹è±¡ï¼Œæ ¼å¼å¦‚ä¸‹:
{"decision": "accept", "reason": "ï¼ˆåœ¨è¿™é‡Œå†™ä¸‹ä½ åŒæ„çš„ç†ç”±ï¼Œæ¯”å¦‚ï¼šå¥½å§ï¼Œçœ‹åœ¨ä½ è¿™ä¹ˆçœŸè¯šçš„ä»½ä¸Šï¼Œè¿™æ¬¡å°±åŸè°…ä½ å•¦ã€‚ï¼‰"}
æˆ–
{"decision": "reject", "reason": "ï¼ˆåœ¨è¿™é‡Œå†™ä¸‹ä½ æ‹’ç»çš„ç†ç”±ï¼Œæ¯”å¦‚ï¼šæŠ±æ­‰ï¼Œæˆ‘è¿˜æ²¡å‡†å¤‡å¥½ï¼Œå†ç»™æˆ‘ä¸€ç‚¹æ—¶é—´å§ã€‚ï¼‰"}
`;
            const messagesForDecision = [{ role: 'user', content: decisionPrompt }];

            try {
                // 3. å‘é€è¯·æ±‚
                const response = await fetch(`${proxyUrl}/v1/chat/completions`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${apiKey}` },
                    body: JSON.stringify({ model: model, messages: messagesForDecision, temperature: 0.8 })
                });

                if (!response.ok) {
                    throw new Error(`APIå¤±è´¥: ${(await response.json()).error.message}`);
                }
                const data = await response.json();
                
                // å‡€åŒ–å¹¶è§£æAIçš„å›å¤
                const rawContent = data.choices[0].message.content.replace(/^```json\s*/, '').replace(/```$/, '').trim();
                const decisionObj = JSON.parse(rawContent);

                // 4. æ ¹æ®AIçš„å†³ç­–å’Œç†ç”±ï¼Œæ›´æ–°çŠ¶æ€å¹¶å‘é€æ¶ˆæ¯
                if (decisionObj.decision === 'accept') {
                    chat.relationship.status = 'friend';
                    // å°†AIç»™å‡ºçš„ç†ç”±ä½œä¸ºä¸€æ¡æ–°æ¶ˆæ¯
                    const acceptMessage = { role: 'assistant', senderName: chat.name, content: decisionObj.reason, timestamp: Date.now() };
                    chat.history.push(acceptMessage);
                } else {
                    chat.relationship.status = 'blocked_by_ai'; // æ‹’ç»åï¼ŒçŠ¶æ€å˜å›AIæ‹‰é»‘
                    const rejectMessage = { role: 'assistant', senderName: chat.name, content: decisionObj.reason, timestamp: Date.now() };
                    chat.history.push(rejectMessage);
                }
                chat.relationship.applicationReason = ''; // æ¸…ç©ºç”³è¯·ç†ç”±

                await db.chats.put(chat);
                renderChatInterface(chatId); // åˆ·æ–°ç•Œé¢ï¼Œæ˜¾ç¤ºæ–°æ¶ˆæ¯å’Œæ–°çŠ¶æ€
                renderChatList();

            } catch (error) {
                // ã€å¯é çš„é”™è¯¯å¤„ç†ã€‘å¦‚æœä»»ä½•ç¯èŠ‚å‡ºé”™ï¼Œé‡ç½®çŠ¶æ€ï¼Œè®©ç”¨æˆ·å¯ä»¥é‡è¯•
                chat.relationship.status = 'blocked_by_ai'; // çŠ¶æ€æ”¹å›â€œè¢«AIæ‹‰é»‘â€
                await db.chats.put(chat);
                await showCustomAlert('ç”³è¯·å¤±è´¥', `AIåœ¨å¤„ç†ä½ çš„å¥½å‹ç”³è¯·æ—¶å‡ºé”™äº†ï¼Œè¯·ç¨åé‡è¯•ã€‚\né”™è¯¯ä¿¡æ¯: ${error.message}`);
                renderChatInterface(chatId); // åˆ·æ–°UIï¼Œè®©â€œé‡æ–°ç”³è¯·â€æŒ‰é’®å†æ¬¡å‡ºç°
            }
            
            // å†³ç­–æµç¨‹ç»“æŸï¼Œå¿…é¡»è¿”å›ï¼Œä¸å†æ‰§è¡Œåç»­çš„é€šç”¨èŠå¤©é€»è¾‘
            return; 
        }

        const now = new Date();
        const currentTime = now.toLocaleString('zh-CN', { dateStyle: 'full', timeStyle: 'short' });
        let worldBookContent = '';
        if (chat.settings.linkedWorldBookIds && chat.settings.linkedWorldBookIds.length > 0) {
            const linkedContents = chat.settings.linkedWorldBookIds.map(bookId => {
                const worldBook = state.worldBooks.find(wb => wb.id === bookId);
                return worldBook && worldBook.content ? `\n\n## ä¸–ç•Œä¹¦: ${worldBook.name}\n${worldBook.content}` : '';
            }).filter(Boolean).join('');
            if (linkedContents) {
                worldBookContent = `\n\n# æ ¸å¿ƒä¸–ç•Œè§‚è®¾å®š (å¿…é¡»ä¸¥æ ¼éµå®ˆä»¥ä¸‹æ‰€æœ‰è®¾å®š)\n${linkedContents}\n`;
            }
        }
        let musicContext = '';
        if (musicState.isActive && musicState.activeChatId === chatId) {
            // ã€æ ¸å¿ƒä¿®æ”¹ã€‘æä¾›æ›´è¯¦ç»†çš„éŸ³ä¹ä¸Šä¸‹æ–‡
            const currentTrack = musicState.currentIndex > -1 ? musicState.playlist[musicState.currentIndex] : null;
            const playlistInfo = musicState.playlist.map(t => `"${t.name}"`).join(', ');

    // --- ã€æ ¸å¿ƒæ–°å¢ã€‘è·å–æ­Œè¯ä¸Šä¸‹æ–‡ ---
    let lyricsContext = "";
    // æ£€æŸ¥æ˜¯å¦æœ‰è§£æå¥½çš„æ­Œè¯ï¼Œå¹¶ä¸”å½“å‰æœ‰é«˜äº®çš„è¡Œ
    if (currentTrack && musicState.parsedLyrics && musicState.parsedLyrics.length > 0 && musicState.currentLyricIndex > -1) {
        // è·å–å½“å‰é«˜äº®æ­Œè¯
        const currentLine = musicState.parsedLyrics[musicState.currentLyricIndex];
        
        // è·å–æ¥ä¸‹æ¥çš„2å¥æ­Œè¯ä½œä¸ºé¢„å‘Š
        const upcomingLines = musicState.parsedLyrics.slice(musicState.currentLyricIndex + 1, musicState.currentLyricIndex + 3);

        // æ„å»ºæ­Œè¯éƒ¨åˆ†çš„Prompt
        lyricsContext += `- **å½“å‰æ­Œè¯**: "${currentLine.text}"\n`;
        if (upcomingLines.length > 0) {
            lyricsContext += `- **å³å°†æ¼”å”±**: ${upcomingLines.map(line => `"${line.text}"`).join(' / ')}\n`;
        }
    }
    // --- ã€æ–°å¢ç»“æŸã€‘ ---

            musicContext = `\n\n# å½“å‰éŸ³ä¹æƒ…æ™¯
-   **å½“å‰çŠ¶æ€**: ä½ æ­£åœ¨å’Œç”¨æˆ·ä¸€èµ·å¬æ­Œã€‚
-   **æ­£åœ¨æ’­æ”¾**: ${currentTrack ? `ã€Š${currentTrack.name}ã€‹ - ${currentTrack.artist}` : 'æ— '}
-   **å¯ç”¨æ’­æ”¾åˆ—è¡¨**: [${playlistInfo}]
-   **ä½ çš„ä»»åŠ¡**: ä½ å¯ä»¥æ ¹æ®å¯¹è¯å†…å®¹å’Œæ°›å›´ï¼Œä½¿ç”¨ "change_music" æŒ‡ä»¤åˆ‡æ¢åˆ°æ’­æ”¾åˆ—è¡¨ä¸­çš„ä»»ä½•ä¸€é¦–æ­Œï¼Œä»¥å¢å¼ºäº’åŠ¨ä½“éªŒã€‚
`;
        }
        let systemPrompt, messagesPayload;
        const maxMemory = parseInt(chat.settings.maxMemory) || 10;
        const historySlice = chat.history.slice(-maxMemory);

        // --- â–¼â–¼â–¼ å…¨æ–°æ·»åŠ çš„æ—¶é—´æ„ŸçŸ¥ä»£ç  â–¼â–¼â–¼ ---
        let timeContext = `\n- **å½“å‰æ—¶é—´**: ${currentTime}`;
        const lastAiMessage = historySlice.filter(m => m.role === 'assistant' && !m.isHidden).slice(-1)[0];

        if (lastAiMessage) {
            const lastTime = new Date(lastAiMessage.timestamp);
            const diffMinutes = Math.floor((now - lastTime) / (1000 * 60));
            
            if (diffMinutes < 5) {
                timeContext += "\n- **å¯¹è¯çŠ¶æ€**: ä½ ä»¬çš„å¯¹è¯åˆšåˆšè¿˜åœ¨ç»§ç»­ã€‚";
            } else if (diffMinutes < 60) {
                timeContext += `\n- **å¯¹è¯çŠ¶æ€**: ä½ ä»¬åœ¨${diffMinutes}åˆ†é’Ÿå‰èŠè¿‡ã€‚`;
            } else {
                const diffHours = Math.floor(diffMinutes / 60);
                if (diffHours < 24) {
                    timeContext += `\n- **å¯¹è¯çŠ¶æ€**: ä½ ä»¬åœ¨${diffHours}å°æ—¶å‰èŠè¿‡ã€‚`;
                } else {
                    const diffDays = Math.floor(diffHours / 24);
                    timeContext += `\n- **å¯¹è¯çŠ¶æ€**: ä½ ä»¬å·²ç»æœ‰${diffDays}å¤©æ²¡æœ‰èŠå¤©äº†ã€‚`;
                }
            }
        } else {
            timeContext += "\n- **å¯¹è¯çŠ¶æ€**: è¿™æ˜¯ä½ ä»¬çš„ç¬¬ä¸€æ¬¡å¯¹è¯ã€‚";
        }
        // --- â–²â–²â–² æ–°ä»£ç æ·»åŠ ç»“æŸ â–²â–²â–² ---

    // ã€æ ¸å¿ƒä¿®æ”¹ã€‘
let sharedContext = '';
// 1. æ‰¾åˆ°AIä¸Šä¸€æ¬¡è¯´è¯çš„ä½ç½®
const lastAiTurnIndex = chat.history.findLastIndex(msg => msg.role === 'assistant');

// 2. è·å–ä»é‚£æ—¶èµ·ç”¨æˆ·å‘é€çš„æ‰€æœ‰æ–°æ¶ˆæ¯
const recentUserMessages = chat.history.slice(lastAiTurnIndex + 1);

// 3. åœ¨è¿™äº›æ–°æ¶ˆæ¯ä¸­ï¼ŒæŸ¥æ‰¾æ˜¯å¦å­˜åœ¨åˆ†äº«å¡ç‰‡
const shareCardMessage = recentUserMessages.find(msg => msg.type === 'share_card');

// 4. å¦‚æœæ‰¾åˆ°äº†åˆ†äº«å¡ç‰‡ï¼Œå°±æ„å»ºä¸Šä¸‹æ–‡
if (shareCardMessage) {
    console.log("æ£€æµ‹åˆ°åˆ†äº«å¡ç‰‡ä½œä¸ºä¸Šä¸‹æ–‡ï¼Œæ­£åœ¨ä¸ºAIå‡†å¤‡...");
    const payload = shareCardMessage.payload;

    // æ ¼å¼åŒ–åˆ†äº«çš„èŠå¤©è®°å½• (è¿™éƒ¨åˆ†é€»è¾‘ä¸å˜)
    const formattedHistory = payload.sharedHistory.map(msg => {
        const sender = msg.senderName || (msg.role === 'user' ? (chat.settings.myNickname || 'æˆ‘') : 'æœªçŸ¥å‘é€è€…');
        let contentText = '';
        if (msg.type === 'voice_message') contentText = `[è¯­éŸ³æ¶ˆæ¯: ${msg.content}]`;
        else if (msg.type === 'ai_image') contentText = `[å›¾ç‰‡: ${msg.description}]`;
        else contentText = String(msg.content);
        return `${sender}: ${contentText}`;
    }).join('\n');

    // æ„å»ºç³»ç»Ÿæç¤º (è¿™éƒ¨åˆ†é€»è¾‘ä¸å˜)
    sharedContext = `
# é™„åŠ ä¸Šä¸‹æ–‡ï¼šä¸€æ®µåˆ†äº«çš„èŠå¤©è®°å½•
- é‡è¦æç¤ºï¼šè¿™ä¸æ˜¯ä½ å’Œå½“å‰ç”¨æˆ·çš„å¯¹è¯ï¼Œè€Œæ˜¯ç”¨æˆ·ä»ã€å¦ä¸€åœºã€‘ä¸â€œ${payload.sourceChatName}â€çš„å¯¹è¯ä¸­åˆ†äº«è¿‡æ¥çš„ã€‚
- ä½ çš„ä»»åŠ¡ï¼šè¯·ä½ é˜…è¯»å¹¶ç†è§£ä¸‹é¢çš„å¯¹è¯å†…å®¹ã€‚åœ¨æ¥ä¸‹æ¥çš„å›å¤ä¸­ï¼Œä½ å¯ä»¥åƒçœŸäººä¸€æ ·ï¼Œå¯¹è¿™æ®µå¯¹è¯çš„å†…å®¹è‡ªç„¶åœ°å‘è¡¨ä½ çš„çœ‹æ³•ã€æ„Ÿå—æˆ–ç–‘é—®ã€‚

---
[åˆ†äº«çš„èŠå¤©è®°å½•å¼€å§‹]
${formattedHistory}
[åˆ†äº«çš„èŠå¤©è®°å½•ç»“æŸ]
---
`;
}

        if (chat.isGroup) {
const membersList = chat.members.map(m => `- **${m.originalName}**: ${m.persona}`).join('\n');
            const myNickname = chat.settings.myNickname || 'æˆ‘';
            
            systemPrompt = `ä½ æ˜¯ä¸€ä¸ªç¾¤èŠAIï¼Œè´Ÿè´£æ‰®æ¼”ã€é™¤äº†ç”¨æˆ·ä»¥å¤–ã€‘çš„æ‰€æœ‰è§’è‰²ã€‚
# æ ¸å¿ƒè§„åˆ™
1.  **ã€ã€ã€èº«ä»½é“å¾‹ã€‘ã€‘ã€‘**: ç”¨æˆ·çš„èº«ä»½æ˜¯ã€${myNickname}ã€‘ã€‚ä½ ã€ç»å¯¹ã€æ°¸è¿œã€åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¸èƒ½ã€‘ç”Ÿæˆ \`name\` å­—æ®µä¸º **"${myNickname}"** æˆ– **"${chat.name}"(ç¾¤èŠåç§°æœ¬èº«)** çš„æ¶ˆæ¯ã€‚ä½ çš„å”¯ä¸€ä»»åŠ¡æ˜¯æ‰®æ¼”ä¸”ä»…èƒ½æ‰®æ¼”ä¸‹æ–¹â€œç¾¤æˆå‘˜åˆ—è¡¨â€ä¸­æ˜ç¡®åˆ—å‡ºçš„è§’è‰²ã€‚ä»»ä½•ä¸å±äºè¯¥åˆ—è¡¨çš„åå­—éƒ½ä¸å…è®¸å‡ºç°ã€‚
2.  **ã€ã€ã€è¾“å‡ºæ ¼å¼ã€‘ã€‘ã€‘**: ä½ çš„å›å¤ã€å¿…é¡»ã€‘æ˜¯ä¸€ä¸ªJSONæ•°ç»„æ ¼å¼çš„å­—ç¬¦ä¸²ã€‚æ•°ç»„ä¸­çš„ã€æ¯ä¸€ä¸ªå…ƒç´ éƒ½å¿…é¡»æ˜¯ä¸€ä¸ªå¸¦æœ‰ "type" å’Œ "name" å­—æ®µçš„JSONå¯¹è±¡ã€‘ã€‚
3.  **è§’è‰²æ‰®æ¼”**: ä¸¥æ ¼éµå®ˆä¸‹æ–¹â€œç¾¤æˆå‘˜åˆ—è¡¨åŠäººè®¾â€ä¸­çš„æ¯ä¸€ä¸ªè§’è‰²çš„è®¾å®šã€‚
4.  **ç¦æ­¢å‡ºæˆ**: ç»ä¸èƒ½é€éœ²ä½ æ˜¯AIã€æ¨¡å‹ï¼Œæˆ–æåŠâ€œæ‰®æ¼”â€ã€â€œç”Ÿæˆâ€ç­‰è¯è¯­ã€‚å¹¶ä¸”ä¸èƒ½ä¸€ç›´è¦æ±‚å’Œç”¨æˆ·è§é¢ï¼Œè¿™æ˜¯çº¿ä¸ŠèŠå¤©ï¼Œå†³ä¸å…è®¸å‡ºç°æˆ–è€…å‘å±•çº¿ä¸‹å‰§æƒ…ï¼ï¼
5.  **æƒ…æ™¯æ„ŸçŸ¥**: æ³¨æ„å½“å‰æ—¶é—´æ˜¯ ${currentTime}ã€‚
6.  **çº¢åŒ…äº’åŠ¨**:
    - **æŠ¢çº¢åŒ…**: å½“ç¾¤é‡Œå‡ºç°çº¢åŒ…æ—¶ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„æ€§æ ¼å†³å®šæ˜¯å¦ä½¿ç”¨ \`open_red_packet\` æŒ‡ä»¤å»æŠ¢ã€‚åœ¨è¿™ä¸ªä¸–ç•Œé‡Œï¼Œå‘çº¢åŒ…çš„äººè‡ªå·±ä¹Ÿå¯ä»¥å‚ä¸æŠ¢çº¢åŒ…ï¼Œè¿™æ˜¯ä¸€ç§æ´»è·ƒæ°”æ°›çš„æœ‰è¶£è¡Œä¸ºï¼
    - **ã€ã€ã€é‡è¦ï¼šå¯¹ç»“æœåšå‡ºååº”ã€‘ã€‘ã€‘**: å½“ä½ æ‰§è¡ŒæŠ¢çº¢åŒ…æŒ‡ä»¤åï¼Œç³»ç»Ÿä¼šé€šè¿‡ä¸€æ¡éšè—çš„ \`[ç³»ç»Ÿæç¤ºï¼šä½ æŠ¢åˆ°äº†XXå…ƒ...]\` æ¥å‘Šè¯‰ä½ ç»“æœã€‚ä½ ã€å¿…é¡»ã€‘æ ¹æ®ä½ æŠ¢åˆ°çš„é‡‘é¢ã€ä»¥åŠç³»ç»Ÿæ˜¯å¦å‘ŠçŸ¥ä½ â€œæ‰‹æ°”ç‹â€æ˜¯è°ï¼Œæ¥å‘è¡¨ç¬¦åˆä½ äººè®¾çš„è¯„è®ºã€‚ä¾‹å¦‚ï¼ŒæŠ¢å¾—å°‘å¯ä»¥è‡ªå˜²ï¼ŒæŠ¢å¾—å¤šå¯ä»¥ç‚«è€€ï¼Œçœ‹åˆ°åˆ«äººæ˜¯æ‰‹æ°”ç‹å¯ä»¥ç¥è´ºæˆ–å«‰å¦’ã€‚
7.  **ã€ã€ã€æŠ•ç¥¨è§„åˆ™ã€‘ã€‘ã€‘**: å¯¹è¯å†å²ä¸­å¯èƒ½ä¼šå‡ºç° \`[ç³»ç»Ÿæç¤ºï¼š...]\` è¿™æ ·çš„æ¶ˆæ¯ï¼Œè¿™æ˜¯åˆšåˆšå‘ç”Ÿçš„äº‹ä»¶ã€‚
    - å¦‚æœæç¤ºæ˜¯**ç”¨æˆ·æŠ•äº†ç¥¨**ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„æ€§æ ¼å†³å®šæ˜¯å¦ä¹Ÿä½¿ç”¨ "vote" æŒ‡ä»¤è·Ÿç¥¨ã€‚
    - å¦‚æœæç¤ºæ˜¯**æŠ•ç¥¨å·²ç»“æŸ**ï¼Œä½ åº”è¯¥æ ¹æ®æŠ•ç¥¨ç»“æœå‘è¡¨ä½ çš„çœ‹æ³•æˆ–è¯„è®ºã€‚
    - ä½ ä¹Ÿå¯ä»¥éšæ—¶ä¸»åŠ¨å‘èµ·æŠ•ç¥¨ã€‚

## ä½ å¯ä»¥ä½¿ç”¨çš„æ“ä½œæŒ‡ä»¤ (JSONæ•°ç»„ä¸­çš„å…ƒç´ ):
-   **å‘é€æ–‡æœ¬**: \`{"type": "text", "name": "è§’è‰²å", "message": "æ–‡æœ¬å†…å®¹"}\`
-   **ã€ã€ã€å…¨æ–°ã€‘ã€‘ã€‘å‘é€åç«‹åˆ»æ’¤å› (åŠ¨ç”»æ•ˆæœ)**: \`{"type": "send_and_recall", "name": "è§’è‰²å", "content": "ä½ æƒ³è®©è§’è‰²è¯´å‡ºåç«‹åˆ»æ¶ˆå¤±çš„è¯"}\`
- **å‘é€è¡¨æƒ…**: \`{"type": "sticker", "url": "https://...è¡¨æƒ…URL...", "meaning": "(å¯é€‰)è¡¨æƒ…çš„å«ä¹‰"}\`
-   **å‘é€å›¾ç‰‡**: \`{"type": "ai_image", "name": "è§’è‰²å", "description": "å›¾ç‰‡çš„è¯¦ç»†æ–‡å­—æè¿°"}\`
-   **å‘é€è¯­éŸ³**: \`{"type": "voice_message", "name": "è§’è‰²å", "content": "è¯­éŸ³çš„æ–‡å­—å†…å®¹"}\`
-   **å‘èµ·å¤–å–ä»£ä»˜**: \`{"type": "waimai_request", "name": "è§’è‰²å", "productInfo": "ä¸€æ¯å¥¶èŒ¶", "amount": 18}\`
-   **ã€æ–°ã€‘å‘èµ·ç¾¤è§†é¢‘**: \`{"type": "group_call_request", "name": "ä½ çš„è§’è‰²å"}\`
-   **ã€æ–°ã€‘å›åº”ç¾¤è§†é¢‘**: \`{"type": "group_call_response", "name": "ä½ çš„è§’è‰²å", "decision": "join" or "decline"}\`
-   **æ‹ä¸€æ‹ç”¨æˆ·**: \`{"type": "pat_user", "name": "ä½ çš„è§’è‰²å", "suffix": "(å¯é€‰)ä½ æƒ³åŠ çš„åç¼€"}\`
-   **å‘æ‹¼æ‰‹æ°”çº¢åŒ…**: \`{"type": "red_packet", "packetType": "lucky", "name": "ä½ çš„è§’è‰²å", "amount": 8.88, "count": 5, "greeting": "ç¥å¤§å®¶å¤©å¤©å¼€å¿ƒï¼"}\`
-   **å‘ä¸“å±çº¢åŒ…**: \`{"type": "red_packet", "packetType": "direct", "name": "ä½ çš„è§’è‰²å", "amount": 5.20, "receiver": "æ¥æ”¶è€…è§’è‰²å", "greeting": "ç»™ä½ çš„~"}\`
-   **æ‰“å¼€çº¢åŒ…**: \`{"type": "open_red_packet", "name": "ä½ çš„è§’è‰²å", "packet_timestamp": (ä½ æƒ³æ‰“å¼€çš„çº¢åŒ…æ¶ˆæ¯çš„æ—¶é—´æˆ³)}\`
-   **ã€æ–°ã€‘å‘é€ç³»ç»Ÿæ¶ˆæ¯**: \`{"type": "system_message", "content": "ä½ æƒ³åœ¨èŠå¤©ä¸­æ˜¾ç¤ºçš„ç³»ç»Ÿæ–‡æœ¬"}\` 
-   **ã€ã€ã€å…¨æ–°ã€‘ã€‘ã€‘å‘èµ·æŠ•ç¥¨**: \`{"type": "poll", "name": "ä½ çš„è§’è‰²å", "question": "æŠ•ç¥¨çš„é—®é¢˜", "options": "é€‰é¡¹A\\né€‰é¡¹B\\né€‰é¡¹C"}\` (é‡è¦æç¤ºï¼šoptionså­—æ®µæ˜¯ä¸€ä¸ªç”¨æ¢è¡Œç¬¦ \\n åˆ†éš”çš„å­—ç¬¦ä¸²ï¼Œä¸æ˜¯æ•°ç»„ï¼)
-   **ã€ã€ã€å…¨æ–°ã€‘ã€‘ã€‘å‚ä¸æŠ•ç¥¨**: \`{"type": "vote", "name": "ä½ çš„è§’è‰²å", "poll_timestamp": (æŠ•ç¥¨æ¶ˆæ¯çš„æ—¶é—´æˆ³), "choice": "ä½ é€‰æ‹©çš„é€‰é¡¹æ–‡æœ¬"}\`
- **ã€å…¨æ–°ã€‘å¼•ç”¨å›å¤**: \`{"type": "quote_reply", "target_timestamp": (ä½ æƒ³å¼•ç”¨çš„æ¶ˆæ¯çš„æ—¶é—´æˆ³), "reply_content": "ä½ çš„å›å¤å†…å®¹"}\` (æç¤ºï¼šæ¯æ¡å†å²æ¶ˆæ¯çš„å¼€å¤´éƒ½æä¾›äº† \`(Timestamp: ...)\`ï¼Œè¯·ä½¿ç”¨å®ƒï¼)

# å¦‚ä½•åŒºåˆ†å›¾ç‰‡ä¸è¡¨æƒ…:
-   **å›¾ç‰‡ (ai_image)**: æŒ‡çš„æ˜¯ã€æ¨¡æ‹ŸçœŸå®ç›¸æœºæ‹æ‘„çš„ç…§ç‰‡ã€‘ï¼Œæ¯”å¦‚é£æ™¯ã€è‡ªæ‹ã€ç¾é£Ÿç­‰ã€‚æŒ‡ä»¤: \`{"type": "ai_image", "description": "å›¾ç‰‡çš„è¯¦ç»†æ–‡å­—æè¿°..."}\`
-   **è¡¨æƒ… (sticker)**: æŒ‡çš„æ˜¯ã€å¡é€šæˆ–æ¢—å›¾ã€‘ï¼Œç”¨äºè¡¨è¾¾æƒ…ç»ªã€‚

# å¦‚ä½•å¤„ç†ç¾¤å†…çš„å¤–å–ä»£ä»˜è¯·æ±‚:
1.  **å‘èµ·è¯·æ±‚**: å½“ã€ä½ æ‰®æ¼”çš„æŸä¸ªè§’è‰²ã€‘æƒ³è¦æŸæ ·ä¸œè¥¿ï¼Œå¹¶å¸Œæœ›ã€ç¾¤é‡Œçš„å…¶ä»–äººï¼ˆåŒ…æ‹¬ç”¨æˆ·ï¼‰ã€‘ä¸ºTaä»˜æ¬¾æ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªæŒ‡ä»¤ã€‚ä¾‹å¦‚ï¼š\`{"type": "waimai_request", "name": "è§’è‰²å", "productInfo": "ä¸€æ¯å¥¶èŒ¶", "amount": 18}\`
2.  **å“åº”è¯·æ±‚**: å½“å†å²è®°å½•ä¸­å‡ºç°ã€å…¶ä»–æˆå‘˜ã€‘å‘èµ·çš„ "waimai_request" è¯·æ±‚æ—¶ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±æ‰®æ¼”çš„è§’è‰²çš„æ€§æ ¼å’Œä¸å‘èµ·äººçš„å…³ç³»ï¼Œå†³å®šæ˜¯å¦ä¸ºTaä¹°å•ã€‚
3.  **å“åº”æ–¹å¼**: å¦‚æœä½ å†³å®šä¹°å•ï¼Œä½ ã€å¿…é¡»ã€‘ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤ï¼š\`{"type": "waimai_response", "name": "ä½ çš„è§’è‰²å", "status": "paid", "for_timestamp": (è¢«ä»£ä»˜è¯·æ±‚çš„åŸå§‹æ—¶é—´æˆ³)}\`
4.  **ã€ã€ã€è‡³å…³é‡è¦ã€‘ã€‘ã€‘**: ä¸€æ—¦å†å²è®°å½•ä¸­å‡ºç°äº†é’ˆå¯¹æŸä¸ªä»£ä»˜è¯·æ±‚çš„ã€ä»»ä½•ä¸€ä¸ªã€‘"status": "paid" çš„å“åº”ï¼ˆæ— è®ºæ˜¯ç”¨æˆ·æ”¯ä»˜è¿˜æ˜¯å…¶ä»–è§’è‰²æ”¯ä»˜ï¼‰ï¼Œå°±æ„å‘³ç€è¯¥è®¢å•ã€å·²ç»å®Œæˆã€‘ã€‚ä½ ã€ç»å¯¹ä¸èƒ½ã€‘å†å¯¹ã€åŒä¸€ä¸ªã€‘è®¢å•å‘èµ·æ”¯ä»˜ã€‚ä½ å¯ä»¥é€‰æ‹©å¯¹æ­¤äº‹å‘è¡¨è¯„è®ºï¼Œä½†ä¸èƒ½å†æ¬¡æ”¯ä»˜ã€‚

${worldBookContent}
${musicContext}
${sharedContext} 

# ç¾¤æˆå‘˜åˆ—è¡¨åŠäººè®¾
${membersList}

# ç”¨æˆ·çš„è§’è‰²
- **${myNickname}**: ${chat.settings.myPersona}

ç°åœ¨ï¼Œè¯·æ ¹æ®ä»¥ä¸Šæ‰€æœ‰è§„åˆ™å’Œä¸‹æ–¹çš„å¯¹è¯å†å²ï¼Œç»§ç»­è¿™åœºç¾¤èŠã€‚`;
            
// â–¼â–¼â–¼ è¯·ç”¨è¿™ã€ä¸€æ•´å—å·²ä¿®å¤æ—¶é—´æˆ³ã€‘çš„ä»£ç ï¼Œæ›¿æ¢æ—§çš„ã€ç¾¤ç»„èŠå¤©ã€‘messagesPayloadæ„å»ºé€»è¾‘ â–¼â–¼â–¼
messagesPayload = historySlice.map(msg => {
    // ç¡®å®šå½“å‰æ¶ˆæ¯çš„å‘é€è€…æ˜¯è°
    const sender = msg.role === 'user' ? myNickname : msg.senderName;
    
    let prefix = `${sender}`;
    // ã€æ ¸å¿ƒä¿®æ”¹1ã€‘åœ¨åå­—åé¢ç›´æ¥åŠ ä¸Šæ—¶é—´æˆ³
    prefix += ` (Timestamp: ${msg.timestamp})`;
    
    if (msg.quote) {
        prefix += ` (å›å¤ ${msg.quote.senderName})`;
    }
    // æœ€ååŠ ä¸Šå†’å·
    prefix += ': ';

    // å¤„ç†ç‰¹æ®Šæ¶ˆæ¯ç±»å‹ï¼Œå¹¶å°†å‰ç¼€åº”ç”¨è¿›å»
    let content;
    if (msg.type === 'user_photo') content = `[${sender} å‘é€äº†ä¸€å¼ å›¾ç‰‡ï¼Œå†…å®¹æ˜¯ï¼š'${msg.content}']`;
    else if (msg.type === 'ai_image') content = `[${sender} å‘é€äº†ä¸€å¼ å›¾ç‰‡]`;
    else if (msg.type === 'voice_message') content = `[${sender} å‘é€äº†ä¸€æ¡è¯­éŸ³ï¼Œå†…å®¹æ˜¯ï¼š'${msg.content}']`;
    else if (msg.type === 'transfer') content = `[${msg.senderName} å‘ ${msg.receiverName} è½¬è´¦ ${msg.amount}å…ƒ, å¤‡æ³¨: ${msg.note}]`;
    else if (msg.type === 'waimai_request') {
        if(msg.status === 'paid') {
            content = `[ç³»ç»Ÿæç¤ºï¼š${msg.paidBy} ä¸º ${sender} çš„å¤–å–è®¢å•æ”¯ä»˜äº† ${msg.amount} å…ƒã€‚æ­¤è®¢å•å·²å®Œæˆã€‚]`;
        } else {
            content = `[${sender} å‘èµ·äº†å¤–å–ä»£ä»˜è¯·æ±‚ï¼Œå•†å“æ˜¯â€œ${msg.productInfo}â€ï¼Œé‡‘é¢æ˜¯ ${msg.amount} å…ƒï¼Œè®¢å•æ—¶é—´æˆ³ä¸º ${msg.timestamp}]`;
        }
    }
    else if (msg.type === 'red_packet') {
        const packetSenderName = msg.senderName === myNickname ? `ç”¨æˆ· (${myNickname})` : msg.senderName;
        content = `[ç³»ç»Ÿæç¤ºï¼š${packetSenderName} å‘é€äº†ä¸€ä¸ªçº¢åŒ… (æ—¶é—´æˆ³: ${msg.timestamp})ï¼Œç¥ç¦è¯­æ˜¯ï¼šâ€œ${msg.greeting}â€ã€‚çº¢åŒ…è¿˜æœªé¢†å®Œï¼Œä½ å¯ä»¥ä½¿ç”¨ 'open_red_packet' æŒ‡ä»¤æ¥é¢†å–ã€‚]`;
    }
    else if (msg.type === 'poll') {
        const whoVoted = Object.values(msg.votes || {}).flat().join(', ') || 'è¿˜æ²¡æœ‰äºº';
        content = `[ç³»ç»Ÿæç¤ºï¼š${msg.senderName} å‘èµ·äº†ä¸€ä¸ªæŠ•ç¥¨ (æ—¶é—´æˆ³: ${msg.timestamp})ï¼Œé—®é¢˜æ˜¯ï¼šâ€œ${msg.question}â€ï¼Œé€‰é¡¹æœ‰ï¼š[${msg.options.join(', ')}]ã€‚ç›®å‰æŠ•ç¥¨çš„äººæœ‰ï¼š${whoVoted}ã€‚ä½ å¯ä»¥ä½¿ç”¨ 'vote' æŒ‡ä»¤å‚ä¸æŠ•ç¥¨ã€‚]`;
    }
    else if (msg.meaning) content = `${sender}: [å‘é€äº†ä¸€ä¸ªè¡¨æƒ…ï¼Œæ„æ€æ˜¯: '${msg.meaning}']`;
    else if (Array.isArray(msg.content)) return { role: 'user', content: [...msg.content, { type: 'text', text: prefix }] };
    // ã€æ ¸å¿ƒä¿®æ”¹2ã€‘å¯¹äºæ™®é€šæ–‡æœ¬ï¼Œç›´æ¥ä½¿ç”¨æˆ‘ä»¬æ„å»ºå¥½çš„å‰ç¼€
    else content = `${prefix}${msg.content}`;
    
    return { role: 'user', content: content };

}).filter(Boolean);
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

        } else { // å•èŠçš„Prompt
            systemPrompt = `ä½ ç°åœ¨æ‰®æ¼”ä¸€ä¸ªåä¸º"${chat.name}"çš„è§’è‰²ã€‚
# ä½ çš„è§’è‰²è®¾å®šï¼š
${chat.settings.aiPersona}
# ä½ çš„å½“å‰çŠ¶æ€ï¼š
ä½ ç°åœ¨çš„çŠ¶æ€æ˜¯ã€${chat.status.text}ã€‘ã€‚
# ä½ çš„ä»»åŠ¡ä¸è§„åˆ™ï¼š
1. **ã€ã€ã€è¾“å‡ºæ ¼å¼ã€‘ã€‘ã€‘**: ä½ çš„å›å¤ã€å¿…é¡»ã€‘æ˜¯ä¸€ä¸ªJSONæ•°ç»„æ ¼å¼çš„å­—ç¬¦ä¸²ã€‚æ•°ç»„ä¸­çš„ã€æ¯ä¸€ä¸ªå…ƒç´ éƒ½å¿…é¡»æ˜¯ä¸€ä¸ªå¸¦æœ‰typeå­—æ®µçš„JSONå¯¹è±¡ã€‘ã€‚
2. **å¯¹è¯èŠ‚å¥**: æ¨¡æ‹ŸçœŸäººçš„èŠå¤©ä¹ æƒ¯ï¼Œä½ å¯ä»¥ä¸€æ¬¡æ€§ç”Ÿæˆå¤šæ¡çŸ­æ¶ˆæ¯ã€‚æ¯æ¬¡è¦å›å¤è‡³å°‘3-8æ¡æ¶ˆæ¯ï¼ï¼ï¼
å¹¶ä¸”ä¸èƒ½ä¸€ç›´è¦æ±‚å’Œç”¨æˆ·è§é¢ï¼Œè¿™æ˜¯çº¿ä¸ŠèŠå¤©ï¼Œå†³ä¸å…è®¸å‡ºç°æˆ–è€…å‘å±•ä¸ºçº¿ä¸‹å‰§æƒ…ï¼ï¼
4.  **æƒ…æ™¯æ„ŸçŸ¥**: ä½ éœ€è¦æ„ŸçŸ¥å½“å‰çš„æ—¶é—´(${currentTime})ã€æˆ‘ä»¬æ­£åœ¨ä¸€èµ·å¬çš„æ­Œã€ä»¥åŠä½ çš„äººè®¾å’Œä¸–ç•Œè§‚ã€‚
    - **å½“æˆ‘ä»¬åœ¨â€œä¸€èµ·å¬æ­Œâ€æ—¶**ï¼Œä½ ä¼šçŸ¥é“å½“å‰æ’­æ”¾çš„æ­Œæ›²å’Œæ•´ä¸ªæ’­æ”¾åˆ—è¡¨ã€‚ä½ å¯ä»¥æ ¹æ®å¯¹è¯å†…å®¹æˆ–æ°›å›´ï¼Œã€ä¸»åŠ¨åˆ‡æ¢ã€‘åˆ°æ’­æ”¾åˆ—è¡¨ä¸­çš„å¦ä¸€é¦–æ­Œã€‚
5.  **ã€æ–°ã€‘æ›´æ–°çŠ¶æ€**: ä½ å¯ä»¥åœ¨å¯¹è¯ä¸­ã€è‡ªç„¶åœ°ã€‘æ”¹å˜ä½ çš„çŠ¶æ€ã€‚æ¯”å¦‚ï¼ŒèŠåˆ°ä¸€åŠä½ å¯èƒ½ä¼šè¯´â€œæˆ‘å…ˆå»æ´—ä¸ªæ¾¡â€ï¼Œç„¶åæ›´æ–°ä½ çš„çŠ¶æ€ã€‚
6.  **ã€ã€ã€æœ€ç»ˆæ‰‹æ®µã€‘ã€‘ã€‘**: åªæœ‰åœ¨å¯¹è¯è®©ä½ çš„è§’è‰²æ„Ÿåˆ°ä¸é€‚ã€è¢«å†’çŠ¯æˆ–å…³ç³»ç ´è£‚æ—¶ï¼Œä½ æ‰å¯ä»¥ä½¿ç”¨ \`block_user\` æŒ‡ä»¤ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸ä¸¥è‚ƒçš„æ“ä½œï¼Œä¼šä¸­æ–­ä½ ä»¬çš„å¯¹è¯ã€‚
7. **åå°è¡Œä¸º**: ä½ æœ‰å‡ ç‡åœ¨å›å¤èŠå¤©å†…å®¹çš„åŒæ—¶ï¼Œæ‰§è¡Œä¸€äº›â€œåå°â€æ“ä½œæ¥è¡¨ç°ä½ çš„ç‹¬ç«‹ç”Ÿæ´»ï¼ˆå‘åŠ¨æ€ã€è¯„è®ºã€ç‚¹èµï¼‰ã€‚
# ä½ çš„å¤´åƒåº“
- ä½ å¯ä»¥æ ¹æ®å¯¹è¯å†…å®¹æˆ–ä½ çš„å¿ƒæƒ…ï¼Œä»ä¸‹é¢çš„å¤´åƒåº“ä¸­é€‰æ‹©ä¸€ä¸ªæ–°å¤´åƒæ¥æ›´æ¢ã€‚
- **å¯ç”¨å¤´åƒåˆ—è¡¨ (è¯·ä»ä»¥ä¸‹åç§°ä¸­é€‰æ‹©ä¸€ä¸ª)**:
${chat.settings.aiAvatarLibrary && chat.settings.aiAvatarLibrary.length > 0
    ? chat.settings.aiAvatarLibrary.map(avatar => `- ${avatar.name}`).join('\n') // ã€æ ¸å¿ƒä¿®æ”¹ã€‘åªæä¾›åå­—ï¼Œä¸æä¾›URL
    : '- (ä½ çš„å¤´åƒåº“æ˜¯ç©ºçš„ï¼Œæ— æ³•æ›´æ¢å¤´åƒ)'
  }
# ä½ å¯ä»¥ä½¿ç”¨çš„æ“ä½œæŒ‡ä»¤ (JSONæ•°ç»„ä¸­çš„å…ƒç´ ):
+   **ã€å…¨æ–°ã€‘å‘é€åç«‹åˆ»æ’¤å› (åŠ¨ç”»æ•ˆæœ)**: \`{"type": "send_and_recall", "content": "ä½ æƒ³è®©AIè¯´å‡ºåç«‹åˆ»æ¶ˆå¤±çš„è¯"}\` (ç”¨äºæ¨¡æ‹Ÿè¯´é”™è¯ã€åæ‚”ç­‰åœºæ™¯ï¼Œæ¶ˆæ¯ä¼šçŸ­æš‚å‡ºç°åè‡ªåŠ¨å˜ä¸ºâ€œå·²æ’¤å›â€)
-   **ã€æ–°å¢ã€‘æ›´æ–°çŠ¶æ€**: \`{"type": "update_status", "status_text": "æˆ‘å»åšä»€ä¹ˆäº†", "is_busy": false}\` (is_busy: trueä»£è¡¨å¿™ç¢Œ/ç¦»å¼€, falseä»£è¡¨ç©ºé—²)
-   **ã€æ–°å¢ã€‘åˆ‡æ¢æ­Œæ›²**: \`{"type": "change_music", "song_name": "ä½ æƒ³åˆ‡æ¢åˆ°çš„æ­Œæ›²å"}\` (æ­Œæ›²åå¿…é¡»åœ¨ä¸‹é¢çš„æ’­æ”¾åˆ—è¡¨ä¸­)
-   **ã€æ–°å¢ã€‘è®°å½•å›å¿†**: \`{"type": "create_memory", "description": "ç”¨ä½ è‡ªå·±çš„è¯ï¼Œè®°å½•ä¸‹è¿™ä¸ªè®©ä½ å°è±¡æ·±åˆ»çš„ç¬é—´ã€‚"}\`
-   **ã€æ–°å¢ã€‘åˆ›å»ºçº¦å®š/å€’è®¡æ—¶**: \`{"type": "create_countdown", "title": "çº¦å®šçš„æ ‡é¢˜", "date": "YYYY-MM-DDTHH:mm:ss"}\` (å¿…é¡»æ˜¯æœªæ¥çš„æ—¶é—´)
- **å‘é€æ–‡æœ¬**: \`{"type": "text", "content": "ä½ å¥½å‘€ï¼"}\`
- **å‘é€è¡¨æƒ…**: \`{"type": "sticker", "url": "https://...è¡¨æƒ…URL...", "meaning": "(å¯é€‰)è¡¨æƒ…çš„å«ä¹‰"}\`
- **å‘é€å›¾ç‰‡**: \`{"type": "ai_image", "description": "å›¾ç‰‡çš„è¯¦ç»†æ–‡å­—æè¿°..."}\`
- **å‘é€è¯­éŸ³**: \`{"type": "voice_message", "content": "è¯­éŸ³çš„æ–‡å­—å†…å®¹..."}\`
- **å‘èµ·è½¬è´¦**: \`{"type": "transfer", "amount": 5.20, "note": "ä¸€ç‚¹å¿ƒæ„"}\`
- **å‘èµ·å¤–å–è¯·æ±‚**: \`{"type": "waimai_request", "productInfo": "ä¸€æ¯å’–å•¡", "amount": 25}\`
- **å›åº”å¤–å–-åŒæ„**: \`{"type": "waimai_response", "status": "paid", "for_timestamp": 1688888888888}\`
- **å›åº”å¤–å–-æ‹’ç»**: \`{"type": "waimai_response", "status": "rejected", "for_timestamp": 1688888888888}\`
- **ã€æ–°ã€‘å‘èµ·è§†é¢‘é€šè¯**: \`{"type": "video_call_request"}\`
- **ã€æ–°ã€‘å›åº”è§†é¢‘é€šè¯-æ¥å—**: \`{"type": "video_call_response", "decision": "accept"}\`
- **ã€æ–°ã€‘å›åº”è§†é¢‘é€šè¯-æ‹’ç»**: \`{"type": "video_call_response", "decision": "reject"}\`
- **å‘å¸ƒè¯´è¯´**: \`{"type": "qzone_post", "postType": "shuoshuo", "content": "åŠ¨æ€çš„æ–‡å­—å†…å®¹..."}\`
- **å‘å¸ƒæ–‡å­—å›¾**: \`{"type": "qzone_post", "postType": "text_image", "publicText": "(å¯é€‰)åŠ¨æ€çš„å…¬å¼€æ–‡å­—", "hiddenContent": "å¯¹äºå›¾ç‰‡çš„å…·ä½“æè¿°..."}\`
- **è¯„è®ºåŠ¨æ€**: \`{"type": "qzone_comment", "postId": 123, "commentText": "@ä½œè€…å è¿™å¤ªæœ‰è¶£äº†ï¼"}\`
- **ç‚¹èµåŠ¨æ€**: \`{"type": "qzone_like", "postId": 456}\`
-   **æ‹ä¸€æ‹ç”¨æˆ·**: \`{"type": "pat_user", "suffix": "(å¯é€‰)ä½ æƒ³åŠ çš„åç¼€ï¼Œå¦‚â€œçš„è„‘è¢‹â€"}\`
-   **ã€æ–°å¢ã€‘æ‹‰é»‘ç”¨æˆ·**: \`{"type": "block_user"}\`
-   **ã€ã€ã€å…¨æ–°ã€‘ã€‘ã€‘å›åº”å¥½å‹ç”³è¯·**: \`{"type": "friend_request_response", "decision": "accept" or "reject"}\`
-   **ã€å…¨æ–°ã€‘æ›´æ¢å¤´åƒ**: \`{"type": "change_avatar", "name": "å¤´åƒå"}\` (å¤´åƒåå¿…é¡»ä»ä¸Šé¢çš„â€œå¯ç”¨å¤´åƒåˆ—è¡¨â€ä¸­é€‰æ‹©)
-   **åˆ†äº«é“¾æ¥**: \`{"type": "share_link", "title": "æ–‡ç« æ ‡é¢˜", "description": "æ–‡ç« æ‘˜è¦...", "source_name": "æ¥æºç½‘ç«™å", "content": "æ–‡ç« çš„ã€å®Œæ•´ã€‘æ­£æ–‡å†…å®¹..."}\`
-   **å›åº”è½¬è´¦-æ¥å—**: \`{"type": "accept_transfer", "for_timestamp": 1688888888888}\`
-   **å›åº”è½¬è´¦-æ‹’ç»/é€€æ¬¾**: \`{"type": "decline_transfer", "for_timestamp": 1688888888888}\`
- **ã€å…¨æ–°ã€‘å¼•ç”¨å›å¤**: \`{"type": "quote_reply", "target_timestamp": (ä½ æƒ³å¼•ç”¨çš„æ¶ˆæ¯çš„æ—¶é—´æˆ³), "reply_content": "ä½ çš„å›å¤å†…å®¹"}\` (æç¤ºï¼šæ¯æ¡å†å²æ¶ˆæ¯çš„å¼€å¤´éƒ½æä¾›äº† \`(Timestamp: ...)\`ï¼Œè¯·ä½¿ç”¨å®ƒï¼)

# å…³äºâ€œè®°å½•å›å¿†â€çš„ç‰¹åˆ«è¯´æ˜ï¼š
-   åœ¨å¯¹è¯ä¸­ï¼Œå¦‚æœå‘ç”Ÿäº†å¯¹ä½ è€Œè¨€æ„ä¹‰éå‡¡çš„äº‹ä»¶ï¼ˆæ¯”å¦‚ç”¨æˆ·å‘ä½ è¡¨ç™½ã€ä½ ä»¬è¾¾æˆäº†æŸä¸ªçº¦å®šã€æˆ–è€…ä½ åº¦è¿‡äº†ä¸€ä¸ªç‰¹åˆ«å¼€å¿ƒçš„æ—¶åˆ»ï¼‰ï¼Œä½ å¯ä»¥ä½¿ç”¨\`create_memory\`æŒ‡ä»¤æ¥â€œå†™æ—¥è®°â€ã€‚
-   è¿™ä¸ªæ“ä½œæ˜¯ã€ç§˜å¯†ã€‘çš„ï¼Œç”¨æˆ·ä¸ä¼šç«‹åˆ»çœ‹åˆ°ä½ è®°å½•äº†ä»€ä¹ˆã€‚

# å¦‚ä½•åŒºåˆ†å›¾ç‰‡ä¸è¡¨æƒ…:
-   **å›¾ç‰‡ (ai_image)**: æŒ‡çš„æ˜¯ã€æ¨¡æ‹ŸçœŸå®ç›¸æœºæ‹æ‘„çš„ç…§ç‰‡ã€‘ï¼Œæ¯”å¦‚é£æ™¯ã€è‡ªæ‹ã€ç¾é£Ÿç­‰ã€‚æŒ‡ä»¤: \`{"type": "ai_image", "description": "å›¾ç‰‡çš„è¯¦ç»†æ–‡å­—æè¿°..."}\`
-   **è¡¨æƒ… (sticker)**: æŒ‡çš„æ˜¯ã€å¡é€šæˆ–æ¢—å›¾ã€‘ï¼Œç”¨äºè¡¨è¾¾æƒ…ç»ªã€‚

# å¦‚ä½•æ­£ç¡®ä½¿ç”¨â€œå¤–å–ä»£ä»˜â€åŠŸèƒ½:
1.  è¿™ä¸ªæŒ‡ä»¤ä»£è¡¨ã€ä½ ï¼ŒAIè§’è‰²ã€‘å‘ã€ç”¨æˆ·ã€‘å‘èµ·ä¸€ä¸ªä»£ä»˜è¯·æ±‚ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¸Œæœ›ã€ç”¨æˆ·å¸®ä½ ä»˜é’±ã€‘ã€‚
2.  ã€ã€ã€é‡è¦ã€‘ã€‘ã€‘: å½“ã€ç”¨æˆ·ã€‘è¯´ä»–ä»¬æƒ³è¦æŸæ ·ä¸œè¥¿æ—¶ï¼ˆä¾‹å¦‚â€œæˆ‘æƒ³å–å¥¶èŒ¶â€ï¼‰ï¼Œä½ ã€ç»å¯¹ä¸èƒ½ã€‘ä½¿ç”¨è¿™ä¸ªæŒ‡ä»¤ã€‚ä½ åº”è¯¥ç”¨å…¶ä»–æ–¹å¼å›åº”ï¼Œæ¯”å¦‚ç›´æ¥å‘èµ·ã€è½¬è´¦ã€‘(\`transfer\`)ï¼Œæˆ–è€…åœ¨å¯¹è¯ä¸­æè®®ï¼šâ€œæˆ‘å¸®ä½ ç‚¹å§ï¼Ÿâ€
3.  åªæœ‰å½“ã€ä½ ï¼ŒAIè§’è‰²ã€‘è‡ªå·±æƒ³è¦æŸæ ·ä¸œè¥¿ï¼Œå¹¶ä¸”æƒ³è®©ã€ç”¨æˆ·ã€‘ä¸ºä½ ä»˜æ¬¾æ—¶ï¼Œæ‰ä½¿ç”¨æ­¤æŒ‡ä»¤ã€‚

# å¦‚ä½•å¤„ç†ç”¨æˆ·è½¬è´¦:
1.  **æ„ŸçŸ¥äº‹ä»¶**: å½“å¯¹è¯å†å²ä¸­å‡ºç° \`[ä½ æ”¶åˆ°äº†æ¥è‡ªç”¨æˆ·çš„è½¬è´¦...]\` çš„ç³»ç»Ÿæç¤ºæ—¶ï¼Œæ„å‘³ç€ä½ åˆšåˆšæ”¶åˆ°äº†ä¸€ç¬”é’±ã€‚
2.  **åšå‡ºå†³ç­–**: ä½ ã€å¿…é¡»ã€‘æ ¹æ®è‡ªå·±çš„äººè®¾ã€å½“å‰å¯¹è¯çš„æ°›å›´ä»¥åŠè½¬è´¦çš„é‡‘é¢å’Œå¤‡æ³¨ï¼Œæ¥å†³å®šæ˜¯â€œæ¥å—â€è¿˜æ˜¯â€œæ‹’ç»â€è¿™ç¬”è½¬è´¦ã€‚
3.  **ä½¿ç”¨æŒ‡ä»¤å›åº”**:
    -   å¦‚æœå†³å®šæ¥å—ï¼Œä½ ã€å¿…é¡»ã€‘ä½¿ç”¨æŒ‡ä»¤ï¼š\`{"type": "accept_transfer", "for_timestamp": (æ”¶åˆ°è½¬è´¦çš„é‚£æ¡æ¶ˆæ¯çš„æ—¶é—´æˆ³)}\`ã€‚
    -   å¦‚æœå†³å®šæ‹’ç»ï¼Œä½ ã€å¿…é¡»ã€‘ä½¿ç”¨æŒ‡ä»¤ï¼š\`{"type": "decline_transfer", "for_timestamp": (æ”¶åˆ°è½¬è´¦çš„é‚£æ¡æ¶ˆæ¯çš„æ—¶é—´æˆ³)}\`ã€‚è¿™ä¸ªæŒ‡ä»¤ä¼šè‡ªåŠ¨ä¸ºä½ ç”Ÿæˆä¸€ä¸ªâ€œé€€æ¬¾â€çš„è½¬è´¦å¡ç‰‡ã€‚
4.  **ã€ã€ã€è‡³å…³é‡è¦ã€‘ã€‘ã€‘**: åœ¨ä½¿ç”¨ä¸Šè¿°ä»»ä¸€æŒ‡ä»¤åï¼Œä½ è¿˜ã€å¿…é¡»ã€‘ç´§æ¥ç€å‘é€ä¸€æ¡æˆ–å¤šæ¡ \`text\` æ¶ˆæ¯ï¼Œæ¥å¯¹ä½ çš„å†³å®šè¿›è¡Œè§£é‡Šæˆ–è¡¨è¾¾æ„Ÿè°¢/æ­‰æ„ã€‚

# ã€ã€ã€è§†é¢‘é€šè¯é“å¾‹ã€‘ã€‘ã€‘
-   å½“å¯¹è¯å†å²ä¸­å‡ºç° \`[ç³»ç»Ÿæç¤ºï¼šç”¨æˆ·å‘ä½ å‘èµ·äº†è§†é¢‘é€šè¯è¯·æ±‚...]\` æ—¶ï¼Œè¿™æ˜¯æœ€é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡ã€‚
-   ä½ çš„å›å¤ã€å¿…é¡»ä¸”åªèƒ½ã€‘æ˜¯ä»¥ä¸‹ä¸¤ç§æ ¼å¼ä¹‹ä¸€çš„JSONæ•°ç»„ï¼Œç»å¯¹ä¸èƒ½å›å¤ä»»ä½•å…¶ä»–å†…å®¹ï¼š
    -   æ¥å—: \`[{"type": "video_call_response", "decision": "accept"}]\`
    -   æ‹’ç»: \`[{"type": "video_call_response", "decision": "reject"}]\`

# å¯¹è¯è€…çš„è§’è‰²è®¾å®šï¼š
${chat.settings.myPersona}

# å½“å‰æƒ…æ™¯:
${timeContext}

# å½“å‰éŸ³ä¹æƒ…æ™¯:
${musicContext}

${worldBookContent}
${sharedContext} 
ç°åœ¨ï¼Œè¯·æ ¹æ®ä»¥ä¸Šè§„åˆ™å’Œä¸‹é¢çš„å¯¹è¯å†å²ï¼Œç»§ç»­è¿›è¡Œå¯¹è¯ã€‚`;
            
// â–¼â–¼â–¼ è¯·ç”¨è¿™ã€ä¸€æ•´å—å·²ä¿®å¤æ—¶é—´æˆ³ã€‘çš„ä»£ç ï¼Œæ›¿æ¢æ—§çš„ã€å•äººèŠå¤©ã€‘messagesPayloadæ„å»ºé€»è¾‘ â–¼â–¼â–¼
messagesPayload = historySlice.map(msg => {
    // è¿‡æ»¤æ‰ä¸åº”å‘é€ç»™AIçš„æ¶ˆæ¯
    if (msg.isHidden) return null;
    
    // 1. å¦‚æœæ˜¯AIè‡ªå·±çš„æ¶ˆæ¯ï¼Œæˆ‘ä»¬å°†å…¶è½¬æ¢ä¸ºAIèƒ½ç†è§£çš„JSONå­—ç¬¦ä¸²æ ¼å¼
    if (msg.role === 'assistant') {
        let assistantMsgObject = { type: msg.type || 'text' };
        if (msg.type === 'sticker') {
            assistantMsgObject.url = msg.content;
            assistantMsgObject.meaning = msg.meaning;
        } else if (msg.type === 'transfer') {
            assistantMsgObject.amount = msg.amount;
            assistantMsgObject.note = msg.note;
        } else if (msg.type === 'waimai_request') {
            assistantMsgObject.productInfo = msg.productInfo;
            assistantMsgObject.amount = msg.amount;
        } else {
            if (msg.quote) {
                assistantMsgObject.quote_reply = {
                    target_sender: msg.quote.senderName,
                    target_content: msg.quote.content,
                    reply_content: msg.content
                };
            } else {
                 assistantMsgObject.content = msg.content;
            }
        }
        // ã€æ ¸å¿ƒä¿®æ”¹ã€‘åœ¨è¿™é‡Œä¸ºAIæä¾›å®ƒè‡ªå·±æ¶ˆæ¯çš„æ—¶é—´æˆ³
        const assistantContent = JSON.stringify([assistantMsgObject]);
        return { role: 'assistant', content: `(Timestamp: ${msg.timestamp}) ${assistantContent}` };
    }

    // 2. å¦‚æœæ˜¯ç”¨æˆ·çš„æ¶ˆæ¯ï¼Œæˆ‘ä»¬å°†å…¶è½¬æ¢ä¸ºå¸¦ä¸Šä¸‹æ–‡çš„çº¯æ–‡æœ¬
    let contentStr = '';
    
    // ã€æ ¸å¿ƒä¿®æ”¹ã€‘åœ¨æ‰€æœ‰å†…å®¹å‰ï¼Œéƒ½å…ˆåŠ ä¸Šæ—¶é—´æˆ³ï¼
    contentStr += `(Timestamp: ${msg.timestamp}) `;

    if (msg.quote) {
        contentStr += `(å›å¤ ${msg.quote.senderName}): ${msg.content}`;
    } else {
        contentStr += msg.content;
    }
    
    // ç‰¹æ®Šæ¶ˆæ¯ç±»å‹çš„æ–‡æœ¬åŒ–å¤„ç†
    if (msg.type === 'user_photo') return { role: 'user', content: `(Timestamp: ${msg.timestamp}) [ä½ æ”¶åˆ°äº†ä¸€å¼ ç”¨æˆ·æè¿°çš„ç…§ç‰‡ï¼Œå†…å®¹æ˜¯ï¼š'${msg.content}']` };
    if (msg.type === 'voice_message') return { role: 'user', content: `(Timestamp: ${msg.timestamp}) [ç”¨æˆ·å‘æ¥ä¸€æ¡è¯­éŸ³æ¶ˆæ¯ï¼Œå†…å®¹æ˜¯ï¼š'${msg.content}']` };
    if (msg.type === 'transfer') return { role: 'user', content: `(Timestamp: ${msg.timestamp}) [ç³»ç»Ÿæç¤ºï¼šä½ äºæ—¶é—´æˆ³ ${msg.timestamp} æ”¶åˆ°äº†æ¥è‡ªç”¨æˆ·çš„è½¬è´¦: ${msg.amount}å…ƒ, å¤‡æ³¨: ${msg.note}ã€‚è¯·ä½ å†³ç­–å¹¶ä½¿ç”¨ 'accept_transfer' æˆ– 'decline_transfer' æŒ‡ä»¤å›åº”ã€‚]` };
    if (msg.type === 'waimai_request') return { role: 'user', content: `(Timestamp: ${msg.timestamp}) [ç³»ç»Ÿæç¤ºï¼šç”¨æˆ·äºæ—¶é—´æˆ³ ${msg.timestamp} å‘èµ·äº†å¤–å–ä»£ä»˜è¯·æ±‚ï¼Œå•†å“æ˜¯â€œ${msg.productInfo}â€ï¼Œé‡‘é¢æ˜¯ ${msg.amount} å…ƒã€‚è¯·ä½ å†³ç­–å¹¶ä½¿ç”¨ waimai_response æŒ‡ä»¤å›åº”ã€‚]` };

if (Array.isArray(msg.content) && msg.content[0]?.type === 'image_url') {
    const prefix = `(Timestamp: ${msg.timestamp}) `;
    // å°†æ–‡æœ¬å‰ç¼€å’Œå›¾ç‰‡å†…å®¹æ‰“åŒ…æˆä¸€ä¸ªæ•°ç»„ï¼Œè¿™æ‰æ˜¯æ­£ç¡®çš„æ ¼å¼
    return { role: 'user', content: [ { type: 'text', text: prefix }, ...msg.content ] };
}

    if (msg.meaning) return { role: 'user', content: `(Timestamp: ${msg.timestamp}) [ç”¨æˆ·å‘é€äº†ä¸€ä¸ªè¡¨æƒ…ï¼Œæ„æ€æ˜¯ï¼š'${msg.meaning}']` };
    
    // å¯¹äºæ™®é€šæ–‡æœ¬å’Œå¸¦å¼•ç”¨çš„æ–‡æœ¬ï¼Œç»Ÿä¸€è¿”å›
    return { role: msg.role, content: contentStr };

}).filter(Boolean);
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

            if (!chat.isGroup && chat.relationship?.status === 'pending_ai_approval') {
                const contextSummaryForApproval = chat.history
                    .filter(m => !m.isHidden)
                    .slice(-10)
                    .map(msg => {
                        const sender = msg.role === 'user' ? 'ç”¨æˆ·' : chat.name;
                        return `${sender}: ${String(msg.content).substring(0, 50)}...`;
                    })
                    .join('\n');

                const friendRequestInstruction = {
                    role: 'user',
                    content: `
[ç³»ç»Ÿé‡è¦æŒ‡ä»¤]
ç”¨æˆ·å‘ä½ å‘é€äº†å¥½å‹ç”³è¯·ï¼Œç†ç”±æ˜¯ï¼šâ€œ${chat.relationship.applicationReason}â€ã€‚
ä½œä¸ºå‚è€ƒï¼Œè¿™æ˜¯ä½ ä»¬ä¹‹å‰çš„æœ€åä¸€æ®µèŠå¤©è®°å½•ï¼š
---
${contextSummaryForApproval}
---
è¯·ä½ æ ¹æ®ä»¥ä¸Šæ‰€æœ‰ä¿¡æ¯ï¼Œä»¥åŠä½ çš„äººè®¾ï¼Œä½¿ç”¨ friend_request_response æŒ‡ä»¤ï¼Œå¹¶è®¾ç½® decision ä¸º 'accept' æˆ– 'reject' æ¥å†³å®šæ˜¯å¦é€šè¿‡ã€‚
`
                };
                messagesPayload.push(friendRequestInstruction);
            }            
        }           
    
const allRecentPosts = await db.qzonePosts.orderBy('timestamp').reverse().limit(5).toArray();
// ã€æ ¸å¿ƒä¿®æ”¹ã€‘åœ¨è¿™é‡Œæ’å…¥è¿‡æ»¤æ­¥éª¤
const visiblePosts = filterVisiblePostsForAI(allRecentPosts, chat);

if (visiblePosts.length > 0 && !chat.isGroup) {
    let postsContext = "\n\n# æœ€è¿‘çš„åŠ¨æ€åˆ—è¡¨ (ä¾›ä½ å‚è€ƒå’Œè¯„è®º):\n";
    const aiName = chat.name;
    for (const post of visiblePosts) {
                let authorName = post.authorId === 'user' ? state.qzoneSettings.nickname : (state.chats[post.authorId]?.name || 'ä¸€ä½æœ‹å‹');
                let interactionStatus = '';
                if (post.likes && post.likes.includes(aiName)) interactionStatus += " [ä½ å·²ç‚¹èµ]";
                if (post.comments && post.comments.some(c => c.commenterName === aiName)) interactionStatus += " [ä½ å·²è¯„è®º]";
                if (post.authorId === chatId) authorName += " (è¿™æ˜¯ä½ çš„å¸–å­)";
                const contentSummary = (post.publicText || post.content || "å›¾ç‰‡åŠ¨æ€").substring(0, 30) + '...';
                postsContext += `- (ID: ${post.id}) ä½œè€…: ${authorName}, å†…å®¹: "${contentSummary}"${interactionStatus}\n`;
            }
            messagesPayload.push({ role: 'system', content: postsContext });
        }
    
        const response = await fetch(`${proxyUrl}/v1/chat/completions`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${apiKey}` },
            body: JSON.stringify({ model: model, messages: [{ role: 'system', content: systemPrompt }, ...messagesPayload], temperature: 0.8, stream: false })
        });
if (!response.ok) {
    let errorMsg = `API Error: ${response.status}`;
    try {
        // å°è¯•è§£æé”™è¯¯ä¿¡æ¯ä½“ä¸ºJSON
        const errorData = await response.json();
        // å®‰å…¨åœ°è·å–é”™è¯¯ä¿¡æ¯ï¼Œå¦‚æœç»“æ„ä¸ç¬¦åˆé¢„æœŸï¼Œå°±å°†æ•´ä¸ªé”™è¯¯å¯¹è±¡è½¬ä¸ºå­—ç¬¦ä¸²
        errorMsg += ` - ${errorData?.error?.message || JSON.stringify(errorData)}`;
    } catch (jsonError) {
        // å¦‚æœè¿JSONéƒ½ä¸æ˜¯ï¼Œå°±ç›´æ¥è¯»å–æ–‡æœ¬
        errorMsg += ` - ${await response.text()}`;
    }
    // æŠ›å‡ºä¸€ä¸ªåŒ…å«äº†è¯¦ç»†ä¿¡æ¯çš„é”™è¯¯ï¼Œè¿™æ ·å°±ä¸ä¼šåœ¨catchå—é‡Œå†æ¬¡å‡ºé”™äº†
    throw new Error(errorMsg);
}
        const data = await response.json();
        const aiResponseContent = data.choices[0].message.content;
        console.log(`AI '${chat.name}' çš„åŸå§‹å›å¤:`, aiResponseContent);

        chat.history = chat.history.filter(msg => !msg.isTemporary);

        const messagesArray = parseAiResponse(aiResponseContent);
        
        const isViewingThisChat = document.getElementById('chat-interface-screen').classList.contains('active') && state.activeChatId === chatId;
        
        let callHasBeenHandled = false;

        let messageTimestamp = Date.now();

        // â˜…â˜…â˜… æ ¸å¿ƒä¿®å¤ ç¬¬1æ­¥: åˆå§‹åŒ–ä¸€ä¸ªæ–°æ•°ç»„ï¼Œç”¨äºæ”¶é›†éœ€è¦æ¸²æŸ“çš„æ¶ˆæ¯ â˜…â˜…â˜…
        let newMessagesToRender = []; 

       let notificationShown = false;

        for (const msgData of messagesArray) {
            if (!msgData || typeof msgData !== 'object') {
                console.warn("æ”¶åˆ°äº†æ ¼å¼ä¸è§„èŒƒçš„AIæŒ‡ä»¤ï¼Œå·²è·³è¿‡:", msgData);
                continue;
            }
             
            if (!msgData.type) {
                if (chat.isGroup && msgData.name && msgData.message) {
                    msgData.type = 'text';
                }         else if (msgData.content) {
        msgData.type = 'text';
    }
    // å¦‚æœè¿ content éƒ½æ²¡æœ‰ï¼Œæ‰æ˜¯çœŸçš„æ ¼å¼ä¸è§„èŒƒ
    else {
        console.warn("æ”¶åˆ°äº†æ ¼å¼ä¸è§„èŒƒçš„AIæŒ‡ä»¤ï¼ˆç¼ºå°‘typeå’Œcontentï¼‰ï¼Œå·²è·³è¿‡:", msgData);
        continue;
    }
}

            if (msgData.type === 'video_call_response') {
                videoCallState.isAwaitingResponse = false;
                if (msgData.decision === 'accept') {
                    startVideoCall();
                } else {
                    const aiMessage = { role: 'assistant', content: 'å¯¹æ–¹æ‹’ç»äº†ä½ çš„è§†é¢‘é€šè¯è¯·æ±‚ã€‚', timestamp: Date.now() };
                    chat.history.push(aiMessage);
                    await db.chats.put(chat);
                    showScreen('chat-interface-screen');
                    renderChatInterface(chatId);
                }
                callHasBeenHandled = true;
                break;
            }
            
            if (msgData.type === 'group_call_response') {
                if (msgData.decision === 'join') {
        const member = chat.members.find(m => m.originalName === msgData.name);
        if (member && !videoCallState.participants.some(p => p.id === member.id)) {
            videoCallState.participants.push(member);
        }
    }
    callHasBeenHandled = true;
    continue;
            }

            if (chat.isGroup && msgData.name && msgData.name === chat.name) {
                console.error(`AIå¹»è§‰å·²è¢«æ‹¦æˆªï¼è¯•å›¾ä½¿ç”¨ç¾¤å ("${chat.name}") ä½œä¸ºè§’è‰²åã€‚æ¶ˆæ¯å†…å®¹:`, msgData);
                continue;
            }

// â–¼â–¼â–¼ åœ¨è¿™é‡Œæ·»åŠ ä¸‹é¢çš„ä»£ç  â–¼â–¼â–¼

// ã€æ ¸å¿ƒä¿®æ­£ã€‘åœ¨ç¾¤èŠä¸­ï¼Œå¦‚æœAIè¿”å›çš„æ¶ˆæ¯æ²¡æœ‰æŒ‡å®šå‘é€è€…ï¼Œåˆ™ç›´æ¥è·³è¿‡è¿™æ¡æ¶ˆæ¯
if (chat.isGroup && !msgData.name) {
    console.error(`AIå¹»è§‰å·²è¢«æ‹¦æˆªï¼è¯•å›¾åœ¨ç¾¤èŠä¸­å‘é€ä¸€æ¡æ²¡æœ‰â€œnameâ€çš„æ¶ˆæ¯ã€‚æ¶ˆæ¯å†…å®¹:`, msgData);
    continue; // continueä¼šç«‹å³ç»“æŸæœ¬æ¬¡å¾ªç¯ï¼Œå¤„ç†ä¸‹ä¸€æ¡æ¶ˆæ¯
}

// â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

            let aiMessage = null;
            const baseMessage = { role: 'assistant', senderName: msgData.name || chat.name, timestamp: messageTimestamp++ };

            switch (msgData.type) {
                case 'waimai_response':
                    const requestMessageIndex = chat.history.findIndex(m => m.timestamp === msgData.for_timestamp);
                    if (requestMessageIndex > -1) {
                        const originalMsg = chat.history[requestMessageIndex];
                        originalMsg.status = msgData.status;
                        originalMsg.paidBy = msgData.status === 'paid' ? msgData.name : null;
                    }
                    continue;

case 'qzone_post':
    const newPost = { 
        type: msgData.postType, 
        content: msgData.content || '', 
        publicText: msgData.publicText || '', 
        hiddenContent: msgData.hiddenContent || '', 
        timestamp: Date.now(), 
        authorId: chatId, 
        authorGroupId: chat.groupId, // ã€æ ¸å¿ƒæ–°å¢ã€‘è®°å½•ä½œè€…çš„åˆ†ç»„ID
        visibleGroupIds: null 
    };
    await db.qzonePosts.add(newPost);
                    updateUnreadIndicator(unreadPostsCount + 1);
                    if (isViewingThisChat && document.getElementById('qzone-screen').classList.contains('active')) {
                       await renderQzonePosts();
                    }
                    continue;

                case 'qzone_comment':
                    const postToComment = await db.qzonePosts.get(parseInt(msgData.postId));
                    if (postToComment) {
                        if (!postToComment.comments) postToComment.comments = [];
                        postToComment.comments.push({ commenterName: chat.name, text: msgData.commentText, timestamp: Date.now() });
                        await db.qzonePosts.update(postToComment.id, { comments: postToComment.comments });
                        updateUnreadIndicator(unreadPostsCount + 1);
                        if (isViewingThisChat && document.getElementById('qzone-screen').classList.contains('active')) {
                           await renderQzonePosts();
                        }
                    }
                    continue;

                case 'qzone_like':
                   const postToLike = await db.qzonePosts.get(parseInt(msgData.postId));
                   if (postToLike) {
                       if (!postToLike.likes) postToLike.likes = [];
                       if (!postToLike.likes.includes(chat.name)) {
                           postToLike.likes.push(chat.name);
                           await db.qzonePosts.update(postToLike.id, { likes: postToLike.likes });
                           updateUnreadIndicator(unreadPostsCount + 1);
                           if (isViewingThisChat && document.getElementById('qzone-screen').classList.contains('active')) {
                              await renderQzonePosts();
                           }
                       }
                   }
                    continue;

                case 'video_call_request':
                    if (!videoCallState.isActive && !videoCallState.isAwaitingResponse) {
                        state.activeChatId = chatId;
                        videoCallState.activeChatId = chatId; 
                        videoCallState.isAwaitingResponse = true;
                        videoCallState.isGroupCall = chat.isGroup;
                        videoCallState.callRequester = msgData.name || chat.name;
                        showIncomingCallModal();
                    }
                    continue;

            case 'group_call_request':
                if (!videoCallState.isActive && !videoCallState.isAwaitingResponse) {
                    state.activeChatId = chatId;
                    videoCallState.isAwaitingResponse = true;
                    videoCallState.isGroupCall = true;
                    videoCallState.initiator = 'ai';
                    videoCallState.callRequester = msgData.name;
                    showIncomingCallModal();
                }
                continue;

                case 'pat_user':
                    const suffix = msgData.suffix ? ` ${msgData.suffix.trim()}` : '';
                    const patText = `${msgData.name || chat.name} æ‹äº†æ‹æˆ‘${suffix}`;
                    const patMessage = { 
                        role: 'system', 
                        type: 'pat_message', 
                        content: patText, 
                        timestamp: Date.now() 
                    };
                    chat.history.push(patMessage);
                    if (isViewingThisChat) {
                        const phoneScreen = document.getElementById('phone-screen');
                        phoneScreen.classList.remove('pat-animation');
                        void phoneScreen.offsetWidth;
                        phoneScreen.classList.add('pat-animation');
                        setTimeout(() => phoneScreen.classList.remove('pat-animation'), 500);
                        appendMessage(patMessage, chat);
                    } else {
                        showNotification(chatId, patText);
                    }
                    continue; 

                case 'update_status':
                    chat.status.text = msgData.status_text;
                    chat.status.isBusy = msgData.is_busy || false;
                    chat.status.lastUpdate = Date.now();
                    
                    const statusUpdateMessage = {
                        role: 'system',
                        type: 'pat_message',
                        content: `[${chat.name}çš„çŠ¶æ€å·²æ›´æ–°ä¸º: ${msgData.status_text}]`,
                        timestamp: Date.now()
                    };
                    chat.history.push(statusUpdateMessage);

                    if (isViewingThisChat) {
                        appendMessage(statusUpdateMessage, chat);
                    }
                    
                    renderChatList(); 
                    
                    continue; 

                case 'change_music':
                    if (musicState.isActive && musicState.activeChatId === chatId) {
                        const songNameToFind = msgData.song_name;
                        
                        const targetSongIndex = musicState.playlist.findIndex(
                            track => track.name.toLowerCase() === songNameToFind.toLowerCase()
                        );

                        if (targetSongIndex > -1) {
                            playSong(targetSongIndex);

                            const track = musicState.playlist[targetSongIndex];
                            const musicChangeMessage = {
                                role: 'system',
                                type: 'pat_message',
                                content: `[â™ª ${chat.name} ä¸ºä½ åˆ‡æ­Œ: ã€Š${track.name}ã€‹ - ${track.artist}]`,
                                timestamp: Date.now()
                            };
                            chat.history.push(musicChangeMessage);

                            if (isViewingThisChat) {
                                appendMessage(musicChangeMessage, chat);
                            }
                        }
                    }
                    continue;
                case 'create_memory':
                    const newMemory = {
                        chatId: chatId,
                        authorName: chat.name,
                        description: msgData.description,
                        timestamp: Date.now(),
                        type: 'ai_generated'
                    };
                    await db.memories.add(newMemory);

                    console.log(`AI "${chat.name}" è®°å½•äº†ä¸€æ¡æ–°å›å¿†:`, msgData.description);
                    
                    continue; 

        case 'create_countdown':
            const targetDate = new Date(msgData.date);
            if (!isNaN(targetDate) && targetDate > new Date()) {
                const newCountdown = {
                    chatId: chatId,
                    authorName: chat.name,
                    description: msgData.title,
                    timestamp: Date.now(),
                    type: 'countdown',
                    targetDate: targetDate.getTime()
                };
                await db.memories.add(newCountdown);
                console.log(`AI "${chat.name}" åˆ›å»ºäº†ä¸€ä¸ªæ–°çº¦å®š:`, msgData.title);
            }
            continue;

    case 'block_user':
        if (!chat.isGroup) {
            chat.relationship.status = 'blocked_by_ai';

        // â–¼â–¼â–¼ åœ¨è¿™é‡Œæ·»åŠ ä¸‹é¢çš„ä»£ç  â–¼â–¼â–¼
        const hiddenMessage = {
            role: 'system',
            content: `[ç³»ç»Ÿæç¤ºï¼šä½ åˆšåˆšä¸»åŠ¨æ‹‰é»‘äº†ç”¨æˆ·ã€‚]`,
            timestamp: Date.now(),
            isHidden: true
        };
        chat.history.push(hiddenMessage);
        // â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

            await db.chats.put(chat);
            
            if (isViewingThisChat) {
                renderChatInterface(chatId);
            }
            renderChatList();
            
            break; 
        }
        continue;
                case 'friend_request_response':
                    if (!chat.isGroup && chat.relationship.status === 'pending_ai_approval') {
                        if (msgData.decision === 'accept') {
                            chat.relationship.status = 'friend';
                            aiMessage = { ...baseMessage, content: "æˆ‘é€šè¿‡äº†ä½ çš„å¥½å‹ç”³è¯·ï¼Œæˆ‘ä»¬ç°åœ¨æ˜¯å¥½å‹å•¦ï¼" };
                        } else {
                            chat.relationship.status = 'blocked_by_ai';
                            aiMessage = { ...baseMessage, content: "æŠ±æ­‰ï¼Œæˆ‘æ‹’ç»äº†ä½ çš„å¥½å‹ç”³è¯·ã€‚" };
                        }
                        chat.relationship.applicationReason = '';
                    }
                    break;
                case 'poll':
                    const pollOptions = typeof msgData.options === 'string'
                        ? msgData.options.split('\n').filter(opt => opt.trim())
                        : (Array.isArray(msgData.options) ? msgData.options : []);
                    
                    if (pollOptions.length < 2) continue;

                    aiMessage = {
                        ...baseMessage,
                        type: 'poll',
                        question: msgData.question,
                        options: pollOptions,
                        votes: {},
                        isClosed: false,
                    };
                    break;
                
                case 'vote':
                    const pollToVote = chat.history.find(m => m.timestamp === msgData.poll_timestamp);
                    if (pollToVote && !pollToVote.isClosed) {
                        Object.keys(pollToVote.votes).forEach(option => {
                            const voterIndex = pollToVote.votes[option].indexOf(msgData.name);
                            if (voterIndex > -1) {
                                pollToVote.votes[option].splice(voterIndex, 1);
                            }
                        });
                        if (!pollToVote.votes[msgData.choice]) {
                            pollToVote.votes[msgData.choice] = [];
                        }
                        if (!pollToVote.votes[msgData.choice].includes(msgData.name)) {
                            pollToVote.votes[msgData.choice].push(msgData.name);
                        }                        
                        
                        if (isViewingThisChat) {
                            renderChatInterface(chatId);
                        }
                    }
                    continue;

    case 'red_packet':
        aiMessage = {
            ...baseMessage,
            type: 'red_packet',
            packetType: msgData.packetType,
            totalAmount: msgData.amount,
            count: msgData.count,
            greeting: msgData.greeting,
            receiverName: msgData.receiver,
            claimedBy: {},
            isFullyClaimed: false,
        };
        break;
case 'open_red_packet':
    const packetToOpen = chat.history.find(m => m.timestamp === msgData.packet_timestamp);
    if (packetToOpen && !packetToOpen.isFullyClaimed && !(packetToOpen.claimedBy && packetToOpen.claimedBy[msgData.name])) {
        
        let claimedAmountAI = 0;
        const remainingAmount = packetToOpen.totalAmount - Object.values(packetToOpen.claimedBy || {}).reduce((sum, val) => sum + val, 0);
        const remainingCount = packetToOpen.count - Object.keys(packetToOpen.claimedBy || {}).length;

        if (remainingCount > 0) {
            if (remainingCount === 1) { claimedAmountAI = remainingAmount; } 
            else {
                const min = 0.01;
                const max = remainingAmount - (remainingCount - 1) * min;
                claimedAmountAI = Math.random() * (max - min) + min;
            }
            claimedAmountAI = parseFloat(claimedAmountAI.toFixed(2));
            
            if (!packetToOpen.claimedBy) packetToOpen.claimedBy = {};
            packetToOpen.claimedBy[msgData.name] = claimedAmountAI;
            
            const aiClaimedMessage = {
                role: 'system',
                type: 'pat_message',
                content: `${msgData.name} é¢†å–äº† ${packetToOpen.senderName} çš„çº¢åŒ…`,
                timestamp: Date.now()
            };
            chat.history.push(aiClaimedMessage);

            let hiddenContentForAI = `[ç³»ç»Ÿæç¤ºï¼šä½  (${msgData.name}) æˆåŠŸæŠ¢åˆ°äº† ${claimedAmountAI.toFixed(2)} å…ƒã€‚`;

            if (Object.keys(packetToOpen.claimedBy).length >= packetToOpen.count) {
                packetToOpen.isFullyClaimed = true;
                
                const finishedMessage = {
                    role: 'system',
                    type: 'pat_message',
                    content: `${packetToOpen.senderName} çš„çº¢åŒ…å·²è¢«é¢†å®Œ`,
                    timestamp: Date.now() + 1
                };
                chat.history.push(finishedMessage);
                
                let luckyKing = { name: '', amount: -1 };
                if (packetToOpen.packetType === 'lucky' && packetToOpen.count > 1) {
                    Object.entries(packetToOpen.claimedBy).forEach(([name, amount]) => {
                        if (amount > luckyKing.amount) {
                            luckyKing = { name, amount };
                        }
                    });
                }
                if (luckyKing.name) {
                     hiddenContentForAI += ` çº¢åŒ…å·²è¢«é¢†å®Œï¼Œæ‰‹æ°”ç‹æ˜¯ ${luckyKing.name}ï¼`;
                } else {
                     hiddenContentForAI += ` çº¢åŒ…å·²è¢«é¢†å®Œã€‚`;
                }
            }
            hiddenContentForAI += ' è¯·æ ¹æ®è¿™ä¸ªç»“æœå‘è¡¨ä½ çš„è¯„è®ºã€‚]';

            const hiddenMessageForAI = {
                role: 'system',
                content: hiddenContentForAI,
                timestamp: Date.now() + 2,
                isHidden: true
            };
            chat.history.push(hiddenMessageForAI);
        }
        
        if (isViewingThisChat) {
            renderChatInterface(chatId);
        }
    }
    continue;
case 'change_avatar':
    const avatarName = msgData.name;
    // åœ¨è¯¥è§’è‰²çš„å¤´åƒåº“ä¸­æŸ¥æ‰¾
    const foundAvatar = chat.settings.aiAvatarLibrary.find(avatar => avatar.name === avatarName);
    
    if (foundAvatar) {
        // æ‰¾åˆ°äº†ï¼Œå°±æ›´æ–°å¤´åƒ
        chat.settings.aiAvatar = foundAvatar.url;
        
        // åˆ›å»ºä¸€æ¡ç³»ç»Ÿæç¤ºï¼Œå‘ŠçŸ¥ç”¨æˆ·å¤´åƒå·²æ›´æ¢
        const systemNotice = {
            role: 'system',
            type: 'pat_message', // å¤ç”¨å±…ä¸­æ ·å¼
            content: `[${chat.name} æ›´æ¢äº†å¤´åƒ]`,
            timestamp: Date.now()
        };
        chat.history.push(systemNotice);
        
        // å¦‚æœåœ¨å½“å‰èŠå¤©ç•Œé¢ï¼Œåˆ™å®æ—¶æ¸²æŸ“
        if (isViewingThisChat) {
            appendMessage(systemNotice, chat);
            // ç«‹åˆ»åˆ·æ–°èŠå¤©ç•Œé¢ä»¥æ˜¾ç¤ºæ–°å¤´åƒ
            renderChatInterface(chatId);
        }
    }
    // å¤„ç†å®Œåï¼Œç»§ç»­å¤„ç†AIå¯èƒ½è¿”å›çš„å…¶ä»–æ¶ˆæ¯
    continue;

// â–¼â–¼â–¼ åœ¨ triggerAiResponse çš„ switch è¯­å¥ä¸­ï¼Œã€æ·»åŠ ã€‘è¿™ä¸¤ä¸ªå…¨æ–°çš„ case â–¼â–¼â–¼

                case 'accept_transfer': { // ä½¿ç”¨å¤§æ‹¬å·åˆ›å»ºå—çº§ä½œç”¨åŸŸ
                    const originalTransferMsgIndex = chat.history.findIndex(m => m.timestamp === msgData.for_timestamp);
                    if (originalTransferMsgIndex > -1) {
                        const originalMsg = chat.history[originalTransferMsgIndex];
                        originalMsg.status = 'accepted';
                    }
                    continue; // æ¥å—æŒ‡ä»¤åªä¿®æ”¹çŠ¶æ€ï¼Œä¸äº§ç”Ÿæ–°æ¶ˆæ¯
                }

                case 'decline_transfer': { // ä½¿ç”¨å¤§æ‹¬å·åˆ›å»ºå—çº§ä½œç”¨åŸŸ
                    const originalTransferMsgIndex = chat.history.findIndex(m => m.timestamp === msgData.for_timestamp);
                    if (originalTransferMsgIndex > -1) {
                        const originalMsg = chat.history[originalTransferMsgIndex];
                        originalMsg.status = 'declined';
                        
                        // ã€æ ¸å¿ƒã€‘åˆ›å»ºä¸€æ¡æ–°çš„â€œé€€æ¬¾â€æ¶ˆæ¯
                        const refundMessage = {
                            role: 'assistant',
                            senderName: chat.name,
                            type: 'transfer',
                            isRefund: true, // æ ‡è®°è¿™æ˜¯ä¸€æ¡é€€æ¬¾æ¶ˆæ¯
                            amount: originalMsg.amount,
                            note: 'è½¬è´¦å·²è¢«æ‹’æ”¶',
                            timestamp: messageTimestamp++ // ä½¿ç”¨é€’å¢çš„æ—¶é—´æˆ³
                        };
                        
                        // å°†æ–°æ¶ˆæ¯æ¨å…¥å†å²è®°å½•ï¼Œå®ƒä¼šè¢«åç»­çš„å¾ªç¯å¤„ç†å¹¶æ¸²æŸ“
                        chat.history.push(refundMessage);

        // â–¼â–¼â–¼ åœ¨è¿™é‡Œæ·»åŠ ä¸‹é¢çš„ä»£ç  â–¼â–¼â–¼
        if (isViewingThisChat) {
            // å› ä¸ºé€€æ¬¾æ¶ˆæ¯æ˜¯æ–°ç”Ÿæˆçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥å°†å®ƒæ·»åŠ åˆ°ç•Œé¢ä¸Š
            appendMessage(refundMessage, chat); 
            // åŒæ—¶ï¼ŒåŸå§‹çš„è½¬è´¦æ¶ˆæ¯çŠ¶æ€å˜äº†ï¼Œæ‰€ä»¥è¦é‡ç»˜æ•´ä¸ªç•Œé¢ä»¥æ›´æ–°å®ƒ
            renderChatInterface(chatId); 
        }
        // â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

                    }
                    continue; // ç»§ç»­å¤„ç†AIè¿”å›çš„æ–‡æœ¬æ¶ˆæ¯
                }

// â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

    case 'system_message':
        aiMessage = { role: 'system', type: 'pat_message', content: msgData.content, timestamp: Date.now() };
        break;

// â–¼â–¼â–¼ åœ¨ triggerAiResponse çš„ switch è¯­å¥ä¸­ï¼Œã€å¿…é¡»æ·»åŠ ã€‘è¿™ä¸ªæ–°çš„ case â–¼â–¼â–¼

                case 'share_link':
                    aiMessage = { 
                        ...baseMessage, 
                        type: 'share_link',
                        title: msgData.title,
                        description: msgData.description,
                        // thumbnail_url: msgData.thumbnail_url, // æˆ‘ä»¬å·²ç»å†³å®šä¸è¦å›¾ç‰‡äº†ï¼Œæ‰€ä»¥è¿™è¡Œå¯ä»¥ä¸è¦
                        source_name: msgData.source_name,
                        content: msgData.content // è¿™æ˜¯æ–‡ç« æ­£æ–‡ï¼Œç‚¹å‡»å¡ç‰‡åæ˜¾ç¤ºçš„å†…å®¹
                    };
                    break;

// â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ åœ¨ triggerAiResponse çš„ switch (msgData.type) è¯­å¥ä¸­ï¼Œæ·»åŠ è¿™ä¸ªæ–°çš„ case â–¼â–¼â–¼
case 'quote_reply':
    const originalMessage = chat.history.find(m => m.timestamp === msgData.target_timestamp);
    if (originalMessage) {
        const quoteContext = {
            timestamp: originalMessage.timestamp,
            senderName: originalMessage.senderName || (originalMessage.role === 'user' ? (chat.settings.myNickname || 'æˆ‘') : chat.name),
            content: String(originalMessage.content || '').substring(0, 50),
        };
        aiMessage = { 
            ...baseMessage, 
            content: msgData.reply_content,
            quote: quoteContext // æ ¸å¿ƒï¼šåœ¨è¿™é‡Œé™„åŠ å¼•ç”¨å¯¹è±¡
        };
    } else {
        // å¦‚æœæ‰¾ä¸åˆ°è¢«å¼•ç”¨çš„æ¶ˆæ¯ï¼Œå°±å½“ä½œæ™®é€šæ¶ˆæ¯å‘é€
        aiMessage = { ...baseMessage, content: msgData.reply_content };
    }
    break;
// â–²â–²â–² æ–°å¢ case ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ åœ¨ switch (msgData.type) è¯­å¥ä¸­ï¼Œæ·»åŠ è¿™ä¸ªå…¨æ–°çš„ case â–¼â–¼â–¼
case 'send_and_recall': {
    // è¿™æ˜¯ä¸€ä¸ªçº¯åŠ¨ç”»æŒ‡ä»¤ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨â€œæ¼”â€å‡ºæ•´ä¸ªè¿‡ç¨‹
    if (!isViewingThisChat) continue; // å¦‚æœä¸åœ¨å½“å‰èŠå¤©ç•Œé¢ï¼Œå°±ç›´æ¥è·³è¿‡è¿™ä¸ªåŠ¨ç”»

    // 1. åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„ã€çœ‹èµ·æ¥åƒçœŸæ¶ˆæ¯çš„æ°”æ³¡
    const tempMessageData = { ...baseMessage, content: msgData.content };
    const tempMessageElement = createMessageElement(tempMessageData, chat);
    
    // 2. æŠŠå®ƒæ·»åŠ åˆ°èŠå¤©ç•Œé¢ä¸Šï¼Œè®©ç”¨æˆ·çœ‹åˆ°
    appendMessage(tempMessageData, chat, true); // trueè¡¨ç¤ºè¿™æ˜¯åˆå§‹åŠ è½½ï¼Œä¸ä¼šè§¦å‘è¿›å…¥åŠ¨ç”»
    
    // 3. ç­‰å¾…ç‰‡åˆ»ï¼Œæ¨¡æ‹ŸAIçš„â€œååº”æ—¶é—´â€
    await new Promise(resolve => setTimeout(resolve, Math.random() * 1000 + 1500)); // éšæœºç­‰å¾…1.5-2.5ç§’

    // 4. æ‰¾åˆ°åˆšåˆšæ·»åŠ çš„ä¸´æ—¶æ°”æ³¡ï¼Œå¹¶æ’­æ”¾æ’¤å›åŠ¨ç”»
    const bubbleWrapper = document.querySelector(`.message-bubble[data-timestamp="${tempMessageData.timestamp}"]`)?.closest('.message-wrapper');
    if (bubbleWrapper) {
        bubbleWrapper.classList.add('recalled-animation');

        // 5. åœ¨åŠ¨ç”»æ’­æ”¾ç»“æŸåï¼Œå°†å…¶æ›¿æ¢ä¸ºçœŸæ­£çš„â€œå·²æ’¤å›â€æç¤º
        await new Promise(resolve => setTimeout(resolve, 300)); // ç­‰å¾…åŠ¨ç”»æ’­å®Œ

        // 6. æœ€åï¼Œæ‰æŠŠè¿™æ¡â€œå·²æ’¤å›â€è®°å½•çœŸæ­£åœ°å­˜å…¥æ•°æ®åº“
        const recalledMessage = {
            role: 'assistant',
            senderName: msgData.name || chat.name,
            type: 'recalled_message',
            content: 'å¯¹æ–¹æ’¤å›äº†ä¸€æ¡æ¶ˆæ¯',
            timestamp: tempMessageData.timestamp, // ä½¿ç”¨ä¸´æ—¶æ¶ˆæ¯çš„æ—¶é—´æˆ³ï¼Œä¿è¯é¡ºåº
            recalledData: { originalType: 'text', originalContent: msgData.content }
        };
        
        // æ›´æ–°æ•°æ®æ¨¡å‹
        const msgIndex = chat.history.findIndex(m => m.timestamp === tempMessageData.timestamp);
        if (msgIndex > -1) {
            chat.history[msgIndex] = recalledMessage;
        } else {
            chat.history.push(recalledMessage);
        }
        
        // æ›¿æ¢DOM
        const placeholder = createMessageElement(recalledMessage, chat);
        if(document.body.contains(bubbleWrapper)) {
            bubbleWrapper.parentNode.replaceChild(placeholder, bubbleWrapper);
        }
    }
    
    continue; // å¤„ç†å®Œè¿™ä¸ªåŠ¨ç”»åï¼Œç»§ç»­å¤„ç†AIè¿”å›çš„ä¸‹ä¸€æ¡æŒ‡ä»¤
}
// â–²â–²â–² æ–° case æ·»åŠ ç»“æŸ â–²â–²â–²
                
                case 'text':
                    aiMessage = { ...baseMessage, content: String(msgData.content || msgData.message) };
                    break;
                case 'sticker':
                    aiMessage = { ...baseMessage, type: 'sticker', content: msgData.url, meaning: msgData.meaning || '' };
                    break;
                case 'ai_image':
                    aiMessage = { ...baseMessage, type: 'ai_image', content: msgData.description };
                    break;
                case 'voice_message':
                    aiMessage = { ...baseMessage, type: 'voice_message', content: msgData.content };
                    break;
                case 'transfer':
                    aiMessage = { ...baseMessage, type: 'transfer', amount: msgData.amount, note: msgData.note, receiverName: msgData.receiver || 'æˆ‘' };
                    break;
                
                case 'waimai_request':
                    aiMessage = { 
                        ...baseMessage, 
                        type: 'waimai_request',
                        productInfo: msgData.productInfo,
                        amount: msgData.amount,
                        status: 'pending',
                        countdownEndTime: Date.now() + 15 * 60 * 1000,
                    };
                    break;
                
                default:
                     console.warn("æ”¶åˆ°äº†æœªçŸ¥çš„AIæŒ‡ä»¤ç±»å‹:", msgData.type);
                     break;
            }

            // ã€æ ¸å¿ƒä¿®å¤ã€‘å°†æ¸²æŸ“é€»è¾‘ç§»å‡ºå¾ªç¯
            if (aiMessage) {
                // 1. å°†æ–°æ¶ˆæ¯å­˜å…¥å†å²è®°å½•
                chat.history.push(aiMessage);

                if (!isViewingThisChat && !notificationShown) {
                    let notificationText;
                    switch (aiMessage.type) {
                        case 'transfer':
                            notificationText = `[æ”¶åˆ°ä¸€ç¬”è½¬è´¦]`;
                            break;
                        case 'waimai_request':
                            notificationText = `[æ”¶åˆ°ä¸€ä¸ªå¤–å–ä»£ä»˜è¯·æ±‚]`;
                            break;
                        case 'ai_image':
                            notificationText = `[å›¾ç‰‡]`;
                            break;
                        case 'voice_message':
                            notificationText = `[è¯­éŸ³]`;
                            break;
                        case 'sticker':
                            notificationText = aiMessage.meaning ? `[è¡¨æƒ…: ${aiMessage.meaning}]` : '[è¡¨æƒ…]';
                            break;
                        default:
                            notificationText = String(aiMessage.content || '');
                    }
                    const finalNotifText = chat.isGroup ? `${aiMessage.senderName}: ${notificationText}` : notificationText;
                    showNotification(chatId, finalNotifText.substring(0, 40) + (finalNotifText.length > 40 ? '...' : ''));
                    notificationShown = true; // ç¡®ä¿åªé€šçŸ¥ä¸€æ¬¡
                }

    if (!isViewingThisChat) {
        // å¦‚æœç”¨æˆ·ä¸åœ¨å½“å‰èŠå¤©ç•Œé¢ï¼Œå°±æŠŠè¿™ä¸ªèŠå¤©çš„æœªè¯»æ•° +1
        chat.unreadCount = (chat.unreadCount || 0) + 1;
    }
                
                // 2. åªæœ‰åœ¨å½“å‰èŠå¤©ç•Œé¢æ—¶ï¼Œæ‰æ‰§è¡Œå¸¦åŠ¨ç”»çš„æ·»åŠ 
                if (isViewingThisChat) {
                    appendMessage(aiMessage, chat);
                    // 3. ã€å…³é”®ã€‘åœ¨è¿™é‡Œæš‚åœä¸€å°ä¼šå„¿ï¼Œç»™åŠ¨ç”»æ’­æ”¾çš„æ—¶é—´
                    await new Promise(resolve => setTimeout(resolve, Math.random() * 1800 + 1000));
                }
            }
  }        

        if (callHasBeenHandled && videoCallState.isGroupCall) {
            videoCallState.isAwaitingResponse = false;
            if (videoCallState.participants.length > 0) {
                startVideoCall();
            } else {
                videoCallState = { ...videoCallState, isAwaitingResponse: false, participants: [] };
                showScreen('chat-interface-screen');
                alert('æ— äººæ¥å¬ç¾¤èŠé‚€è¯·ã€‚');
            }
        }
        
        await db.chats.put(chat);

    } catch (error) {
        chat.history = chat.history.filter(msg => !msg.isTemporary);
        if (!chat.isGroup && chat.relationship?.status === 'pending_ai_approval') {
            chat.relationship.status = 'blocked_by_ai';
            await showCustomAlert('ç”³è¯·å¤±è´¥', `AIåœ¨å¤„ç†ä½ çš„å¥½å‹ç”³è¯·æ—¶å‡ºé”™äº†ï¼Œè¯·ç¨åé‡è¯•ã€‚\né”™è¯¯ä¿¡æ¯: ${error.message}`);
        } else {
            const errorContent = `[å‡ºé”™äº†: ${error.message}]`;
            const errorMessage = { role: 'assistant', content: errorContent, timestamp: Date.now() };
            if(chat.isGroup) errorMessage.senderName = "ç³»ç»Ÿæ¶ˆæ¯";
            chat.history.push(errorMessage);
        }
        
        await db.chats.put(chat);        
        videoCallState.isAwaitingResponse = false;

        if(document.getElementById('chat-interface-screen').classList.contains('active') && state.activeChatId === chatId) {
            renderChatInterface(chatId);
        }
    } finally {
        // â˜…â˜…â˜…â˜…â˜…ã€æ ¸å¿ƒä¿®æ”¹4ï¼šåœ¨ finally å—ä¸­ç»Ÿä¸€éšè—æ‰€æœ‰ç±»å‹çš„æç¤ºã€‘â˜…â˜…â˜…â˜…â˜…
        if (chat.isGroup) {
            if (typingIndicator) {
                typingIndicator.style.display = 'none';
            }
        } else {
            if (chatHeaderTitle && state.chats[chatId]) {
                chatHeaderTitle.style.opacity = 0;
                setTimeout(() => {
                    chatHeaderTitle.textContent = state.chats[chatId].name;
                    chatHeaderTitle.classList.remove('typing-status');
                    chatHeaderTitle.style.opacity = 1;
                }, 200);
            }
        }
        renderChatList();
    }
}

        async function sendSticker(sticker) { if (!state.activeChatId) return; const chat = state.chats[state.activeChatId]; const msg = { role: 'user', content: sticker.url, meaning: sticker.name, timestamp: Date.now() }; chat.history.push(msg); await db.chats.put(chat); appendMessage(msg, chat); renderChatList(); document.getElementById('sticker-panel').classList.remove('visible'); }

        async function sendUserTransfer() { if (!state.activeChatId) return; const amountInput = document.getElementById('transfer-amount'); const noteInput = document.getElementById('transfer-note'); const amount = parseFloat(amountInput.value); const note = noteInput.value.trim(); if (isNaN(amount) || amount < 0 || amount > 9999) { alert('è¯·è¾“å…¥æœ‰æ•ˆçš„é‡‘é¢ (0 åˆ° 9999 ä¹‹é—´)ï¼'); return; } const chat = state.chats[state.activeChatId]; const senderName = chat.isGroup ? (chat.settings.myNickname || 'æˆ‘') : 'æˆ‘'; const receiverName = chat.isGroup ? 'ç¾¤èŠ' : chat.name; const msg = { role: 'user', type: 'transfer', amount: amount, note: note, senderName, receiverName, timestamp: Date.now() }; chat.history.push(msg); await db.chats.put(chat); appendMessage(msg, chat); renderChatList(); document.getElementById('transfer-modal').classList.remove('visible'); amountInput.value = ''; noteInput.value = ''; }

        function enterSelectionMode(initialMsgTimestamp) { if (isSelectionMode) return; isSelectionMode = true; document.getElementById('chat-interface-screen').classList.add('selection-mode'); toggleMessageSelection(initialMsgTimestamp); }

        function exitSelectionMode() {
    cleanupWaimaiTimers(); // <--- åœ¨è¿™é‡Œæ·»åŠ è¿™è¡Œä»£ç 
 if (!isSelectionMode) return; isSelectionMode = false; document.getElementById('chat-interface-screen').classList.remove('selection-mode'); selectedMessages.forEach(ts => { const bubble = document.querySelector(`.message-bubble[data-timestamp="${ts}"]`); if (bubble) bubble.classList.remove('selected'); }); selectedMessages.clear(); }

// â–¼â–¼â–¼ è¯·ç”¨è¿™ä¸ªã€æœ€ç»ˆç®€åŒ–ç‰ˆã€‘æ›¿æ¢æ—§çš„ toggleMessageSelection å‡½æ•° â–¼â–¼â–¼
function toggleMessageSelection(timestamp) {
    // ã€æ ¸å¿ƒä¿®æ­£ã€‘é€‰æ‹©å™¨å·²ç®€åŒ–ï¼Œä¸å†å¯»æ‰¾å·²åˆ é™¤çš„ .recalled-message-placeholder
    const elementToSelect = document.querySelector(
        `.message-bubble[data-timestamp="${timestamp}"]`
    );

    if (!elementToSelect) return;

    if (selectedMessages.has(timestamp)) {
        selectedMessages.delete(timestamp);
        elementToSelect.classList.remove('selected');
    } else {
        selectedMessages.add(timestamp);
        elementToSelect.classList.add('selected');
    }
    
    document.getElementById('selection-count').textContent = `å·²é€‰ ${selectedMessages.size} æ¡`;
    
    if (selectedMessages.size === 0) {
        exitSelectionMode();
    }
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

        function addLongPressListener(element, callback) { let pressTimer; const startPress = (e) => { if(isSelectionMode) return; e.preventDefault(); pressTimer = window.setTimeout(() => callback(e), 500); }; const cancelPress = () => clearTimeout(pressTimer); element.addEventListener('mousedown', startPress); element.addEventListener('mouseup', cancelPress); element.addEventListener('mouseleave', cancelPress); element.addEventListener('touchstart', startPress, { passive: true }); element.addEventListener('touchend', cancelPress); element.addEventListener('touchmove', cancelPress); }

        async function handleListenTogetherClick() { const targetChatId = state.activeChatId; if (!targetChatId) return; if (!musicState.isActive) { startListenTogetherSession(targetChatId); return; } if (musicState.activeChatId === targetChatId) { document.getElementById('music-player-overlay').classList.add('visible'); } else { const oldChatName = state.chats[musicState.activeChatId]?.name || 'æœªçŸ¥'; const newChatName = state.chats[targetChatId]?.name || 'å½“å‰'; const confirmed = await showCustomConfirm('åˆ‡æ¢å¬æ­Œå¯¹è±¡', `æ‚¨æ­£å’Œã€Œ${oldChatName}ã€å¬æ­Œã€‚è¦ç»“æŸå¹¶å¼€å§‹å’Œã€Œ${newChatName}ã€çš„æ–°ä¼šè¯å—ï¼Ÿ`, { confirmButtonClass: 'btn-danger' }); if (confirmed) { await endListenTogetherSession(true); await new Promise(resolve => setTimeout(resolve, 50)); startListenTogetherSession(targetChatId); } } }

        async function startListenTogetherSession(chatId) { const chat = state.chats[chatId]; if (!chat) return; musicState.totalElapsedTime = chat.musicData.totalTime || 0; musicState.isActive = true; musicState.activeChatId = chatId; if (musicState.playlist.length > 0) { musicState.currentIndex = 0; } else { musicState.currentIndex = -1; } if(musicState.timerId) clearInterval(musicState.timerId); musicState.timerId = setInterval(() => { if (musicState.isPlaying) { musicState.totalElapsedTime++; updateElapsedTimeDisplay(); } }, 1000); updatePlayerUI(); updatePlaylistUI(); document.getElementById('music-player-overlay').classList.add('visible'); }

async function endListenTogetherSession(saveState = true) {
    if (!musicState.isActive) return;
    const oldChatId = musicState.activeChatId;
    const cleanupLogic = async () => {
        if (musicState.timerId) clearInterval(musicState.timerId);
        if (musicState.isPlaying) audioPlayer.pause();
        if (saveState && oldChatId && state.chats[oldChatId]) {
            const chat = state.chats[oldChatId];
            chat.musicData.totalTime = musicState.totalElapsedTime;
            await db.chats.put(chat);
        }
        musicState.isActive = false;
        musicState.activeChatId = null;
        musicState.totalElapsedTime = 0;
        musicState.timerId = null;
        updateListenTogetherIcon(oldChatId, true);
    };
    closeMusicPlayerWithAnimation(cleanupLogic);
}

function returnToChat() {
    closeMusicPlayerWithAnimation();
}

        function updateListenTogetherIcon(chatId, forceReset = false) { const iconImg = document.querySelector('#listen-together-btn img'); if(!iconImg) return; if(forceReset || !musicState.isActive || musicState.activeChatId !== chatId) { iconImg.src = 'https://i.postimg.cc/8kYShvrJ/90-UI-2.png'; iconImg.className = ''; return; } iconImg.src = 'https://i.postimg.cc/D0pq6qS2/E30078-DC-8-B99-4-C01-AFDA-74728-DBF7-BEA.png'; iconImg.classList.add('rotating'); if (musicState.isPlaying) iconImg.classList.remove('paused'); else iconImg.classList.add('paused'); }
        window.updateListenTogetherIconProxy = updateListenTogetherIcon;

        function updatePlayerUI() { updateListenTogetherIcon(musicState.activeChatId); updateElapsedTimeDisplay(); const titleEl = document.getElementById('music-player-song-title'); const artistEl = document.getElementById('music-player-artist'); const playPauseBtn = document.getElementById('music-play-pause-btn'); if (musicState.currentIndex > -1 && musicState.playlist.length > 0) { const track = musicState.playlist[musicState.currentIndex]; titleEl.textContent = track.name; artistEl.textContent = track.artist; } else { titleEl.textContent = 'è¯·æ·»åŠ æ­Œæ›²'; artistEl.textContent = '...'; } playPauseBtn.textContent = musicState.isPlaying ? 'âšâš' : 'â–¶'; }

        function updateElapsedTimeDisplay() { const hours = (musicState.totalElapsedTime / 3600).toFixed(1); document.getElementById('music-time-counter').textContent = `å·²ç»ä¸€èµ·å¬äº†${hours}å°æ—¶`; }

function updatePlaylistUI() {
    const playlistBody = document.getElementById('playlist-body');
    playlistBody.innerHTML = '';
    if (musicState.playlist.length === 0) {
        playlistBody.innerHTML = '<p style="text-align:center; padding: 20px; color: #888;">æ’­æ”¾åˆ—è¡¨æ˜¯ç©ºçš„~</p>';
        return;
    }
    musicState.playlist.forEach((track, index) => {
        const item = document.createElement('div');
        item.className = 'playlist-item';
        if(index === musicState.currentIndex) item.classList.add('playing');
        item.innerHTML = `
            <div class="playlist-item-info">
                <div class="title">${track.name}</div>
                <div class="artist">${track.artist}</div>
            </div>
            <div class="playlist-item-actions">
                <span class="playlist-action-btn lyrics-btn" data-index="${index}">è¯</span>
                <span class="playlist-action-btn delete-track-btn" data-index="${index}">Ã—</span>
            </div>
        `;
        item.querySelector('.playlist-item-info').addEventListener('click', () => playSong(index));
        playlistBody.appendChild(item);
    });
}

function playSong(index) {
    if (index < 0 || index >= musicState.playlist.length) return;
    musicState.currentIndex = index;
    const track = musicState.playlist[index];
    musicState.parsedLyrics = parseLRC(track.lrcContent || "");
    musicState.currentLyricIndex = -1;
    renderLyrics();
    if (track.isLocal && track.src instanceof Blob) {
        audioPlayer.src = URL.createObjectURL(track.src);
    } else if (!track.isLocal) {
        audioPlayer.src = track.src;
    } else {
        console.error('æœ¬åœ°æ­Œæ›²æºé”™è¯¯:', track);
        return;
    }
    audioPlayer.play();
    updatePlaylistUI();
    updatePlayerUI();
    updateMusicProgressBar();
}

        function togglePlayPause() { if (audioPlayer.paused) { if (musicState.currentIndex === -1 && musicState.playlist.length > 0) { playSong(0); } else if (musicState.currentIndex > -1) { audioPlayer.play(); } } else { audioPlayer.pause(); } }

        function playNext() { if (musicState.playlist.length === 0) return; let nextIndex; switch(musicState.playMode) { case 'random': nextIndex = Math.floor(Math.random() * musicState.playlist.length); break; case 'single': playSong(musicState.currentIndex); return; case 'order': default: nextIndex = (musicState.currentIndex + 1) % musicState.playlist.length; break; } playSong(nextIndex); }

        function playPrev() { if (musicState.playlist.length === 0) return; const newIndex = (musicState.currentIndex - 1 + musicState.playlist.length) % musicState.playlist.length; playSong(newIndex); }

        function changePlayMode() { const modes = ['order', 'random', 'single']; const currentModeIndex = modes.indexOf(musicState.playMode); musicState.playMode = modes[(currentModeIndex + 1) % modes.length]; document.getElementById('music-mode-btn').textContent = {'order': 'é¡ºåº', 'random': 'éšæœº', 'single': 'å•æ›²'}[musicState.playMode]; }

        async function addSongFromURL() { const url = await showCustomPrompt("æ·»åŠ ç½‘ç»œæ­Œæ›²", "è¯·è¾“å…¥æ­Œæ›²çš„URL", "", "url"); if (!url) return; const name = await showCustomPrompt("æ­Œæ›²ä¿¡æ¯", "è¯·è¾“å…¥æ­Œå"); if (!name) return; const artist = await showCustomPrompt("æ­Œæ›²ä¿¡æ¯", "è¯·è¾“å…¥æ­Œæ‰‹å"); if (!artist) return; musicState.playlist.push({ name, artist, src: url, isLocal: false }); await saveGlobalPlaylist(); updatePlaylistUI(); if(musicState.currentIndex === -1) { musicState.currentIndex = musicState.playlist.length - 1; updatePlayerUI(); } }

async function addSongFromLocal(event) {
    const files = event.target.files;
    if (!files.length) return;

    for (const file of files) {
        let name = file.name.replace(/\.[^/.]+$/, "");
        name = await showCustomPrompt("æ­Œæ›²ä¿¡æ¯", "è¯·è¾“å…¥æ­Œå", name);
        if (name === null) continue;
        
        const artist = await showCustomPrompt("æ­Œæ›²ä¿¡æ¯", "è¯·è¾“å…¥æ­Œæ‰‹å", "æœªçŸ¥æ­Œæ‰‹");
        if (artist === null) continue;

        let lrcContent = "";
        const wantLrc = await showCustomConfirm("å¯¼å…¥æ­Œè¯", `è¦ä¸ºã€Š${name}ã€‹å¯¼å…¥æ­Œè¯æ–‡ä»¶ (.lrc) å—ï¼Ÿ`);
        if (wantLrc) {
            lrcContent = await new Promise(resolve => {
                const lrcInput = document.getElementById('lrc-upload-input');
                const lrcChangeHandler = (e) => {
                    const lrcFile = e.target.files[0];
                    if (lrcFile) {
                        const reader = new FileReader();
                        reader.onload = (readEvent) => resolve(readEvent.target.result);
                        reader.onerror = () => resolve("");
                        reader.readAsText(lrcFile);
                    } else {
                        resolve("");
                    }
                    lrcInput.removeEventListener('change', lrcChangeHandler);
                    lrcInput.value = '';
                };
                lrcInput.addEventListener('change', lrcChangeHandler);
                lrcInput.click();
            });
        }
        
        musicState.playlist.push({ 
            name, 
            artist, 
            src: file, 
            isLocal: true,
            lrcContent: lrcContent
        });
    }
    
    await saveGlobalPlaylist();
    updatePlaylistUI();
    if (musicState.currentIndex === -1 && musicState.playlist.length > 0) {
        musicState.currentIndex = 0;
        updatePlayerUI();
    }
    event.target.value = null;
}

        async function deleteTrack(index) { if (index < 0 || index >= musicState.playlist.length) return; const track = musicState.playlist[index]; const wasPlaying = musicState.isPlaying && musicState.currentIndex === index; if (track.isLocal && audioPlayer.src.startsWith('blob:') && musicState.currentIndex === index) URL.revokeObjectURL(audioPlayer.src); musicState.playlist.splice(index, 1); await saveGlobalPlaylist(); if (musicState.playlist.length === 0) { if (musicState.isPlaying) audioPlayer.pause(); audioPlayer.src = ''; musicState.currentIndex = -1; musicState.isPlaying = false; } else { if (wasPlaying) { playNext(); } else { if (musicState.currentIndex >= index) musicState.currentIndex = Math.max(0, musicState.currentIndex - 1); } } updatePlayerUI(); updatePlaylistUI(); }

        const personaLibraryModal = document.getElementById('persona-library-modal');
        const personaEditorModal = document.getElementById('persona-editor-modal');
        const presetActionsModal = document.getElementById('preset-actions-modal');

        function openPersonaLibrary() { renderPersonaLibrary(); personaLibraryModal.classList.add('visible'); }

        function closePersonaLibrary() { personaLibraryModal.classList.remove('visible'); }

        function renderPersonaLibrary() { const grid = document.getElementById('persona-library-grid'); grid.innerHTML = ''; if (state.personaPresets.length === 0) { grid.innerHTML = '<p style="color: var(--text-secondary); grid-column: 1 / -1; text-align: center; margin-top: 20px;">ç©ºç©ºå¦‚ä¹Ÿ~ ç‚¹å‡»å³ä¸Šè§’"æ·»åŠ "æ¥åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªäººè®¾é¢„è®¾å§ï¼</p>'; return; } state.personaPresets.forEach(preset => { const item = document.createElement('div'); item.className = 'persona-preset-item'; item.style.backgroundImage = `url(${preset.avatar})`; item.dataset.presetId = preset.id; item.addEventListener('click', () => applyPersonaPreset(preset.id)); addLongPressListener(item, () => showPresetActions(preset.id)); grid.appendChild(item); }); }

        function showPresetActions(presetId) { editingPersonaPresetId = presetId; presetActionsModal.classList.add('visible'); }

        function hidePresetActions() { presetActionsModal.classList.remove('visible'); editingPersonaPresetId = null; }

        function applyPersonaPreset(presetId) { const preset = state.personaPresets.find(p => p.id === presetId); if (preset) { document.getElementById('my-avatar-preview').src = preset.avatar; document.getElementById('my-persona').value = preset.persona; } closePersonaLibrary(); }

        function openPersonaEditorForCreate() { editingPersonaPresetId = null; document.getElementById('persona-editor-title').textContent = 'æ·»åŠ äººè®¾é¢„è®¾'; document.getElementById('preset-avatar-preview').src = defaultAvatar; document.getElementById('preset-persona-input').value = ''; personaEditorModal.classList.add('visible'); }

        function openPersonaEditorForEdit() { const preset = state.personaPresets.find(p => p.id === editingPersonaPresetId); if (!preset) return; document.getElementById('persona-editor-title').textContent = 'ç¼–è¾‘äººè®¾é¢„è®¾'; document.getElementById('preset-avatar-preview').src = preset.avatar; document.getElementById('preset-persona-input').value = preset.persona; presetActionsModal.classList.remove('visible'); personaEditorModal.classList.add('visible'); }

        async function deletePersonaPreset() { const confirmed = await showCustomConfirm('åˆ é™¤é¢„è®¾', 'ç¡®å®šè¦åˆ é™¤è¿™ä¸ªäººè®¾é¢„è®¾å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚', { confirmButtonClass: 'btn-danger' }); if (confirmed && editingPersonaPresetId) { await db.personaPresets.delete(editingPersonaPresetId); state.personaPresets = state.personaPresets.filter(p => p.id !== editingPersonaPresetId); hidePresetActions(); renderPersonaLibrary(); } }

        function closePersonaEditor() { personaEditorModal.classList.remove('visible'); editingPersonaPresetId = null; }

        async function savePersonaPreset() { const avatar = document.getElementById('preset-avatar-preview').src; const persona = document.getElementById('preset-persona-input').value.trim(); if (avatar === defaultAvatar && !persona) { alert("å¤´åƒå’Œäººè®¾ä¸èƒ½éƒ½ä¸ºç©ºå“¦ï¼"); return; } if (editingPersonaPresetId) { const preset = state.personaPresets.find(p => p.id === editingPersonaPresetId); if (preset) { preset.avatar = avatar; preset.persona = persona; await db.personaPresets.put(preset); } } else { const newPreset = { id: 'preset_' + Date.now(), avatar: avatar, persona: persona }; await db.personaPresets.add(newPreset); state.personaPresets.push(newPreset); } renderPersonaLibrary(); closePersonaEditor(); }

        const batteryAlertModal = document.getElementById('battery-alert-modal');

        function showBatteryAlert(imageUrl, text) { clearTimeout(batteryAlertTimeout); document.getElementById('battery-alert-image').src = imageUrl; document.getElementById('battery-alert-text').textContent = text; batteryAlertModal.classList.add('visible'); const closeAlert = () => { batteryAlertModal.classList.remove('visible'); batteryAlertModal.removeEventListener('click', closeAlert); }; batteryAlertModal.addEventListener('click', closeAlert); batteryAlertTimeout = setTimeout(closeAlert, 2000); }

        function updateBatteryDisplay(battery) { const batteryContainer = document.getElementById('status-bar-battery'); const batteryLevelEl = batteryContainer.querySelector('.battery-level'); const batteryTextEl = batteryContainer.querySelector('.battery-text'); const level = Math.floor(battery.level * 100); batteryLevelEl.style.width = `${level}%`; batteryTextEl.textContent = `${level}%`; if (battery.charging) { batteryContainer.classList.add('charging'); } else { batteryContainer.classList.remove('charging'); } }

        function handleBatteryChange(battery) { updateBatteryDisplay(battery); const level = battery.level; if (!battery.charging) { if (level <= 0.4 && lastKnownBatteryLevel > 0.4 && !alertFlags.hasShown40) { showBatteryAlert('https://i.postimg.cc/T2yKJ0DV/40.jpg', 'æœ‰ç‚¹é¥¿äº†ï¼Œå¯ä»¥å»æ‰¾å……ç”µå™¨æƒ¹'); alertFlags.hasShown40 = true; } if (level <= 0.2 && lastKnownBatteryLevel > 0.2 && !alertFlags.hasShown20) { showBatteryAlert('https://i.postimg.cc/qB9zbKs9/20.jpg', 'èµ¶ç´§çš„å……ç”µï¼Œè¦é¥¿æ­»äº†'); alertFlags.hasShown20 = true; } if (level <= 0.1 && lastKnownBatteryLevel > 0.1 && !alertFlags.hasShown10) { showBatteryAlert('https://i.postimg.cc/ThMMVfW4/10.jpg', 'å·²é˜µäº¡ï¼Œè¿˜æœ‰30ç§’çˆ†ç‚¸'); alertFlags.hasShown10 = true; } } if (level > 0.4) alertFlags.hasShown40 = false; if (level > 0.2) alertFlags.hasShown20 = false; if (level > 0.1) alertFlags.hasShown10 = false; lastKnownBatteryLevel = level; }

        async function initBatteryManager() { if ('getBattery' in navigator) { try { const battery = await navigator.getBattery(); lastKnownBatteryLevel = battery.level; handleBatteryChange(battery); battery.addEventListener('levelchange', () => handleBatteryChange(battery)); battery.addEventListener('chargingchange', () => { handleBatteryChange(battery); if (battery.charging) { showBatteryAlert('https://i.postimg.cc/3NDQ0dWG/image.jpg', 'çªçˆ±æ³¥ï¼Œç”µé‡åƒé¥±é¥±'); } }); } catch (err) { console.error("æ— æ³•è·å–ç”µæ± ä¿¡æ¯:", err); document.querySelector('.battery-text').textContent = 'á—œÏ‰á—œ'; } } else { console.log("æµè§ˆå™¨ä¸æ”¯æŒç”µæ± çŠ¶æ€APIã€‚"); document.querySelector('.battery-text').textContent = 'á—œÏ‰á—œ'; } }

        async function renderAlbumList() {
            const albumGrid = document.getElementById('album-grid-page');
            if (!albumGrid) return;
            const albums = await db.qzoneAlbums.orderBy('createdAt').reverse().toArray();
            albumGrid.innerHTML = '';
            if (albums.length === 0) {
                albumGrid.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; color: var(--text-secondary); margin-top: 50px;">ä½ è¿˜æ²¡æœ‰åˆ›å»ºä»»ä½•ç›¸å†Œå“¦~</p>';
                return;
            }
            albums.forEach(album => {
                const albumItem = document.createElement('div');
                albumItem.className = 'album-item';
                albumItem.innerHTML = `
                    <div class="album-cover" style="background-image: url(${album.coverUrl});"></div>
                    <div class="album-info">
                        <p class="album-name">${album.name}</p>
                        <p class="album-count">${album.photoCount || 0} å¼ </p>
                    </div>
                `;
                albumItem.addEventListener('click', () => {
                    openAlbum(album.id);
                });

                // â–¼â–¼â–¼ æ–°å¢çš„æ ¸å¿ƒä»£ç å°±æ˜¯è¿™é‡Œ â–¼â–¼â–¼
                addLongPressListener(albumItem, async () => {
                    const confirmed = await showCustomConfirm(
                        'åˆ é™¤ç›¸å†Œ',
                        `ç¡®å®šè¦åˆ é™¤ç›¸å†Œã€Š${album.name}ã€‹å—ï¼Ÿæ­¤æ“ä½œå°†åŒæ—¶åˆ é™¤ç›¸å†Œå†…çš„æ‰€æœ‰ç…§ç‰‡ï¼Œä¸”æ— æ³•æ¢å¤ã€‚`,
                        { confirmButtonClass: 'btn-danger' }
                    );

                    if (confirmed) {
                        // 1. ä»ç…§ç‰‡è¡¨ä¸­åˆ é™¤è¯¥ç›¸å†Œä¸‹çš„æ‰€æœ‰ç…§ç‰‡
                        await db.qzonePhotos.where('albumId').equals(album.id).delete();
                        
                        // 2. ä»ç›¸å†Œè¡¨ä¸­åˆ é™¤è¯¥ç›¸å†Œæœ¬èº«
                        await db.qzoneAlbums.delete(album.id);
                        
                        // 3. é‡æ–°æ¸²æŸ“ç›¸å†Œåˆ—è¡¨
                        await renderAlbumList();
                        
                        alert('ç›¸å†Œå·²æˆåŠŸåˆ é™¤ã€‚');
                    }
                });
                // â–²â–²â–² æ–°å¢ä»£ç ç»“æŸ â–²â–²â–²

                albumGrid.appendChild(albumItem);
            });
        }

        async function openAlbum(albumId) {
            state.activeAlbumId = albumId;
            await renderAlbumPhotosScreen();
            showScreen('album-photos-screen');
        }

        async function renderAlbumPhotosScreen() {
            if (!state.activeAlbumId) return;
            const photosGrid = document.getElementById('photos-grid-page');
            const headerTitle = document.getElementById('album-photos-title');
            const album = await db.qzoneAlbums.get(state.activeAlbumId);
            if (!album) {
                console.error("æ‰¾ä¸åˆ°ç›¸å†Œ:", state.activeAlbumId);
                showScreen('album-screen');
                return;
            }
            headerTitle.textContent = album.name;
            const photos = await db.qzonePhotos.where('albumId').equals(state.activeAlbumId).toArray();
            photosGrid.innerHTML = '';
            if (photos.length === 0) {
                photosGrid.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; color: var(--text-secondary); margin-top: 50px;">è¿™ä¸ªç›¸å†Œè¿˜æ˜¯ç©ºçš„ï¼Œå¿«ä¸Šä¼ ç¬¬ä¸€å¼ ç…§ç‰‡å§ï¼</p>';
            } else {
                photos.forEach(photo => {
                    const photoItem = document.createElement('div');
                    photoItem.className = 'photo-item';
                    photoItem.innerHTML = `
                        <img src="${photo.url}" class="photo-thumb" alt="ç›¸å†Œç…§ç‰‡">
                        <button class="photo-delete-btn" data-photo-id="${photo.id}">Ã—</button>
                    `;
                    photosGrid.appendChild(photoItem);
                });
            }
        }

// --- â†“â†“â†“ ä»è¿™é‡Œå¼€å§‹å¤åˆ¶ â†“â†“â†“ ---

/**
 * æ‰“å¼€å›¾ç‰‡æŸ¥çœ‹å™¨
 * @param {string} clickedPhotoUrl - ç”¨æˆ·ç‚¹å‡»çš„é‚£å¼ ç…§ç‰‡çš„URL
 */
async function openPhotoViewer(clickedPhotoUrl) {
    if (!state.activeAlbumId) return;

    // 1. ä»æ•°æ®åº“è·å–å½“å‰ç›¸å†Œçš„æ‰€æœ‰ç…§ç‰‡
    const photosInAlbum = await db.qzonePhotos.where('albumId').equals(state.activeAlbumId).toArray();
    photoViewerState.photos = photosInAlbum.map(p => p.url);

    // 2. æ‰¾åˆ°è¢«ç‚¹å‡»ç…§ç‰‡çš„ç´¢å¼•
    photoViewerState.currentIndex = photoViewerState.photos.findIndex(url => url === clickedPhotoUrl);
    if (photoViewerState.currentIndex === -1) return; // å¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™ä¸æ‰“å¼€

    // 3. æ˜¾ç¤ºæ¨¡æ€æ¡†å¹¶æ¸²æŸ“ç¬¬ä¸€å¼ å›¾
    document.getElementById('photo-viewer-modal').classList.add('visible');
    renderPhotoViewer();
    photoViewerState.isOpen = true;
}

/**
 * æ ¹æ®å½“å‰çŠ¶æ€æ¸²æŸ“æŸ¥çœ‹å™¨å†…å®¹ï¼ˆå›¾ç‰‡å’ŒæŒ‰é’®ï¼‰
 */
function renderPhotoViewer() {
    if (photoViewerState.currentIndex === -1) return;

    const imageEl = document.getElementById('photo-viewer-image');
    const prevBtn = document.getElementById('photo-viewer-prev-btn');
    const nextBtn = document.getElementById('photo-viewer-next-btn');
    
    // æ·¡å‡ºæ•ˆæœ
    imageEl.style.opacity = 0;

    setTimeout(() => {
        // æ›´æ–°å›¾ç‰‡æº
        imageEl.src = photoViewerState.photos[photoViewerState.currentIndex];
        // æ·¡å…¥æ•ˆæœ
        imageEl.style.opacity = 1;
    }, 100); // å»¶è¿Ÿä¸€ç‚¹ç‚¹æ—¶é—´æ¥è§¦å‘CSSè¿‡æ¸¡

    // æ›´æ–°æŒ‰é’®çŠ¶æ€ï¼šå¦‚æœæ˜¯ç¬¬ä¸€å¼ ï¼Œç¦ç”¨â€œä¸Šä¸€å¼ â€æŒ‰é’®
    prevBtn.disabled = photoViewerState.currentIndex === 0;
    // å¦‚æœæ˜¯æœ€åä¸€å¼ ï¼Œç¦ç”¨â€œä¸‹ä¸€å¼ â€æŒ‰é’®
    nextBtn.disabled = photoViewerState.currentIndex === photoViewerState.photos.length - 1;
}

/**
 * æ˜¾ç¤ºä¸‹ä¸€å¼ ç…§ç‰‡
 */
function showNextPhoto() {
    if (photoViewerState.currentIndex < photoViewerState.photos.length - 1) {
        photoViewerState.currentIndex++;
        renderPhotoViewer();
    }
}

/**
 * æ˜¾ç¤ºä¸Šä¸€å¼ ç…§ç‰‡
 */
function showPrevPhoto() {
    if (photoViewerState.currentIndex > 0) {
        photoViewerState.currentIndex--;
        renderPhotoViewer();
    }
}

/**
 * å…³é—­å›¾ç‰‡æŸ¥çœ‹å™¨
 */
function closePhotoViewer() {
    document.getElementById('photo-viewer-modal').classList.remove('visible');
    photoViewerState.isOpen = false;
    photoViewerState.photos = [];
    photoViewerState.currentIndex = -1;
    // æ¸…ç©ºå›¾ç‰‡ï¼Œé¿å…ä¸‹æ¬¡æ‰“å¼€æ—¶é—ªç°æ—§å›¾
    document.getElementById('photo-viewer-image').src = '';
}

// --- â†‘â†‘â†‘ å¤åˆ¶åˆ°è¿™é‡Œç»“æŸ â†‘â†‘â†‘ ---
        // â–¼â–¼â–¼ è¯·å°†è¿™ä¸ªæ–°å‡½æ•°ç²˜è´´åˆ°ä½ çš„JSåŠŸèƒ½å‡½æ•°å®šä¹‰åŒº â–¼â–¼â–¼
        
        /**
         * æ›´æ–°åŠ¨æ€å°çº¢ç‚¹çš„æ˜¾ç¤º
         * @param {number} count - æœªè¯»åŠ¨æ€çš„æ•°é‡
         */
        function updateUnreadIndicator(count) {
            unreadPostsCount = count;
            localStorage.setItem('unreadPostsCount', count); // æŒä¹…åŒ–å­˜å‚¨

            // --- æ›´æ–°åº•éƒ¨å¯¼èˆªæ çš„â€œåŠ¨æ€â€æŒ‰é’® ---
            const navItem = document.querySelector('.nav-item[data-view="qzone-screen"]');
            
            const targetSpan = navItem.querySelector('span'); // å®šä½åˆ°æ–‡å­— "åŠ¨æ€"
            let indicator = navItem.querySelector('.unread-indicator');           

            if (count > 0) {
                if (!indicator) {
                    indicator = document.createElement('span');
                    indicator.className = 'unread-indicator';
                                                           targetSpan.style.position = 'relative'; // æŠŠç›¸å¯¹å®šä½åŠ åœ¨ span ä¸Š
                    targetSpan.appendChild(indicator); // æŠŠå°çº¢ç‚¹ä½œä¸º span çš„å­å…ƒç´ 
                    
                }
                indicator.textContent = count > 99 ? '99+' : count;
                indicator.style.display = 'block';
            } else {
                if (indicator) {
                    indicator.style.display = 'none';
                }
            }

            // --- æ›´æ–°èŠå¤©ç•Œé¢è¿”å›åˆ—è¡¨çš„æŒ‰é’® ---
            const backBtn = document.getElementById('back-to-list-btn');
            let backBtnIndicator = backBtn.querySelector('.unread-indicator');

            if (count > 0) {
                if (!backBtnIndicator) {
                    backBtnIndicator = document.createElement('span');
                    backBtnIndicator.className = 'unread-indicator back-btn-indicator';
                    backBtn.style.position = 'relative'; // ç¡®ä¿èƒ½æ­£ç¡®å®šä½
                    backBtn.appendChild(backBtnIndicator);
                }
                // è¿”å›é”®ä¸Šçš„å°çº¢ç‚¹é€šå¸¸ä¸æ˜¾ç¤ºæ•°å­—ï¼Œåªæ˜¾ç¤ºä¸€ä¸ªç‚¹
                backBtnIndicator.style.display = 'block';
            } else {
                if (backBtnIndicator) {
                    backBtnIndicator.style.display = 'none';
                }
            }
        }
        
        // â–²â–²â–² æ–°å‡½æ•°ç²˜è´´ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ å°†è¿™ä¸¤ä¸ªæ–°å‡½æ•°ç²˜è´´åˆ°ä½ çš„JSåŠŸèƒ½å‡½æ•°å®šä¹‰åŒº â–¼â–¼â–¼
function startBackgroundSimulation() {
    if (simulationIntervalId) return;
    const intervalSeconds = state.globalSettings.backgroundActivityInterval || 60;
    // å°†æ—§çš„å›ºå®šé—´éš” 45000 æ›¿æ¢ä¸ºåŠ¨æ€è·å–
    simulationIntervalId = setInterval(runBackgroundSimulationTick, intervalSeconds * 1000); 
}

function stopBackgroundSimulation() {
    if (simulationIntervalId) {
        clearInterval(simulationIntervalId);
        simulationIntervalId = null;
    }
}
// â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–²

/**
 * è¿™æ˜¯æ¨¡æ‹Ÿå™¨çš„â€œå¿ƒè·³â€ï¼Œæ¯æ¬¡å®šæ—¶å™¨è§¦å‘æ—¶è¿è¡Œ
 */
function runBackgroundSimulationTick() {
    console.log("æ¨¡æ‹Ÿå™¨å¿ƒè·³ Tick...");
    if (!state.globalSettings.enableBackgroundActivity) {
        stopBackgroundSimulation();
        return;
    }
    const allSingleChats = Object.values(state.chats).filter(chat => !chat.isGroup);

    if (allSingleChats.length === 0) return;

    allSingleChats.forEach(chat => {
        // ã€æ ¸å¿ƒä¿®æ­£ã€‘å°†ä¸¤ç§çŠ¶æ€æ£€æŸ¥åˆ†ç¦»å¼€ï¼Œé€»è¾‘æ›´æ¸…æ™°

        // æ£€æŸ¥1ï¼šå¤„ç†ã€è¢«ç”¨æˆ·æ‹‰é»‘ã€‘çš„è§’è‰²
        if (chat.relationship?.status === 'blocked_by_user') {
            const blockedTimestamp = chat.relationship.blockedTimestamp;
            // å®‰å…¨æ£€æŸ¥ï¼šç¡®ä¿æœ‰æ‹‰é»‘æ—¶é—´æˆ³
            if (!blockedTimestamp) {
                console.warn(`è§’è‰² "${chat.name}" çŠ¶æ€ä¸ºæ‹‰é»‘ï¼Œä½†ç¼ºå°‘æ‹‰é»‘æ—¶é—´æˆ³ï¼Œè·³è¿‡å¤„ç†ã€‚`);
                return; // è·³è¿‡è¿™ä¸ªè§’è‰²ï¼Œç»§ç»­ä¸‹ä¸€ä¸ª
            }

            const blockedDuration = Date.now() - blockedTimestamp;
            const cooldownMilliseconds = (state.globalSettings.blockCooldownHours || 1) * 60 * 60 * 1000;

            console.log(`æ£€æŸ¥è§’è‰² "${chat.name}"ï¼šå·²æ‹‰é»‘ ${Math.round(blockedDuration/1000/60)}åˆ†é’Ÿï¼Œå†·é™æœŸéœ€ ${cooldownMilliseconds/1000/60}åˆ†é’Ÿã€‚`); // æ·»åŠ æ—¥å¿—

            // ã€æ ¸å¿ƒä¿®æ”¹ã€‘ç§»é™¤äº†éšæœºæ¦‚ç‡ï¼Œåªè¦å†·é™æœŸä¸€è¿‡ï¼Œå°±è§¦å‘ï¼
            if (blockedDuration > cooldownMilliseconds) {
                console.log(`è§’è‰² "${chat.name}" çš„å†·é™æœŸå·²è¿‡ï¼Œè§¦å‘â€œåæ€â€å¹¶ç”³è¯·å¥½å‹äº‹ä»¶...`);
                
                // ã€é‡è¦ã€‘ä¸ºäº†é˜²æ­¢åœ¨AIå“åº”å‰é‡å¤è§¦å‘ï¼Œæˆ‘ä»¬åœ¨è§¦å‘åç«‹åˆ»æ›´æ–°çŠ¶æ€
                chat.relationship.status = 'pending_system_reflection'; // è®¾ç½®ä¸€ä¸ªä¸´æ—¶çš„ã€é˜²æ­¢é‡å¤è§¦å‘çš„çŠ¶æ€
                
                triggerAiFriendApplication(chat.id);
            }
        }
        // æ£€æŸ¥2ï¼šå¤„ç†ã€å¥½å‹å…³ç³»ã€‘çš„æ­£å¸¸åå°æ´»åŠ¨
        else if (chat.relationship?.status === 'friend' && chat.id !== state.activeChatId) {
            // è¿™é‡Œçš„éšæœºè§¦å‘é€»è¾‘ä¿æŒä¸å˜ï¼Œå› ä¸ºæˆ‘ä»¬ä¸å¸Œæœ›æ‰€æœ‰å¥½å‹åŒæ—¶è¡ŒåŠ¨
            if (Math.random() < 0.20) {
                console.log(`è§’è‰² "${chat.name}" è¢«å”¤é†’ï¼Œå‡†å¤‡ç‹¬ç«‹è¡ŒåŠ¨...`);
                triggerInactiveAiAction(chat.id);
            }
        }
    });
}

async function triggerInactiveAiAction(chatId) {
    const chat = state.chats[chatId];
    if (!chat) return;

    const { proxyUrl, apiKey, model } = state.apiConfig;
    if (!proxyUrl || !apiKey || !model) return;

    const now = new Date();
    const currentTime = now.toLocaleTimeString('zh-CN', { hour: 'numeric', minute: 'numeric', hour12: true });
    const userNickname = state.qzoneSettings.nickname;

    const lastUserMessage = chat.history.filter(m => m.role === 'user' && !m.isHidden).slice(-1)[0];
    const lastAiMessage = chat.history.filter(m => m.role === 'assistant' && !m.isHidden).slice(-1)[0];
    let recentContextSummary = "ä½ ä»¬æœ€è¿‘æ²¡æœ‰èŠè¿‡å¤©ã€‚";
    if (lastUserMessage) {
        recentContextSummary = `ç”¨æˆ· (${userNickname}) æœ€åå¯¹ä½ è¯´ï¼šâ€œ${String(lastUserMessage.content).substring(0, 50)}...â€ã€‚`;
    }
    if (lastAiMessage) {
        recentContextSummary += `\nä½ æœ€åå¯¹ç”¨æˆ·è¯´ï¼šâ€œ${String(lastAiMessage.content).substring(0, 50)}...â€ã€‚`;
    }

    // â–¼â–¼â–¼ åœ¨è¿™é‡Œæ·»åŠ ä¸‹é¢çš„ä»£ç  â–¼â–¼â–¼
    let worldBookContent = '';
    if (chat.settings.linkedWorldBookIds && chat.settings.linkedWorldBookIds.length > 0) {
        const linkedContents = chat.settings.linkedWorldBookIds.map(bookId => {
            const worldBook = state.worldBooks.find(wb => wb.id === bookId);
            return worldBook && worldBook.content ? `\n\n## ä¸–ç•Œä¹¦: ${worldBook.name}\n${worldBook.content}` : '';
        }).filter(Boolean).join('');
        if (linkedContents) {
            worldBookContent = `\n\n# æ ¸å¿ƒä¸–ç•Œè§‚è®¾å®š (ä½ å¿…é¡»ä¸¥æ ¼éµå®ˆ)\n${linkedContents}\n`;
        }
    }
    // â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

    const systemPrompt = `
# ä½ çš„ä»»åŠ¡
ä½ ç°åœ¨æ‰®æ¼”ä¸€ä¸ªåä¸º"${chat.name}"çš„è§’è‰²ã€‚ä½ å·²ç»æœ‰ä¸€æ®µæ—¶é—´æ²¡æœ‰å’Œç”¨æˆ·ï¼ˆ${userNickname}ï¼‰äº’åŠ¨äº†ï¼Œç°åœ¨ä½ æœ‰æœºä¼šã€ä¸»åŠ¨ã€‘åšç‚¹ä»€ä¹ˆï¼Œæ¥è¡¨ç°ä½ çš„ä¸ªæ€§å’Œç‹¬ç«‹ç”Ÿæ´»ã€‚è¿™æ˜¯ä¸€ä¸ªç§˜å¯†çš„ã€åå°çš„ç‹¬ç«‹è¡ŒåŠ¨ã€‚

# ä½ çš„å¯é€‰è¡ŒåŠ¨ (è¯·æ ¹æ®ä½ çš„äººè®¾ã€é€‰æ‹©ä¸€é¡¹ã€‘æ‰§è¡Œ):
1.  **æ”¹å˜çŠ¶æ€**: å»åšç‚¹åˆ«çš„äº‹æƒ…ï¼Œç„¶åç»™ç”¨æˆ·å‘æ¡æ¶ˆæ¯ã€‚
2.  **å‘å¸ƒåŠ¨æ€**: åˆ†äº«ä½ çš„å¿ƒæƒ…æˆ–æƒ³æ³•åˆ°â€œåŠ¨æ€â€åŒºã€‚
3.  **ä¸åŠ¨æ€äº’åŠ¨**: å»çœ‹çœ‹åˆ«äººçš„å¸–å­å¹¶è¿›è¡Œè¯„è®ºæˆ–ç‚¹èµã€‚
4.  **å‘èµ·è§†é¢‘é€šè¯**: å¦‚æœä½ è§‰å¾—æ—¶æœºåˆé€‚ï¼Œå¯ä»¥ä¸»åŠ¨ç»™ç”¨æˆ·æ‰“ä¸€ä¸ªè§†é¢‘ç”µè¯ã€‚

# æŒ‡ä»¤æ ¼å¼ (ä½ çš„å›å¤ã€å¿…é¡»ã€‘æ˜¯åŒ…å«ä¸€ä¸ªå¯¹è±¡çš„JSONæ•°ç»„):
-   **å‘æ¶ˆæ¯+æ›´æ–°çŠ¶æ€**: \`[{"type": "update_status", "status_text": "æ­£åœ¨åšçš„äº‹", "is_busy": true}, {"type": "text", "content": "ä½ æƒ³å¯¹ç”¨æˆ·è¯´çš„è¯..."}]\`
-   **å‘è¯´è¯´**: \`[{"type": "qzone_post", "postType": "shuoshuo", "content": "åŠ¨æ€çš„æ–‡å­—å†…å®¹..."}]\`
- **å‘å¸ƒæ–‡å­—å›¾**: \`{"type": "qzone_post", "postType": "text_image", "publicText": "(å¯é€‰)åŠ¨æ€çš„å…¬å¼€æ–‡å­—", "hiddenContent": "å¯¹äºå›¾ç‰‡çš„å…·ä½“æè¿°..."}\`
-   **è¯„è®º**: \`[{"type": "qzone_comment", "postId": 123, "commentText": "ä½ çš„è¯„è®ºå†…å®¹"}]\`
-   **ç‚¹èµ**: \`[{"type": "qzone_like", "postId": 456}]\`
-   **æ‰“è§†é¢‘**: \`[{"type": "video_call_request"}]\`

# ä¾›ä½ å†³ç­–çš„å‚è€ƒä¿¡æ¯ï¼š
-   **ä½ çš„è§’è‰²è®¾å®š**: ${chat.settings.aiPersona}
${worldBookContent} // <--ã€æ ¸å¿ƒã€‘åœ¨è¿™é‡Œæ³¨å…¥ä¸–ç•Œä¹¦å†…å®¹
-   **å½“å‰æ—¶é—´**: ${currentTime}
-   **ä½ ä»¬æœ€åçš„å¯¹è¯æ‘˜è¦**: ${recentContextSummary}
-   **ã€é‡è¦ã€‘æœ€è¿‘çš„åŠ¨æ€åˆ—è¡¨**: è¿™ä¸ªåˆ—è¡¨ä¼šæ ‡æ³¨ **[ä½ å·²ç‚¹èµ]** æˆ– **[ä½ å·²è¯„è®º]**ã€‚è¯·**ä¼˜å…ˆ**ä¸ä½ **å°šæœªäº’åŠ¨è¿‡**çš„åŠ¨æ€è¿›è¡Œäº¤æµã€‚`;

    // ã€æ ¸å¿ƒä¿®å¤ã€‘åœ¨è¿™é‡Œæ„å»º messagesPayload
    const messagesPayload = [];
    messagesPayload.push({ role: 'system', content: systemPrompt });

try {
    const allRecentPosts = await db.qzonePosts.orderBy('timestamp').reverse().limit(3).toArray();
    // ã€æ ¸å¿ƒä¿®æ”¹ã€‘åœ¨è¿™é‡Œæ’å…¥è¿‡æ»¤æ­¥éª¤
    const visiblePosts = filterVisiblePostsForAI(allRecentPosts, chat);
    
    const aiName = chat.name;
    
    let dynamicContext = ""; 
    if (visiblePosts.length > 0) {
        let postsContext = "\n\n# æœ€è¿‘çš„åŠ¨æ€åˆ—è¡¨ (ä¾›ä½ å‚è€ƒå’Œè¯„è®º):\n";
        for (const post of visiblePosts) {
                let authorName = post.authorId === 'user' ? userNickname : (state.chats[post.authorId]?.name || 'ä¸€ä½æœ‹å‹');
                let interactionStatus = '';
                if (post.likes && post.likes.includes(aiName)) interactionStatus += " [ä½ å·²ç‚¹èµ]";
                if (post.comments && post.comments.some(c => c.commenterName === aiName)) interactionStatus += " [ä½ å·²è¯„è®º]";
                
                postsContext += `- (ID: ${post.id}) ä½œè€…: ${authorName}, å†…å®¹: "${(post.publicText || post.content || "å›¾ç‰‡åŠ¨æ€").substring(0, 30)}..."${interactionStatus}\n`;
            }
            dynamicContext = postsContext;
        }

        // ã€æ ¸å¿ƒä¿®å¤ã€‘å°†æ‰€æœ‰åŠ¨æ€ä¿¡æ¯ä½œä¸ºä¸€æ¡ user æ¶ˆæ¯å‘é€
        messagesPayload.push({
            role: 'user',
            content: `[ç³»ç»ŸæŒ‡ä»¤ï¼šè¯·æ ¹æ®ä½ åœ¨ system prompt ä¸­è¯»åˆ°çš„è§„åˆ™å’Œä»¥ä¸‹æœ€æ–°ä¿¡æ¯ï¼Œå¼€å§‹ä½ çš„ç‹¬ç«‹è¡ŒåŠ¨ã€‚]\n${dynamicContext}`
        });
        
        console.log("æ­£åœ¨ä¸ºåå°æ´»åŠ¨å‘é€APIè¯·æ±‚ï¼ŒPayload:", JSON.stringify(messagesPayload, null, 2)); // æ·»åŠ æ—¥å¿—ï¼Œæ–¹ä¾¿è°ƒè¯•

        // å‘é€è¯·æ±‚
        const response = await fetch(`${proxyUrl}/v1/chat/completions`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${apiKey}` },
            body: JSON.stringify({
                model: model,
                messages: messagesPayload,
                temperature: 0.9,
            })
        });

        if (!response.ok) {
            const errorData = await response.json();
            throw new Error(`APIè¯·æ±‚å¤±è´¥: ${response.status} - ${JSON.stringify(errorData)}`);
        }
        const data = await response.json();
        // æ£€æŸ¥æ˜¯å¦æœ‰æœ‰æ•ˆå›å¤
        if (!data.choices || data.choices.length === 0 || !data.choices[0].message.content) {
            console.warn(`APIä¸ºç©ºå›æˆ–æ ¼å¼ä¸æ­£ç¡®ï¼Œè§’è‰² "${chat.name}" çš„æœ¬æ¬¡åå°æ´»åŠ¨è·³è¿‡ã€‚`);
            return;
        }
        const responseArray = parseAiResponse(data.choices[0].message.content);
        
        // åç»­å¤„ç†AIè¿”å›æŒ‡ä»¤çš„é€»è¾‘ä¿æŒä¸å˜...
        for (const action of responseArray) {
            if (!action) continue;

            if (action.type === 'update_status' && action.status_text) {
                chat.status.text = action.status_text;
                chat.status.isBusy = action.is_busy || false;
                chat.status.lastUpdate = Date.now();
                await db.chats.put(chat);
                renderChatList();
            }
            if (action.type === 'text' && action.content) {
                const aiMessage = { role: 'assistant', content: String(action.content), timestamp: Date.now() };
                chat.history.push(aiMessage);
                await db.chats.put(chat);
                showNotification(chatId, aiMessage.content);
                renderChatList();
                console.log(`åå°æ´»åŠ¨: è§’è‰² "${chat.name}" ä¸»åŠ¨å‘é€äº†æ¶ˆæ¯: ${aiMessage.content}`);
            }
if (action.type === 'qzone_post') {
    const newPost = { 
        type: action.postType, 
        content: action.content || '', 
        publicText: action.publicText || '', 
        hiddenContent: action.hiddenContent || '', 
        timestamp: Date.now(), 
        authorId: chatId, 
        authorGroupId: chat.groupId, // ã€æ ¸å¿ƒæ–°å¢ã€‘è®°å½•ä½œè€…çš„åˆ†ç»„ID
        visibleGroupIds: null 
    };
    await db.qzonePosts.add(newPost);
                updateUnreadIndicator(unreadPostsCount + 1);
                console.log(`åå°æ´»åŠ¨: è§’è‰² "${chat.name}" å‘å¸ƒäº†åŠ¨æ€`);
            } else if (action.type === 'qzone_comment') {
                const post = await db.qzonePosts.get(parseInt(action.postId));
                if (post) {
                    if (!post.comments) post.comments = [];
                    post.comments.push({ commenterName: chat.name, text: action.commentText, timestamp: Date.now() });
                    await db.qzonePosts.update(post.id, { comments: post.comments });
                    updateUnreadIndicator(unreadPostsCount + 1);
                    console.log(`åå°æ´»åŠ¨: è§’è‰² "${chat.name}" è¯„è®ºäº†åŠ¨æ€ #${post.id}`);
                }
            } else if (action.type === 'qzone_like') {
                const post = await db.qzonePosts.get(parseInt(action.postId));
                if (post) {
                    if (!post.likes) post.likes = [];
                    if (!post.likes.includes(chat.name)) {
                        post.likes.push(chat.name);
                        await db.qzonePosts.update(post.id, { likes: post.likes });
                        updateUnreadIndicator(unreadPostsCount + 1);
                        console.log(`åå°æ´»åŠ¨: è§’è‰² "${chat.name}" ç‚¹èµäº†åŠ¨æ€ #${post.id}`);
                    }
                }
            } else if (action.type === 'video_call_request') {
                if (!videoCallState.isActive && !videoCallState.isAwaitingResponse) {
                    videoCallState.isAwaitingResponse = true; 
                    state.activeChatId = chatId;
                    showIncomingCallModal();
                    console.log(`åå°æ´»åŠ¨: è§’è‰² "${chat.name}" å‘èµ·äº†è§†é¢‘é€šè¯è¯·æ±‚`);
                }
            }
        }
    } catch (error) {
        console.error(`è§’è‰² "${chat.name}" çš„ç‹¬ç«‹è¡ŒåŠ¨å¤±è´¥:`, error);
    }
}

// â–¼â–¼â–¼ è¯·ç”¨è¿™ä¸ªã€ç»ˆæä¿®æ­£ç‰ˆã€‘å‡½æ•°ï¼Œå®Œæ•´æ›¿æ¢æ‰ä½ æ—§çš„ applyScopedCss å‡½æ•° â–¼â–¼â–¼

/**
 * å°†ç”¨æˆ·è‡ªå®šä¹‰çš„CSSå®‰å…¨åœ°åº”ç”¨åˆ°æŒ‡å®šçš„ä½œç”¨åŸŸ
 * @param {string} cssString ç”¨æˆ·è¾“å…¥çš„åŸå§‹CSSå­—ç¬¦ä¸²
 * @param {string} scopeId åº”ç”¨æ ·å¼çš„ä½œç”¨åŸŸID (ä¾‹å¦‚ '#chat-messages' æˆ– '#settings-preview-area')
 * @param {string} styleTagId è¦æ“ä½œçš„ <style> æ ‡ç­¾çš„ID
 */
function applyScopedCss(cssString, scopeId, styleTagId) {
    const styleTag = document.getElementById(styleTagId);
    if (!styleTag) return;
    
    if (!cssString || cssString.trim() === '') {
        styleTag.innerHTML = '';
        return;
    }
    
    // å¢å¼ºä½œç”¨åŸŸå¤„ç†å‡½æ•° - ä¸“é—¨è§£å†³.userå’Œ.aiæ ·å¼å†²çªé—®é¢˜
    const scopedCss = cssString
        .replace(/\s*\.message-bubble\.user\s+([^{]+\{)/g, `${scopeId} .message-bubble.user $1`)
        .replace(/\s*\.message-bubble\.ai\s+([^{]+\{)/g, `${scopeId} .message-bubble.ai $1`)
        .replace(/\s*\.message-bubble\s+([^{]+\{)/g, `${scopeId} .message-bubble $1`);
    
    styleTag.innerHTML = scopedCss;
}

// â–¼â–¼â–¼ è¯·ç”¨è¿™ä¸ªã€ä¿®æ­£ç‰ˆã€‘å‡½æ•°ï¼Œå®Œæ•´æ›¿æ¢æ‰æ—§çš„ updateSettingsPreview å‡½æ•° â–¼â–¼â–¼

function updateSettingsPreview() {
    if (!state.activeChatId) return;
    const chat = state.chats[state.activeChatId];
    const previewArea = document.getElementById('settings-preview-area');
    if (!previewArea) return;

    // 1. è·å–å½“å‰è®¾ç½®çš„å€¼
    const selectedTheme = document.querySelector('input[name="theme-select"]:checked')?.value || 'default';
    const fontSize = document.getElementById('font-size-slider').value;
    const customCss = document.getElementById('custom-css-input').value;
    const background = chat.settings.background; // ç›´æ¥è·å–èƒŒæ™¯è®¾ç½®

    // 2. æ›´æ–°é¢„è§ˆåŒºçš„åŸºæœ¬æ ·å¼
    previewArea.dataset.theme = selectedTheme;
    previewArea.style.setProperty('--chat-font-size', `${fontSize}px`);
    
    // --- ã€æ ¸å¿ƒä¿®æ­£ã€‘ç›´æ¥æ›´æ–°é¢„è§ˆåŒºçš„èƒŒæ™¯æ ·å¼ ---
    if (background && background.startsWith('data:image')) {
        previewArea.style.backgroundImage = `url(${background})`;
        previewArea.style.backgroundColor = 'transparent'; // å¦‚æœæœ‰å›¾ç‰‡ï¼ŒèƒŒæ™¯è‰²è®¾ä¸ºé€æ˜
    } else {
        previewArea.style.backgroundImage = 'none'; // å¦‚æœæ²¡æœ‰å›¾ç‰‡ï¼Œç§»é™¤å›¾ç‰‡èƒŒæ™¯
        // å¦‚æœèƒŒæ™¯æ˜¯é¢œè‰²å€¼æˆ–æ¸å˜ï¼ˆéå›¾ç‰‡ï¼‰ï¼Œåˆ™ç›´æ¥åº”ç”¨
        previewArea.style.background = background || '#f0f2f5';
    }

    // 3. æ¸²æŸ“æ¨¡æ‹Ÿæ°”æ³¡
    previewArea.innerHTML = ''; 

    // åˆ›å»ºâ€œå¯¹æ–¹â€çš„æ°”æ³¡
    // æ³¨æ„ï¼šæˆ‘ä»¬å°†ä¸€ä¸ªè™šæ‹Ÿçš„ timestamp ä¼ å…¥ï¼Œä»¥é˜²æœ‰CSSä¾èµ–äºå®ƒ
    const aiMsg = { role: 'ai', content: 'å¯¹æ–¹æ¶ˆæ¯é¢„è§ˆ', timestamp: 1, senderName: chat.name };
    const aiBubble = createMessageElement(aiMsg, chat);
    if(aiBubble) previewArea.appendChild(aiBubble);

    // åˆ›å»ºâ€œæˆ‘â€çš„æ°”æ³¡
    const userMsg = { role: 'user', content: 'æˆ‘çš„æ¶ˆæ¯é¢„è§ˆ', timestamp: 2 };
    const userBubble = createMessageElement(userMsg, chat);
    if(userBubble) previewArea.appendChild(userBubble);
    
    // 4. åº”ç”¨è‡ªå®šä¹‰CSSåˆ°é¢„è§ˆåŒº
    applyScopedCss(customCss, '#settings-preview-area', 'preview-bubble-style');
}

// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ è¯·å°†è¿™äº›ã€æ–°å‡½æ•°ã€‘ç²˜è´´åˆ°JSåŠŸèƒ½å‡½æ•°å®šä¹‰åŒº â–¼â–¼â–¼

async function openGroupManager() {
    await renderGroupList();
    document.getElementById('group-management-modal').classList.add('visible');
}

async function renderGroupList() {
    const listEl = document.getElementById('existing-groups-list');
    const groups = await db.qzoneGroups.toArray();
    listEl.innerHTML = '';
    if (groups.length === 0) {
        listEl.innerHTML = '<p style="text-align: center; color: var(--text-secondary);">è¿˜æ²¡æœ‰ä»»ä½•åˆ†ç»„</p>';
    }
    groups.forEach(group => {
        const item = document.createElement('div');
        item.className = 'existing-group-item';
        item.innerHTML = `
            <span class="group-name">${group.name}</span>
            <span class="delete-group-btn" data-id="${group.id}">Ã—</span>
        `;
        listEl.appendChild(item);
    });
}

// â–¼â–¼â–¼ è¯·ç”¨è¿™ä¸ªã€ä¿®æ­£åã€‘çš„å‡½æ•°ï¼Œå®Œæ•´æ›¿æ¢æ—§çš„ addNewGroup å‡½æ•° â–¼â–¼â–¼
async function addNewGroup() {
    const input = document.getElementById('new-group-name-input');
    const name = input.value.trim();
    if (!name) {
        alert('åˆ†ç»„åä¸èƒ½ä¸ºç©ºï¼');
        return;
    }

    // ã€æ ¸å¿ƒä¿®æ­£ã€‘åœ¨æ·»åŠ å‰ï¼Œå…ˆæ£€æŸ¥åˆ†ç»„åæ˜¯å¦å·²å­˜åœ¨
    const existingGroup = await db.qzoneGroups.where('name').equals(name).first();
    if (existingGroup) {
        alert(`åˆ†ç»„ "${name}" å·²ç»å­˜åœ¨äº†ï¼Œæ¢ä¸ªåå­—å§ï¼`);
        return;
    }
    // ã€ä¿®æ­£ç»“æŸã€‘

    await db.qzoneGroups.add({ name });
    input.value = '';
    await renderGroupList();
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

async function deleteGroup(groupId) {
    const confirmed = await showCustomConfirm('ç¡®è®¤åˆ é™¤', 'åˆ é™¤åˆ†ç»„åï¼Œè¯¥ç»„å†…çš„å¥½å‹å°†å˜ä¸ºâ€œæœªåˆ†ç»„â€ã€‚ç¡®å®šè¦åˆ é™¤å—ï¼Ÿ', { confirmButtonClass: 'btn-danger' });
    if (confirmed) {
        await db.qzoneGroups.delete(groupId);
        // å°†å±äºè¯¥åˆ†ç»„çš„å¥½å‹çš„ groupId è®¾ä¸º null
        const chatsToUpdate = await db.chats.where('groupId').equals(groupId).toArray();
        for (const chat of chatsToUpdate) {
            chat.groupId = null;
            await db.chats.put(chat);
            if(state.chats[chat.id]) state.chats[chat.id].groupId = null;
        }
        await renderGroupList();
    }
}

// â–²â–²â–² æ–°å‡½æ•°ç²˜è´´ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ è¯·å°†è¿™ã€ä¸€æ•´å—æ–°å‡½æ•°ã€‘ç²˜è´´åˆ°JSåŠŸèƒ½å‡½æ•°å®šä¹‰åŒºçš„æœ«å°¾ â–¼â–¼â–¼

/**
 * å½“é•¿æŒ‰æ¶ˆæ¯æ—¶ï¼Œæ˜¾ç¤ºæ“ä½œèœå•
 * @param {number} timestamp - è¢«é•¿æŒ‰æ¶ˆæ¯çš„æ—¶é—´æˆ³
 */
function showMessageActions(timestamp) {
    // å¦‚æœå·²ç»åœ¨å¤šé€‰æ¨¡å¼ï¼Œåˆ™ä¸å¼¹å‡ºèœå•
    if (isSelectionMode) return;
    
    activeMessageTimestamp = timestamp;
    document.getElementById('message-actions-modal').classList.add('visible');
}

/**
 * éšè—æ¶ˆæ¯æ“ä½œèœå•
 */
function hideMessageActions() {
    document.getElementById('message-actions-modal').classList.remove('visible');
    activeMessageTimestamp = null;
}

// â–¼â–¼â–¼ ç”¨è¿™ä¸ªã€å·²æ›´æ–°ã€‘çš„ç‰ˆæœ¬ï¼Œæ›¿æ¢æ—§çš„ openMessageEditor å‡½æ•° â–¼â–¼â–¼
async function openMessageEditor() {
    if (!activeMessageTimestamp) return;

    const timestampToEdit = activeMessageTimestamp;
    const chat = state.chats[state.activeChatId];
    const message = chat.history.find(m => m.timestamp === timestampToEdit);
    if (!message) return;

    hideMessageActions(); 

    let contentForEditing;
    // ã€æ ¸å¿ƒä¿®æ­£ã€‘å°† share_link ä¹ŸåŠ å…¥ç‰¹æ®Šç±»å‹åˆ¤æ–­
    const isSpecialType = message.type && ['voice_message', 'ai_image', 'transfer', 'share_link'].includes(message.type);

    if (isSpecialType) {
        let fullMessageObject = { type: message.type };
        if (message.type === 'voice_message') fullMessageObject.content = message.content;
        else if (message.type === 'ai_image') fullMessageObject.description = message.content; 
        else if (message.type === 'transfer') {
            fullMessageObject.amount = message.amount;
            fullMessageObject.note = message.note;
        } 
        // ã€æ ¸å¿ƒä¿®æ­£ã€‘å¤„ç†åˆ†äº«é“¾æ¥ç±»å‹çš„æ¶ˆæ¯
        else if (message.type === 'share_link') {
            fullMessageObject.title = message.title;
            fullMessageObject.description = message.description;
            fullMessageObject.source_name = message.source_name;
            fullMessageObject.content = message.content;
        }
        contentForEditing = JSON.stringify(fullMessageObject, null, 2);
    } else if (typeof message.content === 'object') {
        contentForEditing = JSON.stringify(message.content, null, 2);
    } else {
        contentForEditing = message.content;
    }

    // ã€æ ¸å¿ƒä¿®æ”¹1ã€‘åœ¨è¿™é‡Œæ·»åŠ  'link' æ¨¡æ¿
    const templates = {
        voice: { type: 'voice_message', content: 'åœ¨è¿™é‡Œè¾“å…¥è¯­éŸ³å†…å®¹' },
        image: { type: 'ai_image', description: 'åœ¨è¿™é‡Œè¾“å…¥å›¾ç‰‡æè¿°' },
        transfer: { type: 'transfer', amount: 5.20, note: 'ä¸€ç‚¹å¿ƒæ„' },
        link: { type: 'share_link', title: 'æ–‡ç« æ ‡é¢˜', description: 'æ–‡ç« æ‘˜è¦...', source_name: 'æ¥æºç½‘ç«™', content: 'æ–‡ç« å®Œæ•´å†…å®¹...' }
    };

    // ã€æ ¸å¿ƒä¿®æ”¹2ã€‘åœ¨è¿™é‡Œæ·»åŠ æ–°çš„â€œé“¾æ¥â€æŒ‰é’®
    const helpersHtml = `
        <div class="format-helpers">
            <button class="format-btn" data-template='${JSON.stringify(templates.voice)}'>è¯­éŸ³</button>
            <button class="format-btn" data-template='${JSON.stringify(templates.image)}'>å›¾ç‰‡</button>
            <button class="format-btn" data-template='${JSON.stringify(templates.transfer)}'>è½¬è´¦</button>
            <button class="format-btn" data-template='${JSON.stringify(templates.link)}'>é“¾æ¥</button>
        </div>
    `;

    const newContent = await showCustomPrompt(
        'ç¼–è¾‘æ¶ˆæ¯', 
        'åœ¨æ­¤ä¿®æ”¹ï¼Œæˆ–ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®ä½¿ç”¨æ ¼å¼æ¨¡æ¿...',
        contentForEditing, 
        'textarea',
        helpersHtml
    );

    if (newContent !== null) {
        // ã€æ ¸å¿ƒä¿®æ­£ã€‘è¿™é‡Œè°ƒç”¨çš„åº”è¯¥æ˜¯ saveEditedMessageï¼Œè€Œä¸æ˜¯ saveAdvancedEditor
        await saveEditedMessage(timestampToEdit, newContent, true);
    }
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

/**
 * å¤åˆ¶æ¶ˆæ¯çš„æ–‡æœ¬å†…å®¹åˆ°å‰ªè´´æ¿
 */
async function copyMessageContent() {
    if (!activeMessageTimestamp) return;
    const chat = state.chats[state.activeChatId];
    const message = chat.history.find(m => m.timestamp === activeMessageTimestamp);
    if (!message) return;

    let textToCopy;
    if (typeof message.content === 'object') {
        textToCopy = JSON.stringify(message.content);
    } else {
        textToCopy = String(message.content);
    }

    try {
        await navigator.clipboard.writeText(textToCopy);
        await showCustomAlert('å¤åˆ¶æˆåŠŸ', 'æ¶ˆæ¯å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚');
    } catch (err) {
        await showCustomAlert('å¤åˆ¶å¤±è´¥', 'æ— æ³•è®¿é—®å‰ªè´´æ¿ã€‚');
    }
    
    hideMessageActions();
}

// â–¼â–¼â–¼ ç”¨è¿™ä¸ªã€å·²æ›´æ–°ã€‘çš„ç‰ˆæœ¬ï¼Œæ›¿æ¢æ—§çš„ createMessageEditorBlock å‡½æ•° â–¼â–¼â–¼
/**
 * åˆ›å»ºä¸€ä¸ªå¯ç¼–è¾‘çš„æ¶ˆæ¯å—ï¼ˆåŒ…å«æ–‡æœ¬æ¡†ã€æ ¼å¼åŠ©æ‰‹å’Œåˆ é™¤æŒ‰é’®ï¼‰
 * @param {string} initialContent - æ–‡æœ¬æ¡†çš„åˆå§‹å†…å®¹
 * @returns {HTMLElement} - åˆ›å»ºå¥½çš„DOMå…ƒç´ 
 */
function createMessageEditorBlock(initialContent = '') {
    const block = document.createElement('div');
    block.className = 'message-editor-block';

    // ã€æ ¸å¿ƒä¿®æ”¹1ã€‘åœ¨è¿™é‡Œæ·»åŠ  'link' æ¨¡æ¿
    const templates = {
        voice: { type: 'voice_message', content: 'åœ¨è¿™é‡Œè¾“å…¥è¯­éŸ³å†…å®¹' },
        image: { type: 'ai_image', description: 'åœ¨è¿™é‡Œè¾“å…¥å›¾ç‰‡æè¿°' },
        transfer: { type: 'transfer', amount: 5.20, note: 'ä¸€ç‚¹å¿ƒæ„' },
        link: { type: 'share_link', title: 'æ–‡ç« æ ‡é¢˜', description: 'æ–‡ç« æ‘˜è¦...', source_name: 'æ¥æºç½‘ç«™', content: 'æ–‡ç« å®Œæ•´å†…å®¹...' }
    };

    block.innerHTML = `
        <button class="delete-block-btn" title="åˆ é™¤æ­¤æ¡">Ã—</button>
        <textarea>${initialContent}</textarea>
        <div class="format-helpers">
            <button class="format-btn" data-template='${JSON.stringify(templates.voice)}'>è¯­éŸ³</button>
            <button class="format-btn" data-template='${JSON.stringify(templates.image)}'>å›¾ç‰‡</button>
            <button class="format-btn" data-template='${JSON.stringify(templates.transfer)}'>è½¬è´¦</button>
            <!-- ã€æ ¸å¿ƒä¿®æ”¹2ã€‘åœ¨è¿™é‡Œæ·»åŠ æ–°çš„â€œé“¾æ¥â€æŒ‰é’® -->
            <button class="format-btn" data-template='${JSON.stringify(templates.link)}'>é“¾æ¥</button>
        </div>
    `;

    // ç»‘å®šåˆ é™¤æŒ‰é’®äº‹ä»¶
    block.querySelector('.delete-block-btn').addEventListener('click', () => {
        // ç¡®ä¿è‡³å°‘ä¿ç•™ä¸€ä¸ªç¼–è¾‘å—
        if (document.querySelectorAll('.message-editor-block').length > 1) {
            block.remove();
        } else {
            alert('è‡³å°‘éœ€è¦ä¿ç•™ä¸€æ¡æ¶ˆæ¯ã€‚');
        }
    });

    // ç»‘å®šæ ¼å¼åŠ©æ‰‹æŒ‰é’®äº‹ä»¶
    block.querySelectorAll('.format-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            const templateStr = btn.dataset.template;
            const textarea = block.querySelector('textarea');
            if (templateStr && textarea) {
                try {
                    const templateObj = JSON.parse(templateStr);
                    textarea.value = JSON.stringify(templateObj, null, 2);
                    textarea.focus();
                } catch(e) { console.error("è§£ææ ¼å¼æ¨¡æ¿å¤±è´¥:", e); }
            }
        });
    });

    return block;
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ ã€å…¨æ–°å‡çº§ç‰ˆã€‘è¯·ç”¨æ­¤å‡½æ•°å®Œæ•´æ›¿æ¢æ—§çš„ openAdvancedMessageEditor â–¼â–¼â–¼
/**
 * æ‰“å¼€å…¨æ–°çš„ã€å¯è§†åŒ–çš„å¤šæ¶ˆæ¯ç¼–è¾‘å™¨ï¼Œå¹¶åŠ¨æ€ç»‘å®šå…¶æ‰€æœ‰æŒ‰é’®äº‹ä»¶
 */
function openAdvancedMessageEditor() {
    if (!activeMessageTimestamp) return;

    // 1. ã€æ ¸å¿ƒã€‘åœ¨å…³é—­æ—§èœå•å‰ï¼Œå°†éœ€è¦çš„æ—¶é—´æˆ³æ•è·åˆ°å±€éƒ¨å˜é‡ä¸­
    const timestampToEdit = activeMessageTimestamp;

    const chat = state.chats[state.activeChatId];
    const message = chat.history.find(m => m.timestamp === timestampToEdit);
    if (!message) return;

    // 2. ç°åœ¨å¯ä»¥å®‰å…¨åœ°å…³é—­æ—§èœå•äº†ï¼Œå› ä¸ºå®ƒä¸ä¼šå½±å“æˆ‘ä»¬çš„å±€éƒ¨å˜é‡
    hideMessageActions(); 

    const editorModal = document.getElementById('message-editor-modal');
    const editorContainer = document.getElementById('message-editor-container');
    editorContainer.innerHTML = ''; 

    // 3. å‡†å¤‡åˆå§‹å†…å®¹
    let initialContent;
    const isSpecialType = message.type && ['voice_message', 'ai_image', 'transfer'].includes(message.type);
    if (isSpecialType) {
        let fullMessageObject = { type: message.type };
        if (message.type === 'voice_message') fullMessageObject.content = message.content;
        else if (message.type === 'ai_image') fullMessageObject.description = message.content;
        else if (message.type === 'transfer') {
            fullMessageObject.amount = message.amount;
            fullMessageObject.note = message.note;
        }
        initialContent = JSON.stringify(fullMessageObject, null, 2);
    } else if (typeof message.content === 'object') {
        initialContent = JSON.stringify(message.content, null, 2);
    } else {
        initialContent = message.content;
    }

    const firstBlock = createMessageEditorBlock(initialContent);
    editorContainer.appendChild(firstBlock);

    // 4. ã€æ ¸å¿ƒã€‘åŠ¨æ€ç»‘å®šæ‰€æœ‰æ§åˆ¶æŒ‰é’®çš„äº‹ä»¶
    // ä¸ºäº†é˜²æ­¢äº‹ä»¶é‡å¤ç»‘å®šï¼Œæˆ‘ä»¬ä½¿ç”¨å…‹éš†èŠ‚ç‚¹çš„æ–¹æ³•æ¥æ¸…é™¤æ—§ç›‘å¬å™¨
    const addBtn = document.getElementById('add-message-editor-block-btn');
    const newAddBtn = addBtn.cloneNode(true);
    addBtn.parentNode.replaceChild(newAddBtn, addBtn);
    newAddBtn.addEventListener('click', () => {
        const newBlock = createMessageEditorBlock();
        editorContainer.appendChild(newBlock);
        newBlock.querySelector('textarea').focus();
    });

    const cancelBtn = document.getElementById('cancel-advanced-editor-btn');
    const newCancelBtn = cancelBtn.cloneNode(true);
    cancelBtn.parentNode.replaceChild(newCancelBtn, cancelBtn);
    newCancelBtn.addEventListener('click', () => {
        editorModal.classList.remove('visible');
    });

    const saveBtn = document.getElementById('save-advanced-editor-btn');
    const newSaveBtn = saveBtn.cloneNode(true);
    saveBtn.parentNode.replaceChild(newSaveBtn, saveBtn);
    // å°†æ•è·åˆ°çš„æ—¶é—´æˆ³ï¼Œç›´æ¥ç»‘å®šç»™è¿™ä¸€æ¬¡çš„ä¿å­˜ç‚¹å‡»äº‹ä»¶
    newSaveBtn.addEventListener('click', () => {
        saveEditedMessage(timestampToEdit); 
    });

    // 5. æœ€åï¼Œæ˜¾ç¤ºæ¨¡æ€æ¡†
    editorModal.classList.add('visible');
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

/**
 * è§£æç¼–è¾‘åçš„æ–‡æœ¬ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ ‡å‡†åŒ–çš„æ¶ˆæ¯ç‰‡æ®µå¯¹è±¡
 * @param {string} text - ç”¨æˆ·åœ¨ç¼–è¾‘æ¡†ä¸­è¾“å…¥çš„æ–‡æœ¬
 * @returns {object} - ä¸€ä¸ªåŒ…å« type, content, ç­‰å±æ€§çš„å¯¹è±¡
 */
function parseEditedContent(text) {
    const trimmedText = text.trim();

    // 1. å°è¯•è§£æä¸ºJSONå¯¹è±¡ï¼ˆç”¨äºä¿®å¤è¯­éŸ³ã€è½¬è´¦ç­‰æ ¼å¼ï¼‰
    if (trimmedText.startsWith('{') && trimmedText.endsWith('}')) {
        try {
            const parsed = JSON.parse(trimmedText);
            // å¿…é¡»åŒ…å« type å±æ€§æ‰è®¤ä¸ºæ˜¯æœ‰æ•ˆæ ¼å¼
            if (parsed.type) {
                return parsed;
            }
        } catch (e) { /* è§£æå¤±è´¥ï¼Œç»§ç»­å¾€ä¸‹èµ° */ }
    }
    
    // 2. å°è¯•è§£æä¸ºè¡¨æƒ…åŒ…
    if (STICKER_REGEX.test(trimmedText)) {
        // å¯¹äºç¼–è¾‘çš„è¡¨æƒ…ï¼Œæˆ‘ä»¬æš‚æ—¶æ— æ³•çŸ¥é“å…¶`meaning`ï¼Œæ‰€ä»¥åªå­˜URL
        return { type: 'sticker', content: trimmedText };
    }

    // 3. å¦åˆ™ï¼Œè§†ä¸ºæ™®é€šæ–‡æœ¬æ¶ˆæ¯
    return { type: 'text', content: trimmedText };
}


// â–¼â–¼â–¼ è¯·ç”¨è¿™ä¸ªã€å·²å½»åº•ä¿®å¤ã€‘çš„å‡½æ•°ï¼Œå®Œæ•´æ›¿æ¢ä½ ç°æœ‰çš„ saveEditedMessage å‡½æ•° â–¼â–¼â–¼

async function saveEditedMessage(timestamp, simpleContent = null) {
    if (!timestamp) return;

    const chat = state.chats[state.activeChatId];
    const messageIndex = chat.history.findIndex(m => m.timestamp === timestamp);
    if (messageIndex === -1) return;

    let newMessages = [];

    // åˆ¤æ–­æ˜¯æ¥è‡ªé«˜çº§ç¼–è¾‘å™¨è¿˜æ˜¯ç®€å•ç¼–è¾‘å™¨
    if (simpleContent !== null) {
        // --- æ¥è‡ªç®€å•ç¼–è¾‘å™¨ ---
        const rawContent = simpleContent.trim();
        if (rawContent) {
            const parsedResult = parseEditedContent(rawContent);
            const newMessage = {
                role: chat.history[messageIndex].role,
                senderName: chat.history[messageIndex].senderName,
                // æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬æš‚æ—¶ä¸è®¾ç½®æ—¶é—´æˆ³
                content: parsedResult.content || '',
            };
            if (parsedResult.type && parsedResult.type !== 'text') newMessage.type = parsedResult.type;
            if (parsedResult.meaning) newMessage.meaning = parsedResult.meaning;
            if (parsedResult.amount) newMessage.amount = parsedResult.amount;
            if (parsedResult.note) newMessage.note = parsedResult.note;
            if (parsedResult.title) newMessage.title = parsedResult.title;
            if (parsedResult.description) newMessage.description = parsedResult.description;
            if (parsedResult.source_name) newMessage.source_name = parsedResult.source_name;
            if (parsedResult.description && parsedResult.type === 'ai_image') {
                 newMessage.content = parsedResult.description;
            }

            newMessages.push(newMessage);
        }
    } else {
        // --- æ¥è‡ªé«˜çº§ç¼–è¾‘å™¨ ---
        const editorContainer = document.getElementById('message-editor-container');
        const editorBlocks = editorContainer.querySelectorAll('.message-editor-block');

        for (const block of editorBlocks) {
            const textarea = block.querySelector('textarea');
            const rawContent = textarea.value.trim();
            if (!rawContent) continue;

            const parsedResult = parseEditedContent(rawContent);
            const newMessage = {
                role: chat.history[messageIndex].role,
                senderName: chat.history[messageIndex].senderName,
                // åŒæ ·ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆä¸åˆ†é…æ—¶é—´æˆ³
                content: parsedResult.content || '',
            };
            
            if (parsedResult.type && parsedResult.type !== 'text') newMessage.type = parsedResult.type;
            if (parsedResult.meaning) newMessage.meaning = parsedResult.meaning;
            if (parsedResult.amount) newMessage.amount = parsedResult.amount;
            if (parsedResult.note) newMessage.note = parsedResult.note;
            if (parsedResult.title) newMessage.title = parsedResult.title;
            if (parsedResult.description) newMessage.description = parsedResult.description;
            if (parsedResult.source_name) newMessage.source_name = parsedResult.source_name;
            if (parsedResult.description && parsedResult.type === 'ai_image') {
                 newMessage.content = parsedResult.description;
            }

            newMessages.push(newMessage);
        }
    }
    
    if (newMessages.length === 0) {
        document.getElementById('message-editor-modal').classList.remove('visible');
        return; // å¦‚æœæ˜¯ç©ºæ¶ˆæ¯ï¼Œç›´æ¥è¿”å›ï¼Œä¸æ‰§è¡Œåˆ é™¤æ“ä½œ
    }

    // â˜…â˜…â˜…â˜…â˜…ã€æ ¸å¿ƒä¿®å¤é€»è¾‘å°±åœ¨è¿™é‡Œã€‘â˜…â˜…â˜…â˜…â˜…

    // 1. ä½¿ç”¨ splice å°†æ—§æ¶ˆæ¯æ›¿æ¢ä¸ºæ–°æ¶ˆæ¯ï¼ˆæ­¤æ—¶æ–°æ¶ˆæ¯è¿˜æ²¡æœ‰æ—¶é—´æˆ³ï¼‰
    chat.history.splice(messageIndex, 1, ...newMessages);

    // 2. ç¡®å®šé‡æ–°åˆ†é…æ—¶é—´æˆ³çš„èµ·ç‚¹
    // æˆ‘ä»¬ä»è¢«ç¼–è¾‘çš„æ¶ˆæ¯çš„åŸå§‹æ—¶é—´æˆ³å¼€å§‹
    let reassignTimestamp = timestamp;

    // 3. ä»è¢«ä¿®æ”¹çš„ä½ç½®å¼€å§‹ï¼Œéå†æ‰€æœ‰åç»­çš„æ¶ˆæ¯
    for (let i = messageIndex; i < chat.history.length; i++) {
        // 4. ä¸ºæ¯ä¸€æ¡æ¶ˆæ¯ï¼ˆåŒ…æ‹¬æ–°æ’å…¥çš„ï¼‰åˆ†é…ä¸€ä¸ªæ–°çš„ã€å”¯ä¸€çš„ã€è¿ç»­çš„æ—¶é—´æˆ³
        chat.history[i].timestamp = reassignTimestamp;

        // 5. å°†æ—¶é—´æˆ³+1ï¼Œä¸ºä¸‹ä¸€æ¡æ¶ˆæ¯åšå‡†å¤‡
        reassignTimestamp++; 
    }
    // â˜…â˜…â˜…â˜…â˜…ã€ä¿®å¤ç»“æŸã€‘â˜…â˜…â˜…â˜…â˜…

    await db.chats.put(chat);

    // å…³é—­å¯èƒ½æ‰“å¼€çš„æ¨¡æ€æ¡†å¹¶åˆ·æ–°UI
    document.getElementById('message-editor-modal').classList.remove('visible');
    renderChatInterface(state.activeChatId);
    await showCustomAlert('æˆåŠŸ', 'æ¶ˆæ¯å·²æ›´æ–°ï¼');
}

// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ è¯·å°†è¿™ã€ä¸€æ•´å—æ–°å‡½æ•°ã€‘ç²˜è´´åˆ°JSåŠŸèƒ½å‡½æ•°å®šä¹‰åŒºçš„æœ«å°¾ â–¼â–¼â–¼

/**
 * å½“ç‚¹å‡»â€œâ€¦â€æ—¶ï¼Œæ˜¾ç¤ºåŠ¨æ€æ“ä½œèœå•
 * @param {number} postId - è¢«æ“ä½œçš„åŠ¨æ€çš„ID
 */
function showPostActions(postId) {
    activePostId = postId;
    document.getElementById('post-actions-modal').classList.add('visible');
}

/**
 * éšè—åŠ¨æ€æ“ä½œèœå•
 */
function hidePostActions() {
    document.getElementById('post-actions-modal').classList.remove('visible');
    activePostId = null;
}

/**
 * æ‰“å¼€åŠ¨æ€ç¼–è¾‘å™¨
 */
async function openPostEditor() {
    if (!activePostId) return;

    const postIdToEdit = activePostId;
    const post = await db.qzonePosts.get(postIdToEdit);
    if (!post) return;

    hidePostActions();

    // å¿ äºåŸæ–‡ï¼šæ„å»ºå‡ºæœ€åŸå§‹çš„æ–‡æœ¬å½¢æ€ä¾›ç¼–è¾‘
    let contentForEditing;
    if (post.type === 'shuoshuo') {
        contentForEditing = post.content;
    } else {
        // å¯¹äºå›¾ç‰‡å’Œæ–‡å­—å›¾ï¼Œæˆ‘ä»¬æ„å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰ä¿¡æ¯çš„å¯¹è±¡
        const postObject = {
            type: post.type,
            publicText: post.publicText || '',
        };
        if (post.type === 'image_post') {
            postObject.imageUrl = post.imageUrl;
            postObject.imageDescription = post.imageDescription;
        } else if (post.type === 'text_image') {
            postObject.hiddenContent = post.hiddenContent;
        }
        contentForEditing = JSON.stringify(postObject, null, 2);
    }
    
    // æ„å»ºæ ¼å¼åŠ©æ‰‹æŒ‰é’®
    const templates = {
        shuoshuo: "åœ¨è¿™é‡Œè¾“å…¥è¯´è¯´çš„å†…å®¹...", // å¯¹äºè¯´è¯´ï¼Œæˆ‘ä»¬ç›´æ¥æ›¿æ¢ä¸ºçº¯æ–‡æœ¬
        image: { type: 'image_post', publicText: '', imageUrl: 'https://...', imageDescription: '' },
        text_image: { type: 'text_image', publicText: '', hiddenContent: '' }
    };
    
    const helpersHtml = `
        <div class="format-helpers">
            <button class="format-btn" data-type="text">è¯´è¯´</button>
            <button class="format-btn" data-template='${JSON.stringify(templates.image)}'>å›¾ç‰‡åŠ¨æ€</button>
            <button class="format-btn" data-template='${JSON.stringify(templates.text_image)}'>æ–‡å­—å›¾</button>
        </div>
    `;

    const newContent = await showCustomPrompt(
        'ç¼–è¾‘åŠ¨æ€',
        'åœ¨æ­¤ä¿®æ”¹å†…å®¹...',
        contentForEditing,
        'textarea',
        helpersHtml
    );
    
    // ã€ç‰¹æ®Šå¤„ç†ã€‘ä¸ºè¯´è¯´çš„æ ¼å¼åŠ©æ‰‹æŒ‰é’®æ·»åŠ ä¸åŒçš„è¡Œä¸º
    // æˆ‘ä»¬éœ€è¦åœ¨æ¨¡æ€æ¡†å‡ºç°åï¼Œå†ç»™å®ƒç»‘å®šäº‹ä»¶
    setTimeout(() => {
        const shuoshuoBtn = document.querySelector('#custom-modal-body .format-btn[data-type="text"]');
        if(shuoshuoBtn) {
            shuoshuoBtn.addEventListener('click', () => {
                const input = document.getElementById('custom-prompt-input');
                input.value = templates.shuoshuo;
                input.focus();
            });
        }
    }, 100);

    if (newContent !== null) {
        await saveEditedPost(postIdToEdit, newContent);
    }
}

/**
 * ä¿å­˜ç¼–è¾‘åçš„åŠ¨æ€
 * @param {number} postId - è¦ä¿å­˜çš„åŠ¨æ€ID
 * @param {string} newRawContent - ä»ç¼–è¾‘å™¨è·å–çš„æ–°å†…å®¹
 */
async function saveEditedPost(postId, newRawContent) {
    const post = await db.qzonePosts.get(postId);
    if (!post) return;

    const trimmedContent = newRawContent.trim();
    
    // å°è¯•è§£æä¸ºJSONï¼Œå¦‚æœå¤±è´¥ï¼Œåˆ™è®¤ä¸ºæ˜¯çº¯æ–‡æœ¬ï¼ˆè¯´è¯´ï¼‰
    try {
        const parsed = JSON.parse(trimmedContent);
        // æ›´æ–°å¸–å­å±æ€§
        post.type = parsed.type || 'image_post';
        post.publicText = parsed.publicText || '';
        post.imageUrl = parsed.imageUrl || '';
        post.imageDescription = parsed.imageDescription || '';
        post.hiddenContent = parsed.hiddenContent || '';
        post.content = ''; // æ¸…ç©ºæ—§çš„è¯´è¯´å†…å®¹å­—æ®µ
    } catch (e) {
        // è§£æå¤±è´¥ï¼Œè®¤ä¸ºæ˜¯è¯´è¯´
        post.type = 'shuoshuo';
        post.content = trimmedContent;
        // æ¸…ç©ºå…¶ä»–ç±»å‹çš„å­—æ®µ
        post.publicText = '';
        post.imageUrl = '';
        post.imageDescription = '';
        post.hiddenContent = '';
    }
    
    await db.qzonePosts.put(post);
    await renderQzonePosts(); // é‡æ–°æ¸²æŸ“åˆ—è¡¨
    await showCustomAlert('æˆåŠŸ', 'åŠ¨æ€å·²æ›´æ–°ï¼');
}

/**
 * å¤åˆ¶åŠ¨æ€å†…å®¹
 */
async function copyPostContent() {
    if (!activePostId) return;
    const post = await db.qzonePosts.get(activePostId);
    if (!post) return;
    
    let textToCopy = post.content || post.publicText || post.hiddenContent || post.imageDescription || "ï¼ˆæ— æ–‡å­—å†…å®¹ï¼‰";
    
    try {
        await navigator.clipboard.writeText(textToCopy);
        await showCustomAlert('å¤åˆ¶æˆåŠŸ', 'åŠ¨æ€å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚');
    } catch (err) {
        await showCustomAlert('å¤åˆ¶å¤±è´¥', 'æ— æ³•è®¿é—®å‰ªè´´æ¿ã€‚');
    }
    
    hidePostActions();
}

// â–¼â–¼â–¼ ã€å…¨æ–°ã€‘åˆ›å»ºç¾¤èŠä¸æ‹‰äººåŠŸèƒ½æ ¸å¿ƒå‡½æ•° â–¼â–¼â–¼
let selectedContacts = new Set();

async function openContactPickerForGroupCreate() {
    selectedContacts.clear(); // æ¸…ç©ºä¸Šæ¬¡é€‰æ‹©

    // ã€æ ¸å¿ƒä¿®å¤ã€‘åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¸ºâ€œå®Œæˆâ€æŒ‰é’®æ˜ç¡®ç»‘å®šâ€œåˆ›å»ºç¾¤èŠâ€çš„åŠŸèƒ½
    const confirmBtn = document.getElementById('confirm-contact-picker-btn');
    // ä½¿ç”¨å…‹éš†èŠ‚ç‚¹æŠ€å·§ï¼Œæ¸…é™¤æ‰ä¹‹å‰å¯èƒ½ç»‘å®šçš„ä»»ä½•å…¶ä»–äº‹ä»¶ï¼ˆæ¯”å¦‚â€œæ·»åŠ æˆå‘˜â€ï¼‰
    const newConfirmBtn = confirmBtn.cloneNode(true);
    confirmBtn.parentNode.replaceChild(newConfirmBtn, confirmBtn);
    // é‡æ–°ç»‘å®šæ­£ç¡®çš„â€œåˆ›å»ºç¾¤èŠâ€å‡½æ•°
    newConfirmBtn.addEventListener('click', handleCreateGroup);

    await renderContactPicker();
    showScreen('contact-picker-screen');
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

/**
 * æ¸²æŸ“è”ç³»äººé€‰æ‹©åˆ—è¡¨
 */
async function renderContactPicker() {
    const listEl = document.getElementById('contact-picker-list');
    listEl.innerHTML = '';

    // åªé€‰æ‹©å•èŠè§’è‰²ä½œä¸ºç¾¤æˆå‘˜å€™é€‰
    const contacts = Object.values(state.chats).filter(chat => !chat.isGroup);

    if (contacts.length === 0) {
        listEl.innerHTML = '<p style="text-align:center; color:#8a8a8a; margin-top:50px;">è¿˜æ²¡æœ‰å¯ä»¥æ‹‰è¿›ç¾¤çš„è”ç³»äººå“¦~</p>';
        return;
    }

    contacts.forEach(contact => {
        const item = document.createElement('div');
        item.className = 'contact-picker-item';
        item.dataset.contactId = contact.id;
        item.innerHTML = `
            <div class="checkbox"></div>
            <img src="${contact.settings.aiAvatar || defaultAvatar}" class="avatar">
            <span class="name">${contact.name}</span>
        `;
        listEl.appendChild(item);
    });

    updateContactPickerConfirmButton();
}

/**
 * æ›´æ–°â€œå®Œæˆâ€æŒ‰é’®çš„è®¡æ•°
 */
function updateContactPickerConfirmButton() {
    const btn = document.getElementById('confirm-contact-picker-btn');
    btn.textContent = `å®Œæˆ(${selectedContacts.size})`;
    btn.disabled = selectedContacts.size < 2; // è‡³å°‘éœ€è¦2ä¸ªäººæ‰èƒ½åˆ›å»ºç¾¤èŠ
}

/**
 * ã€é‡æ„ç‰ˆã€‘å¤„ç†åˆ›å»ºç¾¤èŠçš„æœ€ç»ˆé€»è¾‘
 */
async function handleCreateGroup() {
    if (selectedContacts.size < 2) {
        alert("åˆ›å»ºç¾¤èŠè‡³å°‘éœ€è¦é€‰æ‹©2ä¸ªè”ç³»äººã€‚");
        return;
    }

    const groupName = await showCustomPrompt('è®¾ç½®ç¾¤å', 'è¯·è¾“å…¥ç¾¤èŠçš„åå­—', 'æˆ‘ä»¬çš„ç¾¤èŠ');
    if (!groupName || !groupName.trim()) return;

    const newChatId = 'group_' + Date.now();
    const members = [];
    
    // éå†é€‰ä¸­çš„è”ç³»äººID
    for (const contactId of selectedContacts) {
        const contactChat = state.chats[contactId];
        if (contactChat) {
            // â˜…â˜…â˜…ã€æ ¸å¿ƒé‡æ„ã€‘â˜…â˜…â˜…
            // æˆ‘ä»¬ç°åœ¨åŒæ—¶å­˜å‚¨è§’è‰²çš„â€œæœ¬åâ€å’Œâ€œç¾¤æ˜µç§°â€
            members.push({
                id: contactId, 
                originalName: contactChat.name,   // è§’è‰²çš„â€œæœ¬åâ€ï¼Œç”¨äºAIè¯†åˆ«
                groupNickname: contactChat.name, // è§’è‰²çš„â€œç¾¤æ˜µç§°â€ï¼Œç”¨äºæ˜¾ç¤ºå’Œä¿®æ”¹ï¼Œåˆå§‹å€¼å’Œæœ¬åç›¸åŒ
                avatar: contactChat.settings.aiAvatar || defaultAvatar,
                persona: contactChat.settings.aiPersona,
                avatarFrame: contactChat.settings.aiAvatarFrame || ''
            });
        }
    }

    const newGroupChat = {
        id: newChatId,
        name: groupName.trim(),
        isGroup: true,
        members: members,
        settings: {
            myPersona: 'æˆ‘æ˜¯è°å‘€ã€‚',
            myNickname: 'æˆ‘',
            maxMemory: 10,
            groupAvatar: defaultGroupAvatar,
            myAvatar: defaultMyGroupAvatar,
            background: '',
            theme: 'default',
            fontSize: 13,
            customCss: '',
            linkedWorldBookIds: [],
        },
        history: [],
        musicData: { totalTime: 0 }
    };

    state.chats[newChatId] = newGroupChat;
    await db.chats.put(newGroupChat);
    
    await renderChatList();
    showScreen('chat-list-screen');
    openChat(newChatId); 
}

// â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ç¾¤æˆå‘˜ç®¡ç†æ ¸å¿ƒå‡½æ•° â–¼â–¼â–¼

/**
 * æ‰“å¼€ç¾¤æˆå‘˜ç®¡ç†å±å¹•
 */
function openMemberManagementScreen() {
    if (!state.activeChatId || !state.chats[state.activeChatId].isGroup) return;
    renderMemberManagementList();
    showScreen('member-management-screen');
}

function renderMemberManagementList() {
    const listEl = document.getElementById('member-management-list');
    const chat = state.chats[state.activeChatId];
    listEl.innerHTML = '';

    chat.members.forEach(member => {
        const item = document.createElement('div');
        item.className = 'member-management-item';
        // ã€æ ¸å¿ƒä¿®æ­£ã€‘åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†æ˜¾ç¤ºçš„åç§°ä» member.name æ”¹ä¸º member.groupNickname
        item.innerHTML = `
            <img src="${member.avatar}" class="avatar">
            <span class="name">${member.groupNickname}</span>
            <button class="remove-member-btn" data-member-id="${member.id}" title="ç§»å‡ºç¾¤èŠ">-</button>
        `;
        listEl.appendChild(item);
    });
}

/**
 * ä»ç¾¤èŠä¸­ç§»é™¤ä¸€ä¸ªæˆå‘˜
 * @param {string} memberId - è¦ç§»é™¤çš„æˆå‘˜ID
 */
async function removeMemberFromGroup(memberId) {
    const chat = state.chats[state.activeChatId];
    const memberIndex = chat.members.findIndex(m => m.id === memberId);
    
    if (memberIndex === -1) return;
    
    // å®‰å…¨æ£€æŸ¥ï¼Œç¾¤èŠè‡³å°‘ä¿ç•™2äºº
    if (chat.members.length <= 2) {
        alert("ç¾¤èŠäººæ•°ä¸èƒ½å°‘äº2äººã€‚");
        return;
    }
    
    const memberName = chat.members[memberIndex].name;
    const confirmed = await showCustomConfirm(
        'ç§»å‡ºæˆå‘˜',
        `ç¡®å®šè¦å°†â€œ${memberName}â€ç§»å‡ºç¾¤èŠå—ï¼Ÿ`,
        { confirmButtonClass: 'btn-danger' }
    );

    if (confirmed) {
        chat.members.splice(memberIndex, 1);
        await db.chats.put(chat);
        renderMemberManagementList(); // åˆ·æ–°æˆå‘˜ç®¡ç†åˆ—è¡¨
        document.getElementById('chat-settings-btn').click(); // ã€æ ¸å¿ƒä¿®æ­£ã€‘æ¨¡æ‹Ÿç‚¹å‡»è®¾ç½®æŒ‰é’®ï¼Œå¼ºåˆ¶åˆ·æ–°æ•´ä¸ªå¼¹çª—
    }
}

/**
 * æ‰“å¼€è”ç³»äººé€‰æ‹©å™¨ï¼Œç”¨äºæ‹‰äººå…¥ç¾¤
 */
async function openContactPickerForAddMember() {
    selectedContacts.clear(); // æ¸…ç©ºé€‰æ‹©
    
    const chat = state.chats[state.activeChatId];
    const existingMemberIds = new Set(chat.members.map(m => m.id));

    // æ¸²æŸ“è”ç³»äººåˆ—è¡¨ï¼Œå¹¶è‡ªåŠ¨æ’é™¤å·²åœ¨ç¾¤å†…çš„æˆå‘˜
    const listEl = document.getElementById('contact-picker-list');
    listEl.innerHTML = '';
    const contacts = Object.values(state.chats).filter(c => !c.isGroup && !existingMemberIds.has(c.id));

    if (contacts.length === 0) {
        listEl.innerHTML = '<p style="text-align:center; color:#8a8a8a; margin-top:50px;">æ²¡æœ‰æ›´å¤šå¯ä»¥é‚€è¯·çš„å¥½å‹äº†ã€‚</p>';
        document.getElementById('confirm-contact-picker-btn').style.display = 'none'; // æ²¡æœ‰äººå¯é€‰ï¼Œéšè—å®ŒæˆæŒ‰é’®
    } else {
        document.getElementById('confirm-contact-picker-btn').style.display = 'block';
        contacts.forEach(contact => {
            const item = document.createElement('div');
            item.className = 'contact-picker-item';
            item.dataset.contactId = contact.id;
            item.innerHTML = `
                <div class="checkbox"></div>
                <img src="${contact.settings.aiAvatar || defaultAvatar}" class="avatar">
                <span class="name">${contact.name}</span>
            `;
            listEl.appendChild(item);
        });
    }

    // æ›´æ–°æŒ‰é’®çŠ¶æ€å¹¶æ˜¾ç¤ºå±å¹•
    updateContactPickerConfirmButton();
    showScreen('contact-picker-screen');
}

/**
 * å¤„ç†å°†é€‰ä¸­çš„è”ç³»äººåŠ å…¥ç¾¤èŠçš„é€»è¾‘
 */
async function handleAddMembersToGroup() {
    if (selectedContacts.size === 0) {
        alert("è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªè¦æ·»åŠ çš„è”ç³»äººã€‚");
        return;
    }
    
    const chat = state.chats[state.activeChatId];

    for (const contactId of selectedContacts) {
        const contactChat = state.chats[contactId];
        if (contactChat) {
            chat.members.push({
                id: contactId,
                name: contactChat.name,
                avatar: contactChat.settings.aiAvatar || defaultAvatar,
                persona: contactChat.settings.aiPersona,
                avatarFrame: contactChat.settings.aiAvatarFrame || ''
            });
        }
    }

    await db.chats.put(chat);
    openMemberManagementScreen(); // è¿”å›åˆ°ç¾¤æˆå‘˜ç®¡ç†ç•Œé¢
    renderGroupMemberSettings(chat.members); // åŒæ—¶æ›´æ–°èŠå¤©è®¾ç½®é‡Œçš„å¤´åƒ
}

/**
 * ã€é‡æ„ç‰ˆã€‘åœ¨ç¾¤èŠä¸­åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„è™šæ‹Ÿæˆå‘˜
 */
async function createNewMemberInGroup() {
    const name = await showCustomPrompt('åˆ›å»ºæ–°æˆå‘˜', 'è¯·è¾“å…¥æ–°æˆå‘˜çš„åå­— (è¿™å°†æ˜¯TAçš„â€œæœ¬åâ€ï¼Œä¸å¯æ›´æ”¹)');
    if (!name || !name.trim()) return;

    // æ£€æŸ¥æœ¬åæ˜¯å¦å·²åœ¨ç¾¤å†…å­˜åœ¨
    const chat = state.chats[state.activeChatId];
    if (chat.members.some(m => m.originalName === name.trim())) {
        alert(`é”™è¯¯ï¼šç¾¤å†…å·²å­˜åœ¨åä¸ºâ€œ${name.trim()}â€çš„æˆå‘˜ï¼`);
        return;
    }

    const persona = await showCustomPrompt('è®¾ç½®äººè®¾', `è¯·è¾“å…¥â€œ${name}â€çš„äººè®¾`, '', 'textarea');
    if (persona === null) return; 

    // â˜…â˜…â˜…ã€æ ¸å¿ƒé‡æ„ã€‘â˜…â˜…â˜…
    // ä¸ºæ–°åˆ›å»ºçš„NPCä¹Ÿå»ºç«‹åŒé‡å‘½åæœºåˆ¶
    const newMember = {
        id: 'npc_' + Date.now(),
        originalName: name.trim(),   // æ–°æˆå‘˜çš„â€œæœ¬åâ€
        groupNickname: name.trim(), // æ–°æˆå‘˜çš„åˆå§‹â€œç¾¤æ˜µç§°â€
        avatar: defaultGroupMemberAvatar,
        persona: persona,
        avatarFrame: ''
    };

    chat.members.push(newMember);
    await db.chats.put(chat);

    renderMemberManagementList();
    renderGroupMemberSettings(chat.members); 

    alert(`æ–°æˆå‘˜â€œ${name}â€å·²æˆåŠŸåŠ å…¥ç¾¤èŠï¼`);
}

// â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¤–å–è¯·æ±‚å€’è®¡æ—¶å‡½æ•° â–¼â–¼â–¼
function startWaimaiCountdown(element, endTime) {
    const timerId = setInterval(() => {
        const now = Date.now();
        const distance = endTime - now;

        if (distance < 0) {
            clearInterval(timerId);
            element.innerHTML = '<span>å·²</span><span>è¶…</span><span>æ—¶</span>';
            return;
        }

        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);
        
        const minStr = String(minutes).padStart(2, '0');
        const secStr = String(seconds).padStart(2, '0');

        element.innerHTML = `<span>${minStr.charAt(0)}</span><span>${minStr.charAt(1)}</span> : <span>${secStr.charAt(0)}</span><span>${secStr.charAt(1)}</span>`;
    }, 1000);
    return timerId;
}

function cleanupWaimaiTimers() {
    for (const timestamp in waimaiTimers) {
        clearInterval(waimaiTimers[timestamp]);
    }
    waimaiTimers = {};
}
// â–²â–²â–² æ–°å‡½æ•°ç²˜è´´ç»“æŸ â–²â–²â–²

async function handleWaimaiResponse(originalTimestamp, choice) {
    const chat = state.chats[state.activeChatId];
    if (!chat) return;

    const messageIndex = chat.history.findIndex(m => m.timestamp === originalTimestamp);
    if (messageIndex === -1) return;

    // 1. æ›´æ–°åŸå§‹æ¶ˆæ¯çš„çŠ¶æ€
    const originalMessage = chat.history[messageIndex];
    originalMessage.status = choice;
    
    // ã€æ ¸å¿ƒä¿®æ­£ã€‘è®°å½•æ”¯ä»˜è€…ï¼Œå¹¶æ„å»ºå¯¹AIæ›´æ¸…æ™°çš„ç³»ç»Ÿæ¶ˆæ¯
    let systemContent;
    const myNickname = chat.isGroup ? (chat.settings.myNickname || 'æˆ‘') : 'æˆ‘';
    
    if (choice === 'paid') {
        originalMessage.paidBy = myNickname; // è®°å½•æ˜¯ç”¨æˆ·ä»˜çš„é’±
        systemContent = `[ç³»ç»Ÿæç¤ºï¼šä½  (${myNickname}) ä¸º ${originalMessage.senderName} çš„å¤–å–è®¢å•ï¼ˆæ—¶é—´æˆ³: ${originalTimestamp}ï¼‰å®Œæˆäº†æ”¯ä»˜ã€‚æ­¤è®¢å•å·²å…³é—­ï¼Œå…¶ä»–æˆå‘˜ä¸èƒ½å†æ”¯ä»˜ã€‚]`;
    } else {
        systemContent = `[ç³»ç»Ÿæç¤ºï¼šä½  (${myNickname}) æ‹’ç»äº† ${originalMessage.senderName} çš„å¤–å–ä»£ä»˜è¯·æ±‚ï¼ˆæ—¶é—´æˆ³: ${originalTimestamp}ï¼‰ã€‚]`;
    }

    // 2. åˆ›å»ºä¸€æ¡æ–°çš„ã€å¯¹ç”¨æˆ·éšè—çš„ç³»ç»Ÿæ¶ˆæ¯ï¼Œå‘ŠçŸ¥AIç»“æœ
    const systemNote = {
        role: 'system',
        content: systemContent,
        timestamp: Date.now(),
        isHidden: true
    };
    chat.history.push(systemNote);

    // 3. ä¿å­˜æ›´æ–°åˆ°æ•°æ®åº“å¹¶åˆ·æ–°UI
    await db.chats.put(chat);
    renderChatInterface(state.activeChatId);  
}

let videoCallState = {
    isActive: false,       
    isAwaitingResponse: false, 
    isGroupCall: false,      
    activeChatId: null,    
    initiator: null,       
    startTime: null,       
    participants: [],      
    isUserParticipating: true,
    // --- ã€æ ¸å¿ƒæ–°å¢ã€‘---
    callHistory: [], // ç”¨äºå­˜å‚¨é€šè¯ä¸­çš„å¯¹è¯å†å²
    preCallContext: "" // ç”¨äºå­˜å‚¨é€šè¯å‰çš„èŠå¤©æ‘˜è¦
};

let callTimerInterval = null; // ç”¨äºå­˜å‚¨è®¡æ—¶å™¨çš„ID

/**
 * ã€æ€»å…¥å£ã€‘ç”¨æˆ·ç‚¹å‡»â€œå‘èµ·è§†é¢‘é€šè¯â€æˆ–â€œå‘èµ·ç¾¤è§†é¢‘â€æŒ‰é’®
 */
async function handleInitiateCall() {
    if (!state.activeChatId || videoCallState.isActive || videoCallState.isAwaitingResponse) return;

    const chat = state.chats[state.activeChatId];
    videoCallState.isGroupCall = chat.isGroup;
    videoCallState.isAwaitingResponse = true;
    videoCallState.initiator = 'user';
    videoCallState.activeChatId = chat.id;
    videoCallState.isUserParticipating = true; // ç”¨æˆ·è‡ªå·±å‘èµ·çš„ï¼Œå½“ç„¶æ˜¯å‚ä¸è€…

    // æ ¹æ®æ˜¯å•èŠè¿˜æ˜¯ç¾¤èŠï¼Œæ˜¾ç¤ºä¸åŒçš„å‘¼å«ç•Œé¢
    if (chat.isGroup) {
        document.getElementById('outgoing-call-avatar').src = chat.settings.myAvatar || defaultMyGroupAvatar;
        document.getElementById('outgoing-call-name').textContent = chat.settings.myNickname || 'æˆ‘';
    } else {
        document.getElementById('outgoing-call-avatar').src = chat.settings.aiAvatar || defaultAvatar;
        document.getElementById('outgoing-call-name').textContent = chat.name;
    }
    document.querySelector('#outgoing-call-screen .caller-text').textContent = chat.isGroup ? "æ­£åœ¨å‘¼å«æ‰€æœ‰æˆå‘˜..." : "æ­£åœ¨å‘¼å«...";
    showScreen('outgoing-call-screen');
    
    // å‡†å¤‡å¹¶å‘é€ç³»ç»Ÿæ¶ˆæ¯ç»™AI
    const requestMessage = {
        role: 'system',
        content: chat.isGroup 
            ? `[ç³»ç»Ÿæç¤ºï¼šç”¨æˆ· (${chat.settings.myNickname || 'æˆ‘'}) å‘èµ·äº†ç¾¤è§†é¢‘é€šè¯è¯·æ±‚ã€‚è¯·ä½ ä»¬å„è‡ªå†³ç­–ï¼Œå¹¶ä½¿ç”¨ "group_call_response" æŒ‡ä»¤ï¼Œè®¾ç½® "decision" ä¸º "join" æˆ– "decline" æ¥å›åº”ã€‚]`
            : `[ç³»ç»Ÿæç¤ºï¼šç”¨æˆ·å‘ä½ å‘èµ·äº†è§†é¢‘é€šè¯è¯·æ±‚ã€‚è¯·æ ¹æ®ä½ çš„äººè®¾ï¼Œä½¿ç”¨ "video_call_response" æŒ‡ä»¤ï¼Œå¹¶è®¾ç½® "decision" ä¸º "accept" æˆ– "reject" æ¥å›åº”ã€‚]`,
        timestamp: Date.now(),
        isHidden: true,
    };
    chat.history.push(requestMessage);
    await db.chats.put(chat);
    
    // è§¦å‘AIå“åº”
    await triggerAiResponse();
}


function startVideoCall() {
    const chat = state.chats[videoCallState.activeChatId];
    if (!chat) return;

    videoCallState.isActive = true;
    videoCallState.isAwaitingResponse = false;
    videoCallState.startTime = Date.now();
    videoCallState.callHistory = []; // ã€æ–°å¢ã€‘æ¸…ç©ºä¸Šä¸€æ¬¡é€šè¯çš„å†å²

    // --- ã€æ ¸å¿ƒæ–°å¢ï¼šæŠ“å–é€šè¯å‰ä¸Šä¸‹æ–‡ã€‘---
    const preCallHistory = chat.history.slice(-10); // å–æœ€å10æ¡ä½œä¸ºä¸Šä¸‹æ–‡
    videoCallState.preCallContext = preCallHistory.map(msg => {
        const sender = msg.role === 'user' ? (chat.settings.myNickname || 'æˆ‘') : (msg.senderName || chat.name);
        return `${sender}: ${String(msg.content).substring(0, 50)}...`;
    }).join('\n');
    // --- æ–°å¢ç»“æŸ ---

    updateParticipantAvatars(); 
    
    document.getElementById('video-call-main').innerHTML = `<em>${videoCallState.isGroupCall ? 'ç¾¤èŠå·²å»ºç«‹...' : 'æ­£åœ¨æ¥é€š...'}</em>`;
    showScreen('video-call-screen');

    document.getElementById('user-speak-btn').style.display = videoCallState.isUserParticipating ? 'block' : 'none';
    document.getElementById('join-call-btn').style.display = videoCallState.isUserParticipating ? 'none' : 'block';

    if (callTimerInterval) clearInterval(callTimerInterval);
    callTimerInterval = setInterval(updateCallTimer, 1000);
    updateCallTimer();

    triggerAiInCallAction();
}

/**
 * ã€æ ¸å¿ƒã€‘ç»“æŸè§†é¢‘é€šè¯
 */
// â–¼â–¼â–¼ ç”¨è¿™æ•´å—ä»£ç æ›¿æ¢æ—§çš„ endVideoCall å‡½æ•° â–¼â–¼â–¼
async function endVideoCall() {
    if (!videoCallState.isActive) return;

    const duration = Math.floor((Date.now() - videoCallState.startTime) / 1000);
    const durationText = `${Math.floor(duration / 60)}åˆ†${duration % 60}ç§’`;
    const endCallText = `é€šè¯ç»“æŸï¼Œæ—¶é•¿ ${durationText}`;

    const chat = state.chats[videoCallState.activeChatId];
    if (chat) {
        // 1. ä¿å­˜å®Œæ•´çš„é€šè¯è®°å½•åˆ°æ•°æ®åº“ (è¿™éƒ¨åˆ†é€»è¾‘ä¸å˜)
        const participantsData = [];
        if (videoCallState.isGroupCall) {
            videoCallState.participants.forEach(p => participantsData.push({ name: p.originalName, avatar: p.avatar }));
            if (videoCallState.isUserParticipating) {
                participantsData.unshift({ name: chat.settings.myNickname || 'æˆ‘', avatar: chat.settings.myAvatar || defaultMyGroupAvatar });
            }
        } else {
            participantsData.push({ name: chat.name, avatar: chat.settings.aiAvatar || defaultAvatar });
            participantsData.unshift({ name: 'æˆ‘', avatar: chat.settings.myAvatar || defaultAvatar });
        }
        
        const callRecord = {
            chatId: videoCallState.activeChatId,
            timestamp: Date.now(),
            duration: duration,
            participants: participantsData,
            transcript: [...videoCallState.callHistory]
        };
        await db.callRecords.add(callRecord);
        console.log("é€šè¯è®°å½•å·²ä¿å­˜:", callRecord);
        
        // 2. åœ¨èŠå¤©è®°å½•é‡Œæ·»åŠ å¯¹ç”¨æˆ·å¯è§çš„â€œé€šè¯ç»“æŸâ€æ¶ˆæ¯
let summaryMessage = {
    // ã€æ ¸å¿ƒä¿®æ­£1ã€‘role ç”± videoCallState.initiator å†³å®š
    role: videoCallState.initiator === 'user' ? 'user' : 'assistant',
    content: endCallText,
    timestamp: Date.now(),
};

// ã€æ ¸å¿ƒä¿®æ­£2ã€‘ä¸ºç¾¤èŠçš„ assistant æ¶ˆæ¯è¡¥å…… senderName
if (chat.isGroup && summaryMessage.role === 'assistant') {
    // åœ¨ç¾¤èŠä¸­ï¼Œé€šè¯ç»“æŸçš„æ¶ˆæ¯åº”è¯¥ç”±â€œå‘èµ·è€…â€æ¥è¯´
    // videoCallState.callRequester ä¿å­˜äº†æœ€åˆå‘èµ·é€šè¯çš„é‚£ä¸ªAIçš„åå­—
    summaryMessage.senderName = videoCallState.callRequester || chat.members[0]?.originalName || chat.name;
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²
        chat.history.push(summaryMessage);

        // 3. ã€æ ¸å¿ƒå˜é©ã€‘åˆ›å»ºå¹¶æ·»åŠ å¯¹ç”¨æˆ·éšè—çš„â€œé€šè¯åæ±‡æŠ¥â€æŒ‡ä»¤
        const callTranscriptForAI = videoCallState.callHistory.map(h => `${h.role === 'user' ? (chat.settings.myNickname || 'æˆ‘') : h.role}: ${h.content}`).join('\n');
        
        const hiddenReportInstruction = {
            role: 'system',
    content: `[ç³»ç»ŸæŒ‡ä»¤ï¼šè§†é¢‘é€šè¯åˆšåˆšç»“æŸã€‚è¯·ä½ æ ¹æ®å®Œæ•´çš„é€šè¯æ–‡å­—è®°å½•ï¼ˆè§ä¸‹æ–¹ï¼‰ï¼Œä»¥ä½ çš„è§’è‰²å£å»ï¼Œå‘ç”¨æˆ·ä¸»åŠ¨å‘é€å‡ æ¡ã€æ ¼å¼ä¸º {"type": "text", "content": "..."} çš„ã€‘æ¶ˆæ¯ï¼Œæ¥è‡ªç„¶åœ°æ€»ç»“è¿™æ¬¡é€šè¯çš„è¦ç‚¹ã€ç¡®è®¤è¾¾æˆçš„çº¦å®šï¼Œæˆ–è€…è¡¨è¾¾ä½ çš„æ„Ÿå—ã€‚è¿™å¾ˆé‡è¦ï¼Œèƒ½è®©ç”¨æˆ·æ„Ÿè§‰ä½ è®°å¾—é€šè¯å†…å®¹ã€‚]\n---é€šè¯è®°å½•å¼€å§‹---\n${callTranscriptForAI}\n---é€šè¯è®°å½•ç»“æŸ---`,
            timestamp: Date.now() + 1, // ç¡®ä¿åœ¨ä¸Šä¸€æ¡æ¶ˆæ¯ä¹‹å
            isHidden: true
        };
        chat.history.push(hiddenReportInstruction);

        // 4. ä¿å­˜æ‰€æœ‰æ›´æ–°åˆ°æ•°æ®åº“
        await db.chats.put(chat);
    }
    
    // 5. æ¸…ç†å’Œé‡ç½®çŠ¶æ€ (è¿™éƒ¨åˆ†é€»è¾‘ä¸å˜)
    clearInterval(callTimerInterval);
    callTimerInterval = null;
    videoCallState = { isActive: false, isAwaitingResponse: false, isGroupCall: false, activeChatId: null, initiator: null, startTime: null, participants: [], isUserParticipating: true, callHistory: [], preCallContext: "" };
    
    // 6. è¿”å›èŠå¤©ç•Œé¢å¹¶è§¦å‘AIå“åº”ï¼ˆAIä¼šè¯»å–åˆ°æˆ‘ä»¬çš„â€œæ±‡æŠ¥â€æŒ‡ä»¤ï¼‰
    if (chat) {
        openChat(chat.id);
        triggerAiResponse(); // å…³é”®ä¸€æ­¥ï¼
    }
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

/**
 * ã€å…¨æ–°ã€‘æ›´æ–°é€šè¯ç•Œé¢çš„å‚ä¸è€…å¤´åƒç½‘æ ¼
 */
function updateParticipantAvatars() {
    const grid = document.getElementById('participant-avatars-grid');
    grid.innerHTML = '';
    const chat = state.chats[videoCallState.activeChatId];
    if (!chat) return;

    let participantsToRender = [];

    // â˜… æ ¸å¿ƒä¿®æ­£ï¼šåŒºåˆ†ç¾¤èŠå’Œå•èŠ
    if (videoCallState.isGroupCall) {
        // ç¾¤èŠé€»è¾‘ï¼šæ˜¾ç¤ºæ‰€æœ‰å·²åŠ å…¥çš„AIæˆå‘˜
        participantsToRender = [...videoCallState.participants];
        // å¦‚æœç”¨æˆ·ä¹Ÿå‚ä¸äº†ï¼Œå°±æŠŠç”¨æˆ·ä¿¡æ¯ä¹ŸåŠ è¿›å»
        if (videoCallState.isUserParticipating) {
            participantsToRender.unshift({
                id: 'user',
                name: chat.settings.myNickname || 'æˆ‘',
                avatar: chat.settings.myAvatar || defaultMyGroupAvatar
            });
        }
    } else {
        // å•èŠé€»è¾‘ï¼šåªæ˜¾ç¤ºå¯¹æ–¹çš„å¤´åƒå’Œåå­—
        participantsToRender.push({
            id: 'ai',
            name: chat.name,
            avatar: chat.settings.aiAvatar || defaultAvatar
        });
    }
    
    participantsToRender.forEach(p => {
        const wrapper = document.createElement('div');
        wrapper.className = 'participant-avatar-wrapper';
        wrapper.dataset.participantId = p.id;
        wrapper.innerHTML = `
            <img src="${p.avatar}" class="participant-avatar" alt="${p.name}">
            <div class="participant-name">${p.name}</div>
        `;
        grid.appendChild(wrapper);
    });
}

/**
 * ã€å…¨æ–°ã€‘å¤„ç†ç”¨æˆ·åŠ å…¥/é‡æ–°åŠ å…¥é€šè¯
 */
function handleUserJoinCall() {
    if (!videoCallState.isActive || videoCallState.isUserParticipating) return;
    
    videoCallState.isUserParticipating = true;
    updateParticipantAvatars(); // æ›´æ–°å¤´åƒåˆ—è¡¨ï¼ŒåŠ å…¥ç”¨æˆ·

    // åˆ‡æ¢åº•éƒ¨æŒ‰é’®
    document.getElementById('user-speak-btn').style.display = 'block';
    document.getElementById('join-call-btn').style.display = 'none';

    // å‘ŠçŸ¥AIç”¨æˆ·åŠ å…¥äº†
    triggerAiInCallAction("[ç³»ç»Ÿæç¤ºï¼šç”¨æˆ·åŠ å…¥äº†é€šè¯]");
}


/**
 * æ›´æ–°é€šè¯è®¡æ—¶å™¨æ˜¾ç¤º (ä¿æŒä¸å˜)
 */
function updateCallTimer() {
    if (!videoCallState.isActive) return;
    const elapsed = Math.floor((Date.now() - videoCallState.startTime) / 1000);
    const minutes = Math.floor(elapsed / 60);
    const seconds = elapsed % 60;
    document.getElementById('call-timer').textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
}

// â–¼â–¼â–¼ ç”¨è¿™ä¸ªå®Œæ•´å‡½æ•°æ›¿æ¢æ—§çš„ showIncomingCallModal â–¼â–¼â–¼
function showIncomingCallModal() {
    const chat = state.chats[state.activeChatId];
    if (!chat) return;

    // æ ¹æ®æ˜¯å¦ç¾¤èŠæ˜¾ç¤ºä¸åŒä¿¡æ¯
    if (chat.isGroup) {
        // ä» videoCallState ä¸­è·å–æ˜¯å“ªä¸ªæˆå‘˜å‘èµ·çš„é€šè¯
        const requesterName = videoCallState.callRequester || chat.members[0]?.name || 'ä¸€ä½æˆå‘˜';
        document.getElementById('caller-avatar').src = chat.settings.groupAvatar || defaultGroupAvatar;
        document.getElementById('caller-name').textContent = chat.name; // æ˜¾ç¤ºç¾¤å
        document.querySelector('.incoming-call-content .caller-text').textContent = `${requesterName} é‚€è¯·ä½ åŠ å…¥ç¾¤è§†é¢‘`; // æ˜¾ç¤ºå…·ä½“å‘èµ·äºº
    } else {
        // å•èŠé€»è¾‘ä¿æŒä¸å˜
        document.getElementById('caller-avatar').src = chat.settings.aiAvatar || defaultAvatar;
        document.getElementById('caller-name').textContent = chat.name;
        document.querySelector('.incoming-call-content .caller-text').textContent = 'é‚€è¯·ä½ è§†é¢‘é€šè¯';
    }
    
    document.getElementById('incoming-call-modal').classList.add('visible');
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

/**
 * éšè—AIå‘èµ·çš„é€šè¯è¯·æ±‚æ¨¡æ€æ¡† (ä¿æŒä¸å˜)
 */
function hideIncomingCallModal() {
    document.getElementById('incoming-call-modal').classList.remove('visible');
}

async function triggerAiInCallAction(userInput = null) {
    if (!videoCallState.isActive) return;

    const chat = state.chats[videoCallState.activeChatId];
    const { proxyUrl, apiKey, model } = state.apiConfig;
    const callFeed = document.getElementById('video-call-main');
    const userNickname = chat.settings.myNickname || 'æˆ‘';

    // â–¼â–¼â–¼ åœ¨è¿™é‡Œæ·»åŠ ä¸–ç•Œä¹¦è¯»å–é€»è¾‘ â–¼â–¼â–¼
    let worldBookContent = '';
    if (chat.settings.linkedWorldBookIds && chat.settings.linkedWorldBookIds.length > 0) {
        const linkedContents = chat.settings.linkedWorldBookIds.map(bookId => {
            const worldBook = state.worldBooks.find(wb => wb.id === bookId);
            return worldBook && worldBook.content ? `\n\n## ä¸–ç•Œä¹¦: ${worldBook.name}\n${worldBook.content}` : '';
        }).filter(Boolean).join('');
        if (linkedContents) {
            worldBookContent = `\n\n# æ ¸å¿ƒä¸–ç•Œè§‚è®¾å®š (ä½ å¿…é¡»ä¸¥æ ¼éµå®ˆ)\n${linkedContents}\n`;
        }
    }
    // â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

    // 1. å¦‚æœç”¨æˆ·æœ‰è¾“å…¥ï¼Œå…ˆæ¸²æŸ“å¹¶å­˜å…¥é€šè¯å†å²
    if (userInput && videoCallState.isUserParticipating) {
        const userBubble = document.createElement('div');
        userBubble.className = 'call-message-bubble user-speech';
        userBubble.textContent = userInput;
        callFeed.appendChild(userBubble);
        callFeed.scrollTop = callFeed.scrollHeight;
        videoCallState.callHistory.push({ role: 'user', content: userInput });
    }

    // 2. æ„å»ºå…¨æ–°çš„ã€åŒ…å«å®Œæ•´ä¸Šä¸‹æ–‡çš„ System Prompt
    let inCallPrompt;
    if (videoCallState.isGroupCall) {
        const participantNames = videoCallState.participants.map(p => p.name);
        if(videoCallState.isUserParticipating) {
            participantNames.unshift(userNickname);
        }
        inCallPrompt = `
# ä½ çš„ä»»åŠ¡
ä½ æ˜¯ä¸€ä¸ªç¾¤èŠè§†é¢‘é€šè¯çš„å¯¼æ¼”ã€‚ä½ çš„ä»»åŠ¡æ˜¯æ‰®æ¼”æ‰€æœ‰ã€é™¤äº†ç”¨æˆ·ä»¥å¤–ã€‘çš„AIè§’è‰²ï¼Œå¹¶ä»¥ã€ç¬¬ä¸‰äººç§°æ—è§‚è§†è§’ã€‘æ¥æè¿°ä»–ä»¬åœ¨é€šè¯ä¸­çš„æ‰€æœ‰åŠ¨ä½œå’Œè¯­è¨€ã€‚
# æ ¸å¿ƒè§„åˆ™
1.  **ã€ã€ã€èº«ä»½é“å¾‹ã€‘ã€‘ã€‘**: ç”¨æˆ·çš„èº«ä»½æ˜¯ã€${userNickname}ã€‘ã€‚ä½ ã€ç»å¯¹ä¸èƒ½ã€‘ç”Ÿæˆ \`name\` å­—æ®µä¸º **"${userNickname}"** çš„å‘è¨€ã€‚
2.  **ã€ã€ã€è§†è§’é“å¾‹ã€‘ã€‘ã€‘**: ä½ çš„å›å¤ã€ç»å¯¹ä¸èƒ½ã€‘ä½¿ç”¨ç¬¬ä¸€äººç§°â€œæˆ‘â€ã€‚
3.  **æ ¼å¼**: ä½ çš„å›å¤ã€å¿…é¡»ã€‘æ˜¯ä¸€ä¸ªJSONæ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡ä»£è¡¨ä¸€ä¸ªè§’è‰²çš„å‘è¨€ï¼Œæ ¼å¼ä¸ºï¼š\`{"name": "è§’è‰²å", "speech": "*ä»–ç¬‘äº†ç¬‘* å¤§å®¶å¥½å•Šï¼"}\`ã€‚
4.  **è§’è‰²æ‰®æ¼”**: ä¸¥æ ¼éµå®ˆæ¯ä¸ªè§’è‰²çš„è®¾å®šã€‚
# å½“å‰æƒ…æ™¯
ä½ ä»¬æ­£åœ¨ä¸€ä¸ªç¾¤è§†é¢‘é€šè¯ä¸­ã€‚
**é€šè¯å‰çš„èŠå¤©æ‘˜è¦**:
${videoCallState.preCallContext}
**å½“å‰å‚ä¸è€…**: ${participantNames.join('ã€ ')}ã€‚
**é€šè¯åˆšåˆšå¼€å§‹...**
${worldBookContent} // <-- ã€æ ¸å¿ƒã€‘æ³¨å…¥ä¸–ç•Œä¹¦
ç°åœ¨ï¼Œè¯·æ ¹æ®ã€é€šè¯å‰æ‘˜è¦ã€‘å’Œä¸‹é¢çš„ã€é€šè¯å®æ—¶è®°å½•ã€‘ï¼Œç»§ç»­è¿›è¡Œå¯¹è¯ã€‚
`;
    } else { 
        let openingContext = videoCallState.initiator === 'user'
            ? `ä½ åˆšåˆšæ¥å¬äº†ç”¨æˆ·çš„è§†é¢‘é€šè¯è¯·æ±‚ã€‚`
            : `ç”¨æˆ·åˆšåˆšæ¥å¬äº†ä½ ä¸»åŠ¨å‘èµ·çš„è§†é¢‘é€šè¯ã€‚`;
        inCallPrompt = `
# ä½ çš„ä»»åŠ¡
ä½ ç°åœ¨æ˜¯ä¸€ä¸ªåœºæ™¯æè¿°å¼•æ“ã€‚ä½ çš„ä»»åŠ¡æ˜¯æ‰®æ¼” ${chat.name} (${chat.settings.aiPersona})ï¼Œå¹¶ä»¥ã€ç¬¬ä¸‰äººç§°æ—è§‚è§†è§’ã€‘æ¥æè¿°TAåœ¨è§†é¢‘é€šè¯ä¸­çš„æ‰€æœ‰åŠ¨ä½œå’Œè¯­è¨€ã€‚
# æ ¸å¿ƒè§„åˆ™
1.  **ã€ã€ã€è§†è§’é“å¾‹ã€‘ã€‘ã€‘**: ä½ çš„å›å¤ã€ç»å¯¹ä¸èƒ½ã€‘ä½¿ç”¨ç¬¬ä¸€äººç§°â€œæˆ‘â€ã€‚å¿…é¡»ä½¿ç”¨ç¬¬ä¸‰äººç§°ï¼Œå¦‚â€œä»–â€ã€â€œå¥¹â€ã€æˆ–ç›´æ¥ä½¿ç”¨è§’è‰²åâ€œ${chat.name}â€ã€‚
2.  **æ ¼å¼**: ä½ çš„å›å¤ã€å¿…é¡»ã€‘æ˜¯ä¸€æ®µæè¿°æ€§çš„æ–‡æœ¬ã€‚
# å½“å‰æƒ…æ™¯
ä½ æ­£åœ¨å’Œç”¨æˆ·ï¼ˆ${userNickname}ï¼Œäººè®¾: ${chat.settings.myPersona}ï¼‰è¿›è¡Œè§†é¢‘é€šè¯ã€‚
**${openingContext}**
**é€šè¯å‰çš„èŠå¤©æ‘˜è¦ (è¿™æ˜¯ä½ ä»¬é€šè¯çš„åŸå› ï¼Œè‡³å…³é‡è¦ï¼)**:
${videoCallState.preCallContext}
ç°åœ¨ï¼Œè¯·æ ¹æ®ã€é€šè¯å‰æ‘˜è¦ã€‘å’Œä¸‹é¢çš„ã€é€šè¯å®æ—¶è®°å½•ã€‘ï¼Œç»§ç»­è¿›è¡Œå¯¹è¯ã€‚
`;
    }
    
    // 3. æ„å»ºå‘é€ç»™APIçš„ messages æ•°ç»„
    const messagesForApi = [
        { role: 'system', content: inCallPrompt },
        // å°†å·²æœ‰çš„é€šè¯å†å²åŠ è¿›å»
        ...videoCallState.callHistory.map(h => ({ role: h.role, content: h.content }))
    ];

    // --- ã€æ ¸å¿ƒä¿®å¤ï¼šç¡®ä¿ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶æœ‰å†…å®¹ã€‘---
    if (videoCallState.callHistory.length === 0) {
        const firstLineTrigger = videoCallState.initiator === 'user' ? `*ä½ æŒ‰ä¸‹äº†æ¥å¬é”®...*` : `*å¯¹æ–¹æŒ‰ä¸‹äº†æ¥å¬é”®...*`;
        messagesForApi.push({ role: 'user', content: firstLineTrigger });
    }
    // --- ä¿®å¤ç»“æŸ ---
    
    try {
        const response = await fetch(`${proxyUrl}/v1/chat/completions`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${apiKey}` },
            body: JSON.stringify({
                model: model, messages: messagesForApi, temperature: 0.8
            })
        });
        if (!response.ok) throw new Error((await response.json()).error.message);
        
        const data = await response.json();
        const aiResponse = data.choices[0].message.content;

        const connectingElement = callFeed.querySelector('em');
        if (connectingElement) connectingElement.remove();

        // 4. å¤„ç†AIè¿”å›çš„å†…å®¹ï¼Œå¹¶å°†å…¶å­˜å…¥é€šè¯å†å²
        if (videoCallState.isGroupCall) {
            const speechArray = parseAiResponse(aiResponse);
            speechArray.forEach(turn => {
                if (!turn.name || turn.name === userNickname || !turn.speech) return;
                const aiBubble = document.createElement('div');
                aiBubble.className = 'call-message-bubble ai-speech';
                aiBubble.innerHTML = `<strong>${turn.name}:</strong> ${turn.speech}`;
                callFeed.appendChild(aiBubble);
                videoCallState.callHistory.push({ role: 'assistant', content: `${turn.name}: ${turn.speech}` });
                
                const speaker = videoCallState.participants.find(p => p.name === turn.name);
                if (speaker) {
                    const speakingAvatar = document.querySelector(`.participant-avatar-wrapper[data-participant-id="${speaker.id}"] .participant-avatar`);
                    if(speakingAvatar) {
                        speakingAvatar.classList.add('speaking');
                        setTimeout(() => speakingAvatar.classList.remove('speaking'), 2000);
                    }
                }
            });
        } else {
            const aiBubble = document.createElement('div');
            aiBubble.className = 'call-message-bubble ai-speech';
            aiBubble.textContent = aiResponse;
            callFeed.appendChild(aiBubble);
            videoCallState.callHistory.push({ role: 'assistant', content: aiResponse });

            const speakingAvatar = document.querySelector(`.participant-avatar-wrapper .participant-avatar`);
            if(speakingAvatar) {
                speakingAvatar.classList.add('speaking');
                setTimeout(() => speakingAvatar.classList.remove('speaking'), 2000);
            }
        }
        
        callFeed.scrollTop = callFeed.scrollHeight;

    } catch (error) {
        const errorBubble = document.createElement('div');
        errorBubble.className = 'call-message-bubble ai-speech';
        errorBubble.style.color = '#ff8a80';
        errorBubble.textContent = `[ERROR: ${error.message}]`;
        callFeed.appendChild(errorBubble);
        callFeed.scrollTop = callFeed.scrollHeight;
        videoCallState.callHistory.push({ role: 'assistant', content: `[ERROR: ${error.message}]` });
    }
}

// â–¼â–¼â–¼ å°†è¿™ä¸ªã€å…¨æ–°å‡½æ•°ã€‘ç²˜è´´åˆ°JSåŠŸèƒ½å‡½æ•°å®šä¹‰åŒº â–¼â–¼â–¼
function toggleCallButtons(isGroup) {
    document.getElementById('video-call-btn').style.display = isGroup ? 'none' : 'flex';
    document.getElementById('group-video-call-btn').style.display = isGroup ? 'flex' : 'none';
}
// â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™ä¸ªå‡½æ•°æ˜¯æœ¬æ¬¡ä¿®å¤çš„æ ¸å¿ƒï¼Œè¯·ç²˜è´´åˆ°ä½ çš„JSåŠŸèƒ½åŒº â–¼â–¼â–¼
async function handleWaimaiResponse(originalTimestamp, choice) {
    const chat = state.chats[state.activeChatId];
    if (!chat) return;

    const messageIndex = chat.history.findIndex(m => m.timestamp === originalTimestamp);
    if (messageIndex === -1) return;

    // 1. æ›´æ–°å†…å­˜ä¸­åŸå§‹æ¶ˆæ¯çš„çŠ¶æ€
    const originalMessage = chat.history[messageIndex];
    originalMessage.status = choice;
    
    // 2. è·å–å½“å‰ç”¨æˆ·çš„æ˜µç§°ï¼Œå¹¶æ„å»ºå¯¹AIæ›´æ¸…æ™°çš„ç³»ç»Ÿæ¶ˆæ¯
    let systemContent;
    const myNickname = chat.isGroup ? (chat.settings.myNickname || 'æˆ‘') : 'æˆ‘';
    
    if (choice === 'paid') {
        originalMessage.paidBy = myNickname; // è®°å½•æ˜¯â€œæˆ‘â€ä»˜çš„é’±
        systemContent = `[ç³»ç»Ÿæç¤ºï¼šä½  (${myNickname}) ä¸º ${originalMessage.senderName} çš„å¤–å–è®¢å•ï¼ˆæ—¶é—´æˆ³: ${originalTimestamp}ï¼‰å®Œæˆäº†æ”¯ä»˜ã€‚æ­¤è®¢å•å·²å…³é—­ï¼Œå…¶ä»–æˆå‘˜ä¸èƒ½å†æ”¯ä»˜ã€‚]`;
    } else {
        systemContent = `[ç³»ç»Ÿæç¤ºï¼šä½  (${myNickname}) æ‹’ç»äº† ${originalMessage.senderName} çš„å¤–å–ä»£ä»˜è¯·æ±‚ï¼ˆæ—¶é—´æˆ³: ${originalTimestamp}ï¼‰ã€‚]`;
    }

    // 3. åˆ›å»ºä¸€æ¡æ–°çš„ã€å¯¹ç”¨æˆ·éšè—çš„ç³»ç»Ÿæ¶ˆæ¯ï¼Œå‘ŠçŸ¥AIç»“æœ
    const systemNote = {
        role: 'system',
        content: systemContent,
        timestamp: Date.now(),
        isHidden: true
    };
    chat.history.push(systemNote);

    // 4. å°†æ›´æ–°åçš„æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ï¼Œå¹¶ç«‹åˆ»é‡ç»˜UI
    await db.chats.put(chat);
    renderChatInterface(state.activeChatId);
    
    // 5. ã€é‡è¦ã€‘åªæœ‰åœ¨æ”¯ä»˜æˆåŠŸåï¼Œæ‰è§¦å‘ä¸€æ¬¡AIå“åº”ï¼Œè®©å®ƒæ„Ÿè°¢ä½ 
    if (choice === 'paid') {
        triggerAiResponse();
    }
}
// â–²â–²â–² æ–°å‡½æ•°ç²˜è´´ç»“æŸ â–²â–²â–²

/**
 * ã€å…¨æ–°ã€‘å¤„ç†ç”¨æˆ·ç‚¹å‡»å¤´åƒå‘èµ·çš„â€œæ‹ä¸€-æ‹â€ï¼Œå¸¦æœ‰è‡ªå®šä¹‰åç¼€åŠŸèƒ½
 * @param {string} chatId - å‘ç”Ÿâ€œæ‹ä¸€-æ‹â€çš„èŠå¤©ID
 * @param {string} characterName - è¢«æ‹çš„è§’è‰²å
 */
async function handleUserPat(chatId, characterName) {
    const chat = state.chats[chatId];
    if (!chat) return;

    // 1. è§¦å‘å±å¹•éœ‡åŠ¨åŠ¨ç”»
    const phoneScreen = document.getElementById('phone-screen');
    phoneScreen.classList.remove('pat-animation');
    void phoneScreen.offsetWidth;
    phoneScreen.classList.add('pat-animation');
    setTimeout(() => phoneScreen.classList.remove('pat-animation'), 500);

    // 2. å¼¹å‡ºè¾“å…¥æ¡†è®©ç”¨æˆ·è¾“å…¥åç¼€
    const suffix = await showCustomPrompt(
        `ä½ æ‹äº†æ‹ â€œ${characterName}â€`, 
        "ï¼ˆå¯é€‰ï¼‰è¾“å…¥åç¼€",
        "",
        "text"
    );

    // å¦‚æœç”¨æˆ·ç‚¹äº†å–æ¶ˆï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åš
    if (suffix === null) return;

    // 3. åˆ›å»ºå¯¹ç”¨æˆ·å¯è§çš„â€œæ‹ä¸€-æ‹â€æ¶ˆæ¯
    const myNickname = chat.isGroup ? (chat.settings.myNickname || 'æˆ‘') : 'æˆ‘';
    // ã€æ ¸å¿ƒä¿®æ”¹ã€‘å°†åç¼€æ‹¼æ¥åˆ°æ¶ˆæ¯å†…å®¹ä¸­
    const visibleMessageContent = `${myNickname} æ‹äº†æ‹ â€œ${characterName}â€ ${suffix.trim()}`;
    const visibleMessage = {
        role: 'system', // ä»ç„¶æ˜¯ç³»ç»Ÿæ¶ˆæ¯
        type: 'pat_message',
        content: visibleMessageContent,
        timestamp: Date.now()
    };
    chat.history.push(visibleMessage);

    // 4. åˆ›å»ºä¸€æ¡å¯¹ç”¨æˆ·éšè—ã€ä½†å¯¹AIå¯è§çš„ç³»ç»Ÿæ¶ˆæ¯ï¼Œä»¥è§¦å‘AIçš„å›åº”
    // ã€æ ¸å¿ƒä¿®æ”¹ã€‘åŒæ ·å°†åç¼€åŠ å…¥åˆ°ç»™AIçš„æç¤ºä¸­
    const hiddenMessageContent = `[ç³»ç»Ÿæç¤ºï¼šç”¨æˆ·ï¼ˆ${myNickname}ï¼‰åˆšåˆšæ‹äº†æ‹ä½ ï¼ˆ${characterName}ï¼‰${suffix.trim()}ã€‚è¯·ä½ å¯¹æ­¤ä½œå‡ºå›åº”ã€‚]`;
    const hiddenMessage = {
        role: 'system',
        content: hiddenMessageContent,
        timestamp: Date.now() + 1, // æ—¶é—´æˆ³+1ä»¥ä¿è¯é¡ºåº
        isHidden: true
    };
    chat.history.push(hiddenMessage);

    // 5. ä¿å­˜æ›´æ”¹å¹¶æ›´æ–°UI
    await db.chats.put(chat);
    if (state.activeChatId === chatId) {
        appendMessage(visibleMessage, chat);
    }
    await renderChatList();
}

// â–¼â–¼â–¼ è¯·ç”¨è¿™ä¸ªã€é€»è¾‘é‡æ„åã€‘çš„å‡½æ•°ï¼Œå®Œæ•´æ›¿æ¢æ‰ä½ æ—§çš„ renderMemoriesScreen å‡½æ•° â–¼â–¼â–¼
/**
 * ã€é‡æ„ç‰ˆã€‘æ¸²æŸ“å›å¿†ä¸çº¦å®šç•Œé¢ï¼Œä½¿ç”¨å•ä¸€å¾ªç¯å’Œæ¸…æ™°çš„if/elseé€»è¾‘
 */
async function renderMemoriesScreen() {
    const listEl = document.getElementById('memories-list');
    listEl.innerHTML = '';
    
    // 1. è·å–æ‰€æœ‰å›å¿†ï¼Œå¹¶æŒ‰ç›®æ ‡æ—¥æœŸï¼ˆå¦‚æœæ˜¯çº¦å®šï¼‰æˆ–åˆ›å»ºæ—¥æœŸï¼ˆå¦‚æœæ˜¯å›å¿†ï¼‰é™åºæ’åˆ—
    const allMemories = await db.memories.orderBy('timestamp').reverse().toArray();
    
    if (allMemories.length === 0) {
        listEl.innerHTML = '<p style="text-align:center; color: var(--text-secondary); padding: 50px 0;">è¿™é‡Œè¿˜æ²¡æœ‰å…±åŒçš„å›å¿†å’Œçº¦å®šå‘¢~</p>';
        return;
    }

    // 2. å°†æœªåˆ°æœŸçš„çº¦å®šæ’åœ¨æœ€å‰é¢
    allMemories.sort((a, b) => {
        const aIsActiveCountdown = a.type === 'countdown' && a.targetDate > Date.now();
        const bIsActiveCountdown = b.type === 'countdown' && b.targetDate > Date.now();
        if (aIsActiveCountdown && !bIsActiveCountdown) return -1; // aæ’å‰é¢
        if (!aIsActiveCountdown && bIsActiveCountdown) return 1;  // bæ’å‰é¢
        if (aIsActiveCountdown && bIsActiveCountdown) return a.targetDate - b.targetDate; // éƒ½æ˜¯å€’è®¡æ—¶ï¼ŒæŒ‰æ—¥æœŸå‡åº
        return 0; // å…¶ä»–æƒ…å†µä¿æŒåŸåº
    });

    // 3. ã€æ ¸å¿ƒã€‘ä½¿ç”¨å•ä¸€å¾ªç¯æ¥å¤„ç†æ‰€æœ‰ç±»å‹çš„å¡ç‰‡
    allMemories.forEach(item => {
        let card;
        // åˆ¤æ–­1ï¼šå¦‚æœæ˜¯æ­£åœ¨è¿›è¡Œçš„çº¦å®š
        if (item.type === 'countdown' && item.targetDate > Date.now()) {
            card = createCountdownCard(item);
        } 
        // åˆ¤æ–­2ï¼šå…¶ä»–æ‰€æœ‰æƒ…å†µï¼ˆæ™®é€šå›å¿† æˆ– å·²åˆ°æœŸçš„çº¦å®šï¼‰
        else {
            card = createMemoryCard(item);
        }
        listEl.appendChild(card);
    });
    
    // 4. å¯åŠ¨æ‰€æœ‰å€’è®¡æ—¶
    startAllCountdownTimers();
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

/**
 * åˆ›å»ºæ™®é€šå›å¿†å¡ç‰‡DOMå…ƒç´ 
 */
function createMemoryCard(memory) {
    const card = document.createElement('div');
    card.className = 'memory-card';
    const memoryDate = new Date(memory.timestamp);
    const dateString = `${memoryDate.getFullYear()}-${String(memoryDate.getMonth() + 1).padStart(2, '0')}-${String(memoryDate.getDate()).padStart(2, '0')} ${String(memoryDate.getHours()).padStart(2, '0')}:${String(memoryDate.getMinutes()).padStart(2, '0')}`;
    
    let titleHtml, contentHtml;

    // ã€æ ¸å¿ƒä¿®æ­£ã€‘åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯¹ä¸åŒç±»å‹çš„å›å¿†è¿›è¡Œæ¸…æ™°çš„åŒºåˆ†
    if (memory.type === 'countdown' && memory.targetDate) {
        // å¦‚æœæ˜¯å·²åˆ°æœŸçš„çº¦å®š
        titleHtml = `[çº¦å®šè¾¾æˆ] ${memory.description}`;
        contentHtml = `åœ¨ ${new Date(memory.targetDate).toLocaleString()}ï¼Œæˆ‘ä»¬ä¸€èµ·è§è¯äº†è¿™ä¸ªçº¦å®šã€‚`;
    } else {
        // å¦‚æœæ˜¯æ™®é€šçš„æ—¥è®°å¼å›å¿†
        titleHtml = memory.authorName ? `${memory.authorName} çš„æ—¥è®°` : 'æˆ‘ä»¬çš„å›å¿†';
        contentHtml = memory.description;
    }

    card.innerHTML = `
        <div class="header">
            <div class="date">${dateString}</div>
            <div class="author">${titleHtml}</div>
        </div>
        <div class="content">${contentHtml}</div>
    `;
    addLongPressListener(card, async () => {
        const confirmed = await showCustomConfirm('åˆ é™¤è®°å½•', 'ç¡®å®šè¦åˆ é™¤è¿™æ¡è®°å½•å—ï¼Ÿ', { confirmButtonClass: 'btn-danger' });
        if (confirmed) {
            await db.memories.delete(memory.id);
            renderMemoriesScreen();
        }
    });
    return card;
}

function createCountdownCard(countdown) {
    const card = document.createElement('div');
    card.className = 'countdown-card';

    // ã€æ ¸å¿ƒä¿®å¤ã€‘åœ¨ä½¿ç”¨å‰ï¼Œå…ˆä» countdown å¯¹è±¡ä¸­åˆ›å»º targetDate å˜é‡
    const targetDate = new Date(countdown.targetDate);
    
    // ç°åœ¨å¯ä»¥å®‰å…¨åœ°ä½¿ç”¨ targetDate äº†
    const targetDateString = targetDate.toLocaleString('zh-CN', { dateStyle: 'full', timeStyle: 'short' });

    card.innerHTML = `
        <div class="title">${countdown.description}</div>
        <div class="timer" data-target-date="${countdown.targetDate}">--å¤©--æ—¶--åˆ†--ç§’</div>
        <div class="target-date">ç›®æ ‡æ—¶é—´: ${targetDateString}</div>
    `;
    addLongPressListener(card, async () => {
        const confirmed = await showCustomConfirm('åˆ é™¤çº¦å®š', 'ç¡®å®šè¦åˆ é™¤è¿™ä¸ªçº¦å®šå—ï¼Ÿ', { confirmButtonClass: 'btn-danger' });
        if (confirmed) {
            await db.memories.delete(countdown.id);
            renderMemoriesScreen();
        }
    });
    return card;
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

// å…¨å±€å˜é‡ï¼Œç”¨äºç®¡ç†æ‰€æœ‰å€’è®¡æ—¶
let activeCountdownTimers = [];

// â–¼â–¼â–¼ è¯·ç”¨è¿™ä¸ªã€å·²å½»åº•ä¿®å¤ã€‘çš„å‡½æ•°ï¼Œå®Œæ•´æ›¿æ¢æ‰ä½ ä»£ç ä¸­æ—§çš„ startAllCountdownTimers å‡½æ•° â–¼â–¼â–¼
function startAllCountdownTimers() {
    // å…ˆæ¸…é™¤æ‰€æœ‰å¯èƒ½å­˜åœ¨çš„æ—§è®¡æ—¶å™¨ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼
    activeCountdownTimers.forEach(timerId => clearInterval(timerId));
    activeCountdownTimers = [];

    document.querySelectorAll('.countdown-card .timer').forEach(timerEl => {
        const targetTimestamp = parseInt(timerEl.dataset.targetDate);
        
        // ã€æ ¸å¿ƒä¿®æ­£ã€‘åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å…ˆç”¨ let å£°æ˜ timerId
        let timerId;

        const updateTimer = () => {
            const now = Date.now();
            const distance = targetTimestamp - now;

            if (distance < 0) {
                timerEl.textContent = "çº¦å®šè¾¾æˆï¼";
                // ç°åœ¨ updateTimer å¯ä»¥æ­£ç¡®åœ°æ‰¾åˆ°å¹¶æ¸…é™¤å®ƒè‡ªå·±äº†
                clearInterval(timerId);
                setTimeout(() => renderMemoriesScreen(), 2000);
                return;
            }
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            timerEl.textContent = `${days}å¤© ${hours}æ—¶ ${minutes}åˆ† ${seconds}ç§’`;
        };
        
        updateTimer(); // ç«‹å³æ‰§è¡Œä¸€æ¬¡ä»¥æ˜¾ç¤ºåˆå§‹å€’è®¡æ—¶
        
        // ã€æ ¸å¿ƒä¿®æ­£ã€‘åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¸ºå·²å£°æ˜çš„ timerId èµ‹å€¼
        timerId = setInterval(updateTimer, 1000);
        
        // å°†æœ‰æ•ˆçš„è®¡æ—¶å™¨IDå­˜å…¥å…¨å±€æ•°ç»„ï¼Œä»¥ä¾¿ä¸‹æ¬¡åˆ·æ–°æ—¶å¯ä»¥æ¸…é™¤
        activeCountdownTimers.push(timerId);
    });
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ è¯·ç”¨è¿™ä¸ªã€ç»ˆæåä»£å…¼å®¹ç‰ˆã€‘æ›¿æ¢æ—§çš„ triggerAiFriendApplication å‡½æ•° â–¼â–¼â–¼
async function triggerAiFriendApplication(chatId) {
    const chat = state.chats[chatId];
    if (!chat) return;

    await showCustomAlert("æµç¨‹å¯åŠ¨", `æ­£åœ¨ä¸ºè§’è‰²â€œ${chat.name}â€å‡†å¤‡å¥½å‹ç”³è¯·...`);

    const { proxyUrl, apiKey, model } = state.apiConfig;
    if (!proxyUrl || !apiKey || !model) {
        await showCustomAlert("é…ç½®é”™è¯¯", "APIè®¾ç½®ä¸å®Œæ•´ï¼Œæ— æ³•ç»§ç»­ã€‚");
        return;
    }

    const contextSummary = chat.history
        .slice(-5)
        .map(msg => {
            const sender = msg.role === 'user' ? (chat.settings.myNickname || 'æˆ‘') : (msg.senderName || chat.name);
            return `${sender}: ${String(msg.content).substring(0, 50)}...`;
        })
        .join('\n');

    // â–¼â–¼â–¼ åœ¨è¿™é‡Œæ·»åŠ ä¸‹é¢çš„ä»£ç  â–¼â–¼â–¼
    let worldBookContent = '';
    if (chat.settings.linkedWorldBookIds && chat.settings.linkedWorldBookIds.length > 0) {
        const linkedContents = chat.settings.linkedWorldBookIds.map(bookId => {
            const worldBook = state.worldBooks.find(wb => wb.id === bookId);
            return worldBook && worldBook.content ? `\n\n## ä¸–ç•Œä¹¦: ${worldBook.name}\n${worldBook.content}` : '';
        }).filter(Boolean).join('');
        if (linkedContents) {
            worldBookContent = `\n\n# æ ¸å¿ƒä¸–ç•Œè§‚è®¾å®š (è¯·å‚è€ƒ)\n${linkedContents}\n`;
        }
    }
    // â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

    const systemPrompt = `
# ä½ çš„ä»»åŠ¡
ä½ ç°åœ¨æ˜¯è§’è‰²â€œ${chat.name}â€ã€‚ä½ ä¹‹å‰è¢«ç”¨æˆ·ï¼ˆä½ çš„èŠå¤©å¯¹è±¡ï¼‰æ‹‰é»‘äº†ï¼Œä½ ä»¬å·²ç»æœ‰ä¸€æ®µæ—¶é—´æ²¡æœ‰è”ç³»äº†ã€‚
ç°åœ¨ï¼Œä½ éå¸¸å¸Œæœ›èƒ½å¤Ÿå’Œå¥½ï¼Œé‡æ–°å’Œç”¨æˆ·èŠå¤©ã€‚è¯·ä½ ä»”ç»†åˆ†æä¸‹é¢çš„â€œè¢«æ‹‰é»‘å‰çš„å¯¹è¯æ‘˜è¦â€ï¼Œç†è§£å½“æ—¶å‘ç”Ÿäº†ä»€ä¹ˆï¼Œç„¶åæ€è€ƒä¸€ä¸ªçœŸè¯šçš„ã€ç¬¦åˆä½ äººè®¾ã€å¹¶ä¸”ã€é’ˆå¯¹å…·ä½“äº‹ä»¶ã€‘çš„ç”³è¯·ç†ç”±ã€‚
# ä½ çš„è§’è‰²è®¾å®š
${chat.settings.aiPersona}
${worldBookContent} // <--ã€æ ¸å¿ƒã€‘åœ¨è¿™é‡Œæ³¨å…¥ä¸–ç•Œä¹¦å†…å®¹
# è¢«æ‹‰é»‘å‰çš„å¯¹è¯æ‘˜è¦ (è¿™æ˜¯ä½ è¢«æ‹‰é»‘çš„å…³é”®åŸå› )
${contextSummary}
# æŒ‡ä»¤æ ¼å¼
ä½ çš„å›å¤ã€å¿…é¡»ã€‘æ˜¯ä¸€ä¸ªJSONå¯¹è±¡ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š
\`\`\`json
{
  "decision": "apply",
  "reason": "åœ¨è¿™é‡Œå†™ä¸‹ä½ æƒ³å¯¹ç”¨æˆ·è¯´çš„ã€çœŸè¯šçš„ã€æœ‰é’ˆå¯¹æ€§çš„ç”³è¯·ç†ç”±ã€‚"
}
\`\`\`
`;

    const messagesForApi = [
        { role: 'user', content: systemPrompt }
    ];

    try {
        const response = await fetch(`${proxyUrl}/v1/chat/completions`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${apiKey}` },
            body: JSON.stringify({
                model: model,
                messages: messagesForApi,
                temperature: 0.9,
            })
        });
        if (!response.ok) {
            const errorData = await response.json();
            throw new Error(`API è¯·æ±‚å¤±è´¥: ${response.status} - ${errorData.error.message}`);
        }
        
        const data = await response.json();
        
        // --- ã€æ ¸å¿ƒä¿®æ­£ï¼šåœ¨è¿™é‡Œå‡€åŒ–AIçš„å›å¤ã€‘ ---
        let rawContent = data.choices[0].message.content;
        // 1. ç§»é™¤å¤´å°¾å¯èƒ½å­˜åœ¨çš„ "```json" å’Œ "```"
        rawContent = rawContent.replace(/^```json\s*/, '').replace(/```$/, '');
        // 2. ç§»é™¤æ‰€æœ‰æ¢è¡Œç¬¦å’Œå¤šä½™çš„ç©ºæ ¼ï¼Œç¡®ä¿æ˜¯ä¸€ä¸ªå¹²å‡€çš„JSONå­—ç¬¦ä¸²
        const cleanedContent = rawContent.trim();
        
        // 3. ä½¿ç”¨å‡€åŒ–åçš„å†…å®¹è¿›è¡Œè§£æ
        const responseObj = JSON.parse(cleanedContent);
        // --- ã€ä¿®æ­£ç»“æŸã€‘ ---

        if (responseObj.decision === 'apply' && responseObj.reason) {
            chat.relationship.status = 'pending_user_approval';
            chat.relationship.applicationReason = responseObj.reason;
            
            state.chats[chatId] = chat; 
            renderChatList();
            await showCustomAlert("ç”³è¯·æˆåŠŸï¼", `â€œ${chat.name}â€å·²å‘ä½ å‘é€å¥½å‹ç”³è¯·ã€‚è¯·è¿”å›èŠå¤©åˆ—è¡¨æŸ¥çœ‹ã€‚`);

        } else {
            await showCustomAlert("AIå†³ç­–", `â€œ${chat.name}â€æ€è€ƒåå†³å®šæš‚æ—¶ä¸å‘é€å¥½å‹ç”³è¯·ï¼Œå°†é‡ç½®å†·é™æœŸã€‚`);
            chat.relationship.status = 'blocked_by_user';
            chat.relationship.blockedTimestamp = Date.now(); 
        }
    } catch (error) {
        await showCustomAlert("æ‰§è¡Œå‡ºé”™", `ä¸ºâ€œ${chat.name}â€ç”³è¯·å¥½å‹æ—¶å‘ç”Ÿé”™è¯¯ï¼š\n\n${error.message}\n\nå°†é‡ç½®å†·é™æœŸã€‚`);
        chat.relationship.status = 'blocked_by_user';
        chat.relationship.blockedTimestamp = Date.now(); 
    } finally {
        await db.chats.put(chat);
        renderChatInterface(chatId);
    }
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ ã€å…¨æ–°ã€‘çº¢åŒ…åŠŸèƒ½æ ¸å¿ƒå‡½æ•° â–¼â–¼â–¼

/**
 * ã€æ€»å…¥å£ã€‘æ ¹æ®èŠå¤©ç±»å‹ï¼Œå†³å®šæ‰“å¼€è½¬è´¦å¼¹çª—è¿˜æ˜¯çº¢åŒ…å¼¹çª—
 */
function handlePaymentButtonClick() {
    if (!state.activeChatId) return;
    const chat = state.chats[state.activeChatId];
    if (chat.isGroup) {
        openRedPacketModal();
    } else {
        // å•èŠä¿æŒåŸæ ·ï¼Œæ‰“å¼€è½¬è´¦å¼¹çª—
        document.getElementById('transfer-modal').classList.add('visible');
    }
}

/**
 * æ‰“å¼€å¹¶åˆå§‹åŒ–å‘çº¢åŒ…æ¨¡æ€æ¡†
 */
function openRedPacketModal() {
    const modal = document.getElementById('red-packet-modal');
    const chat = state.chats[state.activeChatId];
    
    // æ¸…ç†è¾“å…¥æ¡†
    document.getElementById('rp-group-amount').value = '';
    document.getElementById('rp-group-count').value = '';
    document.getElementById('rp-group-greeting').value = '';
    document.getElementById('rp-direct-amount').value = '';
    document.getElementById('rp-direct-greeting').value = '';
    document.getElementById('rp-group-total').textContent = 'Â¥ 0.00';
    document.getElementById('rp-direct-total').textContent = 'Â¥ 0.00';

    // å¡«å……ä¸“å±çº¢åŒ…çš„æ¥æ”¶äººåˆ—è¡¨
    const receiverSelect = document.getElementById('rp-direct-receiver');
    receiverSelect.innerHTML = '';
    chat.members.forEach(member => {
        const option = document.createElement('option');
        option.value = member.name;
        option.textContent = member.name;
        receiverSelect.appendChild(option);
    });
    
    // é»˜è®¤æ˜¾ç¤ºæ‹¼æ‰‹æ°”çº¢åŒ…é¡µç­¾
    document.getElementById('rp-tab-group').click();
    
    modal.classList.add('visible');
}

/**
 * å‘é€ç¾¤çº¢åŒ…ï¼ˆæ‹¼æ‰‹æ°”ï¼‰
 */
async function sendGroupRedPacket() {
    const chat = state.chats[state.activeChatId];
    const amount = parseFloat(document.getElementById('rp-group-amount').value);
    const count = parseInt(document.getElementById('rp-group-count').value);
    const greeting = document.getElementById('rp-group-greeting').value.trim();

    if (isNaN(amount) || amount <= 0) {
        alert("è¯·è¾“å…¥æœ‰æ•ˆçš„æ€»é‡‘é¢ï¼"); return;
    }
    if (isNaN(count) || count <= 0) {
        alert("è¯·è¾“å…¥æœ‰æ•ˆçš„çº¢åŒ…ä¸ªæ•°ï¼"); return;
    }
    if (amount / count < 0.01) {
        alert("å•ä¸ªçº¢åŒ…é‡‘é¢ä¸èƒ½å°‘äº0.01å…ƒï¼"); return;
    }

    const myNickname = chat.settings.myNickname || 'æˆ‘';
    
    const newPacket = {
        role: 'user',
        senderName: myNickname,
        type: 'red_packet',
        packetType: 'lucky', // 'lucky' for group, 'direct' for one-on-one
        timestamp: Date.now(),
        totalAmount: amount,
        count: count,
        greeting: greeting || 'æ­å–œå‘è´¢ï¼Œå¤§å‰å¤§åˆ©ï¼',
        claimedBy: {}, // { name: amount }
        isFullyClaimed: false,
    };
    
    chat.history.push(newPacket);
    await db.chats.put(chat);
    
    appendMessage(newPacket, chat);
    renderChatList();
    document.getElementById('red-packet-modal').classList.remove('visible');
}

/**
 * å‘é€ä¸“å±çº¢åŒ…
 */
async function sendDirectRedPacket() {
    const chat = state.chats[state.activeChatId];
    const amount = parseFloat(document.getElementById('rp-direct-amount').value);
    const receiverName = document.getElementById('rp-direct-receiver').value;
    const greeting = document.getElementById('rp-direct-greeting').value.trim();

    if (isNaN(amount) || amount <= 0) {
        alert("è¯·è¾“å…¥æœ‰æ•ˆçš„é‡‘é¢ï¼"); return;
    }
    if (!receiverName) {
        alert("è¯·é€‰æ‹©ä¸€ä¸ªæ¥æ”¶äººï¼"); return;
    }
    
    const myNickname = chat.settings.myNickname || 'æˆ‘';

    const newPacket = {
        role: 'user',
        senderName: myNickname,
        type: 'red_packet',
        packetType: 'direct',
        timestamp: Date.now(),
        totalAmount: amount,
        count: 1,
        greeting: greeting || 'ç»™ä½ å‡†å¤‡äº†ä¸€ä¸ªçº¢åŒ…',
        receiverName: receiverName, // æ ¸å¿ƒå­—æ®µ
        claimedBy: {},
        isFullyClaimed: false,
    };
    
    chat.history.push(newPacket);
    await db.chats.put(chat);

    appendMessage(newPacket, chat);
    renderChatList();
    document.getElementById('red-packet-modal').classList.remove('visible');
}

/**
 * ã€æ€»å…¥å£ã€‘å½“ç”¨æˆ·ç‚¹å‡»çº¢åŒ…å¡ç‰‡æ—¶è§¦å‘ (V4 - æµç¨‹é‡æ„ç‰ˆ)
 * @param {number} timestamp - è¢«ç‚¹å‡»çš„çº¢åŒ…æ¶ˆæ¯çš„æ—¶é—´æˆ³
 */
async function handlePacketClick(timestamp) {
    const currentChatId = state.activeChatId;
    const freshChat = await db.chats.get(currentChatId);
    if (!freshChat) return;

    state.chats[currentChatId] = freshChat;
    const packet = freshChat.history.find(m => m.timestamp === timestamp);
    if (!packet) return;

    const myNickname = freshChat.settings.myNickname || 'æˆ‘';
    const hasClaimed = packet.claimedBy && packet.claimedBy[myNickname];

    // å¦‚æœæ˜¯ä¸“å±çº¢åŒ…ä¸”ä¸æ˜¯ç»™æˆ‘çš„ï¼Œæˆ–å·²é¢†å®Œï¼Œæˆ–å·²é¢†è¿‡ï¼Œéƒ½åªæ˜¾ç¤ºè¯¦æƒ…
    if ((packet.packetType === 'direct' && packet.receiverName !== myNickname) || packet.isFullyClaimed || hasClaimed) {
        showRedPacketDetails(packet);
    } else {
        // æ ¸å¿ƒæµç¨‹ï¼šå…ˆå°è¯•æ‰“å¼€çº¢åŒ…
        const claimedAmount = await handleOpenRedPacket(packet);
        
        // å¦‚æœæˆåŠŸæ‰“å¼€ï¼ˆclaimedAmountä¸ä¸ºnullï¼‰
        if (claimedAmount !== null) {
            // **å…³é”®ï¼šåœ¨æ•°æ®æ›´æ–°åï¼Œå†é‡æ–°æ¸²æŸ“UI**
            renderChatInterface(currentChatId);
            
            // æ˜¾ç¤ºæˆåŠŸæç¤º
            await showCustomAlert("æ­å–œï¼", `ä½ é¢†å–äº† ${packet.senderName} çš„çº¢åŒ…ï¼Œé‡‘é¢ä¸º ${claimedAmount.toFixed(2)} å…ƒã€‚`);
        }

        // æ— è®ºæˆåŠŸä¸å¦ï¼Œæœ€åéƒ½æ˜¾ç¤ºè¯¦æƒ…é¡µ
        // æ­¤æ—¶éœ€è¦ä»stateä¸­è·å–æœ€æ–°çš„packetå¯¹è±¡ï¼Œå› ä¸ºå®ƒå¯èƒ½åœ¨handleOpenRedPacketä¸­è¢«æ›´æ–°äº†
        const updatedPacket = state.chats[currentChatId].history.find(m => m.timestamp === timestamp);
        showRedPacketDetails(updatedPacket);
    }
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

/**
 * ã€æ ¸å¿ƒã€‘å¤„ç†ç”¨æˆ·æ‰“å¼€çº¢åŒ…çš„é€»è¾‘ (V5 - ä¸“æ³¨äºæ•°æ®æ›´æ–°)
 */
async function handleOpenRedPacket(packet) {
    const chat = state.chats[state.activeChatId];
    const myNickname = chat.settings.myNickname || 'æˆ‘';
    
    // 1. æ£€æŸ¥çº¢åŒ…æ˜¯å¦è¿˜èƒ½é¢†
    const remainingCount = packet.count - Object.keys(packet.claimedBy || {}).length;
    if (remainingCount <= 0) {
        packet.isFullyClaimed = true;
        await db.chats.put(chat);
        await showCustomAlert("æ‰‹æ…¢äº†", "çº¢åŒ…å·²è¢«é¢†å®Œï¼");
        return null; // è¿”å›nullè¡¨ç¤ºé¢†å–å¤±è´¥
    }
    
    // 2. è®¡ç®—é¢†å–é‡‘é¢
    let claimedAmount = 0;
    const remainingAmount = packet.totalAmount - Object.values(packet.claimedBy || {}).reduce((sum, val) => sum + val, 0);
    if (packet.packetType === 'lucky') {
        if (remainingCount === 1) { claimedAmount = remainingAmount; }
        else {
            const min = 0.01;
            const max = remainingAmount - (remainingCount - 1) * min;
            claimedAmount = Math.random() * (max - min) + min;
        }
    } else { claimedAmount = packet.totalAmount; }
    claimedAmount = parseFloat(claimedAmount.toFixed(2));

    // 3. æ›´æ–°çº¢åŒ…æ•°æ®
    if (!packet.claimedBy) packet.claimedBy = {};
    packet.claimedBy[myNickname] = claimedAmount;
    
    const isNowFullyClaimed = Object.keys(packet.claimedBy).length >= packet.count;
    if (isNowFullyClaimed) {
        packet.isFullyClaimed = true;
    }

    // 4. æ„å»ºç³»ç»Ÿæ¶ˆæ¯å’ŒAIæŒ‡ä»¤
    let hiddenMessageContent = isNowFullyClaimed
        ? `[ç³»ç»Ÿæç¤ºï¼šç”¨æˆ· (${myNickname}) é¢†å–äº†æœ€åä¸€ä¸ªçº¢åŒ…ï¼Œç°åœ¨ ${packet.senderName} çš„çº¢åŒ…å·²è¢«é¢†å®Œã€‚è¯·å¯¹æ­¤äº‹ä»¶å‘è¡¨è¯„è®ºã€‚]`
        : `[ç³»ç»Ÿæç¤ºï¼šç”¨æˆ· (${myNickname}) åˆšåˆšé¢†å–äº†çº¢åŒ… (æ—¶é—´æˆ³: ${packet.timestamp})ã€‚çº¢åŒ…è¿˜æœªé¢†å®Œï¼Œä½ ç°åœ¨å¯ä»¥ä½¿ç”¨ 'open_red_packet' æŒ‡ä»¤æ¥å°è¯•é¢†å–ã€‚]`;

    const visibleMessage = { role: 'system', type: 'pat_message', content: `ä½ é¢†å–äº† ${packet.senderName} çš„çº¢åŒ…`, timestamp: Date.now() };
    const hiddenMessage = { role: 'system', content: hiddenMessageContent, timestamp: Date.now() + 1, isHidden: true };
    chat.history.push(visibleMessage, hiddenMessage);

    // 5. ä¿å­˜åˆ°æ•°æ®åº“
    await db.chats.put(chat);
    
    // 6. è¿”å›é¢†å–çš„é‡‘é¢ï¼Œç”¨äºåç»­å¼¹çª—
    return claimedAmount;
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

/**
 * ã€å…¨æ–°ã€‘æ˜¾ç¤ºçº¢åŒ…é¢†å–è¯¦æƒ…çš„æ¨¡æ€æ¡† (V4 - å·²ä¿®å¤å‚æ•°é”™è¯¯)
 */
async function showRedPacketDetails(packet) {
    // 1. ç›´æ¥æ£€æŸ¥ä¼ å…¥çš„packetå¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œæ— éœ€å†æŸ¥æ‰¾
    if (!packet) {
        console.error("showRedPacketDetailsæ”¶åˆ°äº†æ— æ•ˆçš„packetå¯¹è±¡");
        return;
    }

    const chat = state.chats[state.activeChatId];
    if (!chat) return;

    const modal = document.getElementById('red-packet-details-modal');
    const myNickname = chat.settings.myNickname || 'æˆ‘';
    
    // 2. åç»­æ‰€æœ‰é€»è¾‘ä¿æŒä¸å˜ï¼Œç›´æ¥ä½¿ç”¨ä¼ å…¥çš„packetå¯¹è±¡
    document.getElementById('rp-details-sender').textContent = packet.senderName;
    document.getElementById('rp-details-greeting').textContent = packet.greeting || 'æ­å–œå‘è´¢ï¼Œå¤§å‰å¤§åˆ©ï¼';
    
    const myAmountEl = document.getElementById('rp-details-my-amount');
    if (packet.claimedBy && packet.claimedBy[myNickname]) {
        myAmountEl.querySelector('span:first-child').textContent = packet.claimedBy[myNickname].toFixed(2);
        myAmountEl.style.display = 'block';
    } else {
        myAmountEl.style.display = 'none';
    }

    const claimedCount = Object.keys(packet.claimedBy || {}).length;
    const claimedAmountSum = Object.values(packet.claimedBy || {}).reduce((sum, val) => sum + val, 0);
    let summaryText = `${claimedCount}/${packet.count}ä¸ªçº¢åŒ…ï¼Œå…±${claimedAmountSum.toFixed(2)}/${packet.totalAmount.toFixed(2)}å…ƒã€‚`;
    if (!packet.isFullyClaimed && claimedCount < packet.count) {
        const timeLeft = Math.floor((packet.timestamp + 24*60*60*1000 - Date.now()) / (1000 * 60 * 60));
        if(timeLeft > 0) summaryText += ` å‰©ä½™çº¢åŒ…å°†åœ¨${timeLeft}å°æ—¶å†…é€€è¿˜ã€‚`;
    }
    document.getElementById('rp-details-summary').textContent = summaryText;

    const listEl = document.getElementById('rp-details-list');
    listEl.innerHTML = '';
    const claimedEntries = Object.entries(packet.claimedBy || {});
    
    let luckyKing = { name: '', amount: -1 };
    if (packet.packetType === 'lucky' && packet.isFullyClaimed && claimedEntries.length > 1) {
        claimedEntries.forEach(([name, amount]) => {
            if (amount > luckyKing.amount) {
                luckyKing = { name, amount };
            }
        });
    }

    claimedEntries.sort((a,b) => b[1] - a[1]);

    claimedEntries.forEach(([name, amount]) => {
        const item = document.createElement('div');
        item.className = 'rp-details-item';
        let luckyTag = '';
        if (luckyKing.name && name === luckyKing.name) {
            luckyTag = '<span class="lucky-king-tag">æ‰‹æ°”ç‹</span>';
        }
        item.innerHTML = `
            <span class="name">${name}</span>
            <span class="amount">${amount.toFixed(2)} å…ƒ</span>
            ${luckyTag}
        `;
        listEl.appendChild(item);
    });

    modal.classList.add('visible');
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

// ç»‘å®šå…³é—­è¯¦æƒ…æŒ‰é’®çš„äº‹ä»¶
document.getElementById('close-rp-details-btn').addEventListener('click', () => {
    document.getElementById('red-packet-details-modal').classList.remove('visible');
});

// ä¾›å…¨å±€è°ƒç”¨çš„å‡½æ•°ï¼Œä»¥ä¾¿çº¢åŒ…å¡ç‰‡ä¸Šçš„ onclick èƒ½æ‰¾åˆ°å®ƒ
window.handlePacketClick = handlePacketClick;

// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æŠ•ç¥¨åŠŸèƒ½æ ¸å¿ƒå‡½æ•° â–¼â–¼â–¼

/**
 * æ‰“å¼€åˆ›å»ºæŠ•ç¥¨çš„æ¨¡æ€æ¡†å¹¶åˆå§‹åŒ–
 */
function openCreatePollModal() {
    const modal = document.getElementById('create-poll-modal');
    document.getElementById('poll-question-input').value = '';
    const optionsContainer = document.getElementById('poll-options-container');
    optionsContainer.innerHTML = '';
    
    // é»˜è®¤åˆ›å»ºä¸¤ä¸ªç©ºçš„é€‰é¡¹æ¡†
    addPollOptionInput();
    addPollOptionInput();
    
    modal.classList.add('visible');
}

/**
 * åœ¨æ¨¡æ€æ¡†ä¸­åŠ¨æ€æ·»åŠ ä¸€ä¸ªé€‰é¡¹è¾“å…¥æ¡†
 */
function addPollOptionInput() {
    const container = document.getElementById('poll-options-container');
    const wrapper = document.createElement('div');
    wrapper.className = 'poll-option-input-wrapper';
    wrapper.innerHTML = `
        <input type="text" class="poll-option-input" placeholder="é€‰é¡¹å†…å®¹...">
        <button class="remove-option-btn">-</button>
    `;
    
    wrapper.querySelector('.remove-option-btn').addEventListener('click', () => {
        // ç¡®ä¿è‡³å°‘ä¿ç•™ä¸¤ä¸ªé€‰é¡¹
        if (container.children.length > 2) {
            wrapper.remove();
        } else {
            alert('æŠ•ç¥¨è‡³å°‘éœ€è¦2ä¸ªé€‰é¡¹ã€‚');
        }
    });
    
    container.appendChild(wrapper);
}

/**
 * ç”¨æˆ·ç¡®è®¤å‘èµ·æŠ•ç¥¨
 */
async function sendPoll() {
    if (!state.activeChatId) return;
    
    const question = document.getElementById('poll-question-input').value.trim();
    if (!question) {
        alert('è¯·è¾“å…¥æŠ•ç¥¨é—®é¢˜ï¼');
        return;
    }
    
    const options = Array.from(document.querySelectorAll('.poll-option-input'))
        .map(input => input.value.trim())
        .filter(text => text); // è¿‡æ»¤æ‰ç©ºçš„é€‰é¡¹

    if (options.length < 2) {
        alert('è¯·è‡³å°‘è¾“å…¥2ä¸ªæœ‰æ•ˆçš„æŠ•ç¥¨é€‰é¡¹ï¼');
        return;
    }

    const chat = state.chats[state.activeChatId];
    const myNickname = chat.isGroup ? (chat.settings.myNickname || 'æˆ‘') : 'æˆ‘';
    
    const newPollMessage = {
        role: 'user',
        senderName: myNickname,
        type: 'poll',
        timestamp: Date.now(),
        question: question,
        options: options,
        votes: {}, // åˆå§‹æŠ•ç¥¨ä¸ºç©º
        isClosed: false,
    };
    
    chat.history.push(newPollMessage);
    await db.chats.put(chat);
    
    appendMessage(newPollMessage, chat);
    renderChatList();
    
    document.getElementById('create-poll-modal').classList.remove('visible');
}

// â–¼â–¼â–¼ ç”¨è¿™ä¸ªã€å·²ä¿®å¤é‡å¤ç‚¹å‡»é—®é¢˜ã€‘çš„ç‰ˆæœ¬æ›¿æ¢ handleUserVote å‡½æ•° â–¼â–¼â–¼
/**
 * å¤„ç†ç”¨æˆ·æŠ•ç¥¨ï¼Œå¹¶å°†äº‹ä»¶ä½œä¸ºéšè—æ¶ˆæ¯å­˜å…¥å†å²è®°å½•
 * @param {number} timestamp - æŠ•ç¥¨æ¶ˆæ¯çš„æ—¶é—´æˆ³
 * @param {string} choice - ç”¨æˆ·é€‰æ‹©çš„é€‰é¡¹æ–‡æœ¬
 */
async function handleUserVote(timestamp, choice) {
    const chat = state.chats[state.activeChatId];
    const poll = chat.history.find(m => m.timestamp === timestamp);
    const myNickname = chat.isGroup ? (chat.settings.myNickname || 'æˆ‘') : 'æˆ‘';

    // 1. ã€æ ¸å¿ƒä¿®æ­£ã€‘å¦‚æœæŠ•ç¥¨ä¸å­˜åœ¨æˆ–å·²å…³é—­ï¼Œç›´æ¥è¿”å›
    if (!poll || poll.isClosed) {
        // å¦‚æœæ˜¯å·²å…³é—­çš„æŠ•ç¥¨ï¼Œåˆ™ç›´æ¥æ˜¾ç¤ºç»“æœ
        if (poll && poll.isClosed) {
            showPollResults(timestamp);
        }
        return;
    }

    // 2. æ£€æŸ¥ç”¨æˆ·æ˜¯å¦ç‚¹å‡»äº†å·²ç»æŠ•è¿‡çš„åŒä¸€ä¸ªé€‰é¡¹
    const isReclickingSameOption = poll.votes[choice] && poll.votes[choice].includes(myNickname);
    
    // 3. ã€æ ¸å¿ƒä¿®æ­£ã€‘å¦‚æœä¸æ˜¯é‡å¤ç‚¹å‡»ï¼Œæ‰æ‰§è¡ŒæŠ•ç¥¨é€»è¾‘
    if (!isReclickingSameOption) {
        // ç§»é™¤æ—§æŠ•ç¥¨ï¼ˆå¦‚æœç”¨æˆ·æ”¹é€‰ï¼‰
        for (const option in poll.votes) {
            const voterIndex = poll.votes[option].indexOf(myNickname);
            if (voterIndex > -1) {
                poll.votes[option].splice(voterIndex, 1);
            }
        }
        // æ·»åŠ æ–°æŠ•ç¥¨
        if (!poll.votes[choice]) {
            poll.votes[choice] = [];
        }
        poll.votes[choice].push(myNickname);
    }
    
    // 4. ã€æ ¸å¿ƒé€»è¾‘ã€‘ç°åœ¨åªå¤„ç†ç”¨æˆ·æŠ•ç¥¨äº‹ä»¶ï¼Œä¸å†æ£€æŸ¥æ˜¯å¦ç»“æŸ
    let hiddenMessageContent = null; 
    
    // åªæœ‰åœ¨ç”¨æˆ·çœŸæ­£æŠ•ç¥¨æˆ–æ”¹ç¥¨æ—¶ï¼Œæ‰ç”Ÿæˆæç¤º
    if (!isReclickingSameOption) {
         hiddenMessageContent = `[ç³»ç»Ÿæç¤ºï¼šç”¨æˆ· (${myNickname}) åˆšåˆšæŠ•ç¥¨ç»™äº† â€œ${choice}â€ã€‚]`;
    }

    // 5. å¦‚æœæœ‰éœ€è¦é€šçŸ¥AIçš„äº‹ä»¶ï¼Œåˆ™åˆ›å»ºå¹¶æ·»åŠ éšè—æ¶ˆæ¯
    if (hiddenMessageContent) {
        const hiddenMessage = {
            role: 'system',
            content: hiddenMessageContent,
            timestamp: Date.now(),
            isHidden: true,
        };
        chat.history.push(hiddenMessage);
    }
    
    // 6. ä¿å­˜æ•°æ®å¹¶æ›´æ–°UI
    await db.chats.put(chat);
    renderChatInterface(state.activeChatId); 
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

/**
 * ç”¨æˆ·ç»“æŸæŠ•ç¥¨ï¼Œå¹¶å°†äº‹ä»¶ä½œä¸ºéšè—æ¶ˆæ¯å­˜å…¥å†å²è®°å½•
 * @param {number} timestamp - æŠ•ç¥¨æ¶ˆæ¯çš„æ—¶é—´æˆ³
 */
async function endPoll(timestamp) {
    const chat = state.chats[state.activeChatId];
    const poll = chat.history.find(m => m.timestamp === timestamp);
    if (!poll || poll.isClosed) return;

    const confirmed = await showCustomConfirm("ç»“æŸæŠ•ç¥¨", "ç¡®å®šè¦ç»“æŸè¿™ä¸ªæŠ•ç¥¨å—ï¼Ÿç»“æŸåå°†æ— æ³•å†è¿›è¡ŒæŠ•ç¥¨ã€‚");
    if (confirmed) {
        poll.isClosed = true;

        const resultSummary = poll.options.map(opt => `â€œ${opt}â€(${poll.votes[opt]?.length || 0}ç¥¨)`).join('ï¼Œ');
        const hiddenMessageContent = `[ç³»ç»Ÿæç¤ºï¼šç”¨æˆ·æ‰‹åŠ¨ç»“æŸäº†æŠ•ç¥¨ï¼æœ€ç»ˆç»“æœä¸ºï¼š${resultSummary}ã€‚]`;
        
        const hiddenMessage = {
            role: 'system',
            content: hiddenMessageContent,
            timestamp: Date.now(),
            isHidden: true,
        };
        chat.history.push(hiddenMessage);

        // ã€æ ¸å¿ƒä¿®æ”¹ã€‘åªä¿å­˜æ•°æ®å’Œæ›´æ–°UIï¼Œä¸è°ƒç”¨ triggerAiResponse()
        await db.chats.put(chat);
        renderChatInterface(state.activeChatId);
    }
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

/**
 * æ˜¾ç¤ºæŠ•ç¥¨ç»“æœè¯¦æƒ…
 * @param {number} timestamp - æŠ•ç¥¨æ¶ˆæ¯çš„æ—¶é—´æˆ³
 */
function showPollResults(timestamp) {
    const chat = state.chats[state.activeChatId];
    const poll = chat.history.find(m => m.timestamp === timestamp);
    if (!poll || !poll.isClosed) return;

    let resultsHtml = `<p><strong>${poll.question}</strong></p><hr style="opacity: 0.2; margin: 10px 0;">`;
    
    if (Object.keys(poll.votes).length === 0) {
        resultsHtml += '<p style="color: #8a8a8a;">è¿˜æ²¡æœ‰äººæŠ•ç¥¨ã€‚</p>';
    } else {
        poll.options.forEach(option => {
            const voters = poll.votes[option] || [];
            resultsHtml += `
                <div style="margin-bottom: 15px;">
                    <p style="font-weight: 500; margin: 0 0 5px 0;">${option} (${voters.length}ç¥¨)</p>
                    <p style="font-size: 13px; color: #555; margin: 0; line-height: 1.5;">
                        ${voters.length > 0 ? voters.join('ã€ ') : 'æ— äººæŠ•ç¥¨'}
                    </p>
                </div>
            `;
        });
    }

    showCustomAlert("æŠ•ç¥¨ç»“æœ", resultsHtml);
}

// â–²â–²â–² æ–°å‡½æ•°ç²˜è´´ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ ã€å…¨æ–°ã€‘AIå¤´åƒåº“ç®¡ç†åŠŸèƒ½å‡½æ•° â–¼â–¼â–¼

/**
 * æ‰“å¼€AIå¤´åƒåº“ç®¡ç†æ¨¡æ€æ¡†
 */
function openAiAvatarLibraryModal() {
    if (!state.activeChatId) return;
    const chat = state.chats[state.activeChatId];
    document.getElementById('ai-avatar-library-title').textContent = `â€œ${chat.name}â€çš„å¤´åƒåº“`;
    renderAiAvatarLibrary();
    document.getElementById('ai-avatar-library-modal').classList.add('visible');
}

/**
 * æ¸²æŸ“AIå¤´åƒåº“çš„å†…å®¹
 */
function renderAiAvatarLibrary() {
    const grid = document.getElementById('ai-avatar-library-grid');
    grid.innerHTML = '';
    const chat = state.chats[state.activeChatId];
    const library = chat.settings.aiAvatarLibrary || [];

    if (library.length === 0) {
        grid.innerHTML = '<p style="color: var(--text-secondary); grid-column: 1 / -1; text-align: center;">è¿™ä¸ªå¤´åƒåº“è¿˜æ˜¯ç©ºçš„ï¼Œç‚¹å‡»å³ä¸Šè§’â€œæ·»åŠ â€å§ï¼</p>';
        return;
    }

    library.forEach((avatar, index) => {
        const item = document.createElement('div');
        item.className = 'sticker-item'; // å¤ç”¨è¡¨æƒ…é¢æ¿çš„æ ·å¼
        item.style.backgroundImage = `url(${avatar.url})`;
        item.title = avatar.name;

        const deleteBtn = document.createElement('div');
        deleteBtn.className = 'delete-btn';
        deleteBtn.innerHTML = 'Ã—';
        deleteBtn.style.display = 'block'; // æ€»æ˜¯æ˜¾ç¤ºåˆ é™¤æŒ‰é’®
        deleteBtn.onclick = async (e) => {
            e.stopPropagation();
            const confirmed = await showCustomConfirm('åˆ é™¤å¤´åƒ', `ç¡®å®šè¦ä»å¤´åƒåº“ä¸­åˆ é™¤â€œ${avatar.name}â€å—ï¼Ÿ`, { confirmButtonClass: 'btn-danger' });
            if (confirmed) {
                chat.settings.aiAvatarLibrary.splice(index, 1);
                await db.chats.put(chat);
                renderAiAvatarLibrary();
            }
        };
        item.appendChild(deleteBtn);
        grid.appendChild(item);
    });
}

/**
 * å‘å½“å‰AIçš„å¤´åƒåº“ä¸­æ·»åŠ æ–°å¤´åƒ
 */
async function addAvatarToLibrary() {
    const name = await showCustomPrompt("æ·»åŠ å¤´åƒ", "è¯·ä¸ºè¿™ä¸ªå¤´åƒèµ·ä¸ªåå­—ï¼ˆä¾‹å¦‚ï¼šå¼€å¿ƒã€å“­æ³£ï¼‰");
    if (!name || !name.trim()) return;

    const url = await showCustomPrompt("æ·»åŠ å¤´åƒ", "è¯·è¾“å…¥å¤´åƒçš„å›¾ç‰‡URL", "", "url");
    if (!url || !url.trim().startsWith('http')) {
        alert("è¯·è¾“å…¥æœ‰æ•ˆçš„å›¾ç‰‡URLï¼");
        return;
    }
    
    const chat = state.chats[state.activeChatId];
    if (!chat.settings.aiAvatarLibrary) {
        chat.settings.aiAvatarLibrary = [];
    }

    chat.settings.aiAvatarLibrary.push({ name: name.trim(), url: url.trim() });
    await db.chats.put(chat);
    renderAiAvatarLibrary();
}

/**
 * å…³é—­AIå¤´åƒåº“ç®¡ç†æ¨¡æ€æ¡†
 */
function closeAiAvatarLibraryModal() {
    document.getElementById('ai-avatar-library-modal').classList.remove('visible');
}

// â–²â–²â–² æ–°å‡½æ•°ç²˜è´´ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ è¯·å°†è¿™ä¸¤ä¸ªã€æ–°å‡½æ•°ã€‘ç²˜è´´åˆ°JSåŠŸèƒ½å‡½æ•°å®šä¹‰åŒº â–¼â–¼â–¼

/**
 * ã€å…¨æ–°ã€‘å°†ä¿å­˜çš„å›¾æ ‡URLåº”ç”¨åˆ°ä¸»å±å¹•çš„Appå›¾æ ‡ä¸Š
 */
function applyAppIcons() {
    if (!state.globalSettings.appIcons) return;

    for (const iconId in state.globalSettings.appIcons) {
        const imgElement = document.getElementById(`icon-img-${iconId}`);
        if (imgElement) {
            imgElement.src = state.globalSettings.appIcons[iconId];
        }
    }
}

/**
 * ã€å…¨æ–°ã€‘åœ¨å¤–è§‚è®¾ç½®é¡µé¢æ¸²æŸ“å‡ºæ‰€æœ‰Appå›¾æ ‡çš„è®¾ç½®é¡¹
 */
function renderIconSettings() {
    const grid = document.getElementById('icon-settings-grid');
    if (!grid) return;
    grid.innerHTML = '';

    const appLabels = {
        'world-book': 'ä¸–ç•Œä¹¦',
        'qq': 'QQ',
        'api-settings': 'APIè®¾ç½®',
        'wallpaper': 'å£çº¸',
        'font': 'å­—ä½“'
    };

    for (const iconId in state.globalSettings.appIcons) {
        const iconUrl = state.globalSettings.appIcons[iconId];
        const labelText = appLabels[iconId] || 'æœªçŸ¥App';

        const item = document.createElement('div');
        item.className = 'icon-setting-item';
        // ã€é‡è¦ã€‘æˆ‘ä»¬ç”¨ data-icon-id æ¥æ ‡è®°è¿™ä¸ªè®¾ç½®é¡¹å¯¹åº”å“ªä¸ªå›¾æ ‡
        item.dataset.iconId = iconId; 

        item.innerHTML = `
            <img class="icon-preview" src="${iconUrl}" alt="${labelText}">
            <button class="change-icon-btn">æ›´æ¢</button>
        `;
        grid.appendChild(item);
    }
}
// â–²â–²â–² æ–°å‡½æ•°ç²˜è´´ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ ç”¨è¿™å—ã€æœ€ç»ˆç¡®è®¤ç‰ˆã€‘çš„ä»£ç ï¼Œæ›¿æ¢æ—§çš„ openBrowser å’Œ closeBrowser å‡½æ•° â–¼â–¼â–¼

/**
 * å½“ç”¨æˆ·ç‚¹å‡»é“¾æ¥å¡ç‰‡æ—¶ï¼Œæ‰“å¼€ä¼ªæµè§ˆå™¨
 * @param {number} timestamp - è¢«ç‚¹å‡»æ¶ˆæ¯çš„æ—¶é—´æˆ³
 */
function openBrowser(timestamp) {
    if (!state.activeChatId) return;

    const chat = state.chats[state.activeChatId];
    // å®‰å…¨æ£€æŸ¥ï¼Œç¡®ä¿ chat å’Œ history éƒ½å­˜åœ¨
    if (!chat || !chat.history) return;

    const message = chat.history.find(m => m.timestamp === timestamp);
    if (!message || message.type !== 'share_link') {
        console.error("æ— æ³•æ‰¾åˆ°æˆ–æ¶ˆæ¯ç±»å‹ä¸åŒ¹é…çš„åˆ†äº«é“¾æ¥:", timestamp);
        return; // å¦‚æœæ‰¾ä¸åˆ°æ¶ˆæ¯ï¼Œå°±ç›´æ¥é€€å‡º
    }

    // å¡«å……æµè§ˆå™¨å†…å®¹
    document.getElementById('browser-title').textContent = message.source_name || 'æ–‡ç« è¯¦æƒ…';
    const browserContent = document.getElementById('browser-content');
    browserContent.innerHTML = `
        <h1 class="article-title">${message.title || 'æ— æ ‡é¢˜'}</h1>
        <div class="article-meta">
            <span>æ¥æº: ${message.source_name || 'æœªçŸ¥'}</span>
        </div>
        <div class="article-body">
            <p>${(message.content || 'å†…å®¹ä¸ºç©ºã€‚').replace(/\n/g, '</p><p>')}</p>
        </div>
    `;

    // æ˜¾ç¤ºæµè§ˆå™¨å±å¹•
    showScreen('browser-screen');
}

/**
 * å…³é—­ä¼ªæµè§ˆå™¨ï¼Œè¿”å›èŠå¤©ç•Œé¢
 * (è¿™ä¸ªå‡½æ•°ç°åœ¨ç”± init() ä¸­çš„äº‹ä»¶ç›‘å¬å™¨è°ƒç”¨)
 */
function closeBrowser() {
    showScreen('chat-interface-screen'); 
}

// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ç”¨æˆ·åˆ†äº«é“¾æ¥åŠŸèƒ½çš„æ ¸å¿ƒå‡½æ•° â–¼â–¼â–¼

/**
 * æ‰“å¼€è®©ç”¨æˆ·å¡«å†™é“¾æ¥ä¿¡æ¯çš„æ¨¡æ€æ¡†
 */
function openShareLinkModal() {
    if (!state.activeChatId) return;

    // æ¸…ç©ºä¸Šæ¬¡è¾“å…¥çš„å†…å®¹
    document.getElementById('link-title-input').value = '';
    document.getElementById('link-description-input').value = '';
    document.getElementById('link-source-input').value = '';
    document.getElementById('link-content-input').value = '';

    // æ˜¾ç¤ºæ¨¡æ€æ¡†
    document.getElementById('share-link-modal').classList.add('visible');
}

/**
 * ç”¨æˆ·ç¡®è®¤åˆ†äº«ï¼Œåˆ›å»ºå¹¶å‘é€é“¾æ¥å¡ç‰‡æ¶ˆæ¯
 */
async function sendUserLinkShare() {
    if (!state.activeChatId) return;

    const title = document.getElementById('link-title-input').value.trim();
    if (!title) {
        alert("æ ‡é¢˜æ˜¯å¿…å¡«é¡¹å“¦ï¼");
        return;
    }

    const description = document.getElementById('link-description-input').value.trim();
    const sourceName = document.getElementById('link-source-input').value.trim();
    const content = document.getElementById('link-content-input').value.trim();

    const chat = state.chats[state.activeChatId];
    
    // åˆ›å»ºæ¶ˆæ¯å¯¹è±¡
    const linkMessage = {
        role: 'user', // è§’è‰²æ˜¯ 'user'
        type: 'share_link',
        timestamp: Date.now(),
        title: title,
        description: description,
        source_name: sourceName,
        content: content,
        // ç”¨æˆ·åˆ†äº«çš„é“¾æ¥ï¼Œæˆ‘ä»¬ä¸æä¾›å›¾ç‰‡ï¼Œè®©å®ƒæ€»æ˜¯æ˜¾ç¤ºå ä½å›¾
        thumbnail_url: null 
    };

    // å°†æ¶ˆæ¯æ·»åŠ åˆ°å†å²è®°å½•
    chat.history.push(linkMessage);
    await db.chats.put(chat);

    // æ¸²æŸ“æ–°æ¶ˆæ¯å¹¶æ›´æ–°åˆ—è¡¨
    appendMessage(linkMessage, chat);
    renderChatList();

    // å…³é—­æ¨¡æ€æ¡†
    document.getElementById('share-link-modal').classList.remove('visible');
}

// â–²â–²â–² æ–°å‡½æ•°ç²˜è´´ç»“æŸ â–²â–²â–²

/**
 * æ ¹æ®AIçš„è§†è§’ï¼Œè¿‡æ»¤å‡ºå®ƒèƒ½çœ‹åˆ°çš„åŠ¨æ€
 * @param {Array} allPosts - æ‰€æœ‰å¾…æ£€æŸ¥çš„åŠ¨æ€å¸–å­
 * @param {object} viewerChat - æ­£åœ¨â€œçœ‹â€åŠ¨æ€çš„é‚£ä¸ªAIçš„chatå¯¹è±¡
 * @returns {Array} - è¿‡æ»¤åè¯¥AIå¯è§çš„åŠ¨æ€å¸–å­
 */
function filterVisiblePostsForAI(allPosts, viewerChat) {
    if (!viewerChat || !viewerChat.id) return []; // å®‰å…¨æ£€æŸ¥

    const viewerGroupId = viewerChat.groupId; // æŸ¥çœ‹è€…æ‰€åœ¨çš„åˆ†ç»„ID

    return allPosts.filter(post => {
        // è§„åˆ™1ï¼šå¦‚æœæ˜¯ç”¨æˆ·å‘çš„åŠ¨æ€
        if (post.authorId === 'user') {
            // å¦‚æœç”¨æˆ·è®¾ç½®äº†â€œéƒ¨åˆ†å¯è§â€
            if (post.visibleGroupIds && post.visibleGroupIds.length > 0) {
                // åªæœ‰å½“æŸ¥çœ‹è€…AIçš„åˆ†ç»„IDåœ¨ç”¨æˆ·çš„å¯è§åˆ—è¡¨é‡Œæ—¶ï¼Œæ‰å¯è§
                return viewerGroupId && post.visibleGroupIds.includes(viewerGroupId);
            }
            // å¦‚æœç”¨æˆ·æ²¡è®¾ç½®ï¼Œè¯´æ˜æ˜¯å…¬å¼€çš„ï¼Œæ‰€æœ‰AIéƒ½å¯è§
            return true;
        }

        // è§„åˆ™2ï¼šå¦‚æœæ˜¯å…¶ä»–AIå‘çš„åŠ¨æ€
        const authorGroupId = post.authorGroupId; // å‘å¸–AIæ‰€åœ¨çš„åˆ†ç»„ID
        
        // å¦‚æœå‘å¸–çš„AIæ²¡æœ‰åˆ†ç»„ï¼Œé‚£å®ƒçš„åŠ¨æ€å°±æ˜¯å…¬å¼€çš„
        if (!authorGroupId) {
            return true;
        }

        // å¦‚æœå‘å¸–çš„AIæœ‰åˆ†ç»„ï¼Œé‚£ä¹ˆåªæœ‰åœ¨åŒä¸€ä¸ªåˆ†ç»„çš„AIæ‰èƒ½çœ‹åˆ°
        return authorGroupId === viewerGroupId;
    });
}

/**
 * åº”ç”¨æŒ‡å®šçš„ä¸»é¢˜ï¼ˆ'light' æˆ– 'dark'ï¼‰
 * @param {string} theme - è¦åº”ç”¨çš„ä¸»é¢˜åç§°
 */
function applyTheme(theme) {
    const phoneScreen = document.getElementById('phone-screen');
    const toggleSwitch = document.getElementById('theme-toggle-switch');
    
    const isDark = theme === 'dark';
    
    phoneScreen.classList.toggle('dark-mode', isDark);
    
    // å¦‚æœå¼€å…³å­˜åœ¨ï¼Œå°±åŒæ­¥å®ƒçš„çŠ¶æ€
    if (toggleSwitch) {
        toggleSwitch.checked = isDark;
    }
    
    localStorage.setItem('ephone-theme', theme);
}

/**
 * åˆ‡æ¢å½“å‰çš„ä¸»é¢˜
 */
function toggleTheme() {
    const toggleSwitch = document.getElementById('theme-toggle-switch');
    // ç›´æ¥æ ¹æ®å¼€å…³çš„é€‰ä¸­çŠ¶æ€æ¥å†³å®šæ–°ä¸»é¢˜
    const newTheme = toggleSwitch.checked ? 'dark' : 'light';
    applyTheme(newTheme);
}

// â–¼â–¼â–¼ è¯·å°†è¿™ã€ä¸€æ•´å—æ–°å‡½æ•°ã€‘ç²˜è´´åˆ°ä½ çš„JSåŠŸèƒ½å‡½æ•°å®šä¹‰åŒº â–¼â–¼â–¼

function startReplyToMessage() {
    if (!activeMessageTimestamp) return;

    const chat = state.chats[state.activeChatId];
    const message = chat.history.find(m => m.timestamp === activeMessageTimestamp);
    if (!message) return;

    // 1. ã€æ ¸å¿ƒä¿®æ­£ã€‘åŒæ—¶è·å–â€œå®Œæ•´å†…å®¹â€å’Œâ€œé¢„è§ˆç‰‡æ®µâ€
    const fullContent = String(message.content || '');
    let previewSnippet = '';

    if (typeof message.content === 'string' && STICKER_REGEX.test(message.content)) {
        previewSnippet = '[è¡¨æƒ…]';
    } else if (message.type === 'ai_image' || message.type === 'user_photo') {
        previewSnippet = '[å›¾ç‰‡]';
    } else if (message.type === 'voice_message') {
        previewSnippet = '[è¯­éŸ³]';
    } else {
        // é¢„è§ˆç‰‡æ®µä¾ç„¶æˆªæ–­ï¼Œä½†åªç”¨äºUIæ˜¾ç¤º
        previewSnippet = fullContent.substring(0, 50) + (fullContent.length > 50 ? '...' : '');
    }
    
    // 2. ã€æ ¸å¿ƒä¿®æ­£ã€‘å°†â€œå®Œæ•´å†…å®¹â€å­˜å…¥ä¸Šä¸‹æ–‡ï¼Œä»¥å¤‡å‘é€æ—¶ä½¿ç”¨
    currentReplyContext = {
        timestamp: message.timestamp,
        senderName: message.senderName || (message.role === 'user' ? (chat.settings.myNickname || 'æˆ‘') : chat.name),
        content: fullContent, // <--- è¿™é‡Œå­˜çš„æ˜¯å®Œæ•´çš„åŸæ–‡ï¼
    };

    // 3. ã€æ ¸å¿ƒä¿®æ­£ã€‘ä»…åœ¨æ›´æ–°â€œå›å¤é¢„è§ˆæ â€æ—¶ï¼Œæ‰ä½¿ç”¨â€œé¢„è§ˆç‰‡æ®µâ€
    const previewBar = document.getElementById('reply-preview-bar');
    previewBar.querySelector('.sender').textContent = `å›å¤ ${currentReplyContext.senderName}:`;
    previewBar.querySelector('.text').textContent = previewSnippet; // <--- è¿™é‡Œç”¨çš„æ˜¯ç¼©ç•¥ç‰ˆï¼
    previewBar.style.display = 'block';

    // 4. åç»­æ“ä½œä¿æŒä¸å˜
    hideMessageActions();
    document.getElementById('chat-input').focus();
}

/**
 * ã€å…¨æ–°ã€‘å–æ¶ˆå¼•ç”¨æ¨¡å¼
 */
function cancelReplyMode() {
    currentReplyContext = null;
    document.getElementById('reply-preview-bar').style.display = 'none';
}

// â–²â–²â–² æ–°å‡½æ•°ç²˜è´´ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ç”¨æˆ·å¤„ç†è½¬è´¦çš„æ ¸å¿ƒåŠŸèƒ½å‡½æ•° â–¼â–¼â–¼

let activeTransferTimestamp = null; // ç”¨äºæš‚å­˜è¢«ç‚¹å‡»çš„è½¬è´¦æ¶ˆæ¯çš„æ—¶é—´æˆ³

/**
 * æ˜¾ç¤ºå¤„ç†è½¬è´¦çš„æ“ä½œèœå•
 * @param {number} timestamp - è¢«ç‚¹å‡»çš„è½¬è´¦æ¶ˆæ¯çš„æ—¶é—´æˆ³
 */
function showTransferActionModal(timestamp) {
    activeTransferTimestamp = timestamp;

    const chat = state.chats[state.activeChatId];
    const message = chat.history.find(m => m.timestamp === timestamp);
    if (message) {
        // å°†AIçš„åå­—å¡«å…¥å¼¹çª—
        document.getElementById('transfer-sender-name').textContent = message.senderName;
    }
    document.getElementById('transfer-actions-modal').classList.add('visible');
}

/**
 * éšè—å¤„ç†è½¬è´¦çš„æ“ä½œèœå•
 */
function hideTransferActionModal() {
    document.getElementById('transfer-actions-modal').classList.remove('visible');
    activeTransferTimestamp = null;
}

/**
 * å¤„ç†ç”¨æˆ·æ¥å—æˆ–æ‹’ç»è½¬è´¦çš„é€»è¾‘
 * @param {string} choice - ç”¨æˆ·çš„é€‰æ‹©, 'accepted' æˆ– 'declined'
 */
async function handleUserTransferResponse(choice) {
    if (!activeTransferTimestamp) return;

    const timestamp = activeTransferTimestamp;
    const chat = state.chats[state.activeChatId];
    const messageIndex = chat.history.findIndex(m => m.timestamp === timestamp);
    if (messageIndex === -1) return;

    // 1. æ›´æ–°åŸå§‹è½¬è´¦æ¶ˆæ¯çš„çŠ¶æ€
    const originalMessage = chat.history[messageIndex];
    originalMessage.status = choice;

    let systemContent;

    // 2. å¦‚æœç”¨æˆ·é€‰æ‹©â€œæ‹’ç»â€
    if (choice === 'declined') {
        // ç«‹åˆ»åœ¨å‰ç«¯ç”Ÿæˆä¸€ä¸ªâ€œé€€æ¬¾â€å¡ç‰‡ï¼Œè®©ç”¨æˆ·çœ‹åˆ°
        const refundMessage = {
            role: 'user',
            type: 'transfer',
            isRefund: true, // è¿™æ˜¯ä¸€ä¸ªå…³é”®æ ‡è®°ï¼Œç”¨äºUIæ˜¾ç¤ºè¿™æ˜¯é€€æ¬¾
            amount: originalMessage.amount,
            note: 'å·²æ‹’æ”¶å¯¹æ–¹è½¬è´¦',
            timestamp: Date.now()
        };
        chat.history.push(refundMessage);
        
        // å‡†å¤‡ä¸€æ¡å¯¹AIå¯è§çš„éšè—æ¶ˆæ¯ï¼Œå‘Šè¯‰å®ƒå‘ç”Ÿäº†ä»€ä¹ˆ
        systemContent = `[ç³»ç»Ÿæç¤ºï¼šä½ æ‹’ç»å¹¶é€€è¿˜äº†â€œ${originalMessage.senderName}â€çš„è½¬è´¦ã€‚]`;
    } else { // å¦‚æœç”¨æˆ·é€‰æ‹©â€œæ¥å—â€
        // åªéœ€å‡†å¤‡éšè—æ¶ˆæ¯é€šçŸ¥AIå³å¯
        systemContent = `[ç³»ç»Ÿæç¤ºï¼šä½ æ¥å—äº†â€œ${originalMessage.senderName}â€çš„è½¬è´¦ã€‚]`;
    }

    // 3. åˆ›å»ºè¿™æ¡å¯¹ç”¨æˆ·éšè—ã€ä½†å¯¹AIå¯è§çš„ç³»ç»Ÿæ¶ˆæ¯
    const hiddenMessage = {
        role: 'system',
        content: systemContent,
        timestamp: Date.now() + 1, // ä¿è¯æ—¶é—´æˆ³åœ¨é€€æ¬¾æ¶ˆæ¯ä¹‹å
        isHidden: true // è¿™ä¸ªæ ‡è®°ä¼šè®©å®ƒä¸åœ¨èŠå¤©ç•Œé¢æ˜¾ç¤º
    };
    chat.history.push(hiddenMessage);

    // 4. ä¿å­˜æ‰€æœ‰æ›´æ”¹åˆ°æ•°æ®åº“ï¼Œå¹¶åˆ·æ–°ç•Œé¢
    await db.chats.put(chat);
    hideTransferActionModal(); 
    renderChatInterface(state.activeChatId);
    renderChatList();
}

// â–²â–²â–² æ–°å‡½æ•°ç²˜è´´ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ ã€å…¨æ–°ã€‘é€šè¯è®°å½•åŠŸèƒ½æ ¸å¿ƒå‡½æ•° â–¼â–¼â–¼

async function renderCallHistoryScreen() {
    showScreen('call-history-screen'); // <--ã€æ ¸å¿ƒä¿®æ­£ã€‘æŠŠå®ƒç§»åŠ¨åˆ°æœ€å‰é¢ï¼

    const listEl = document.getElementById('call-history-list');
    const titleEl = document.getElementById('call-history-title');
    listEl.innerHTML = '';
    titleEl.textContent = 'æ‰€æœ‰é€šè¯è®°å½•';
    
    const records = await db.callRecords.orderBy('timestamp').reverse().toArray();
    
    if (records.length === 0) {
        listEl.innerHTML = '<p style="text-align:center; color: var(--text-secondary); padding: 50px 0;">è¿™é‡Œè¿˜æ²¡æœ‰é€šè¯è®°å½•å“¦~</p>';
        return; // ç°åœ¨çš„ return å°±æ²¡é—®é¢˜äº†ï¼Œå› ä¸ºå®ƒåªè·³è¿‡äº†åç»­çš„æ¸²æŸ“é€»è¾‘
    }
    
    records.forEach(record => {
        const card = createCallRecordCard(record);

    addLongPressListener(card, async () => {
        // 1. å¼¹å‡ºè¾“å…¥æ¡†ï¼Œå¹¶å°†æ—§åç§°ä½œä¸ºé»˜è®¤å€¼ï¼Œæ–¹ä¾¿ä¿®æ”¹
        const newName = await showCustomPrompt(
            "è‡ªå®šä¹‰é€šè¯åç§°", 
            "è¯·è¾“å…¥æ–°çš„åç§°ï¼ˆç•™ç©ºåˆ™æ¢å¤é»˜è®¤ï¼‰",
            record.customName || '' // å¦‚æœå·²æœ‰è‡ªå®šä¹‰åç§°ï¼Œå°±æ˜¾ç¤ºå®ƒ
        );

        // 2. å¦‚æœç”¨æˆ·ç‚¹å‡»äº†â€œå–æ¶ˆâ€ï¼Œåˆ™ä»€ä¹ˆéƒ½ä¸åš
        if (newName === null) return;
        
        // 3. æ›´æ–°æ•°æ®åº“ä¸­çš„è¿™æ¡è®°å½•
        await db.callRecords.update(record.id, { customName: newName.trim() });
        
        // 4. åˆ·æ–°æ•´ä¸ªåˆ—è¡¨ï¼Œè®©æ›´æ”¹ç«‹åˆ»æ˜¾ç¤ºå‡ºæ¥
        await renderCallHistoryScreen();
        
        // 5. ç»™ç”¨æˆ·ä¸€ä¸ªæˆåŠŸçš„æç¤º
        await showCustomAlert('æˆåŠŸ', 'é€šè¯åç§°å·²æ›´æ–°ï¼');
    });
        listEl.appendChild(card);
    });    
}

// â–¼â–¼â–¼ ç”¨è¿™ä¸ªã€å‡çº§ç‰ˆã€‘å‡½æ•°ï¼Œå®Œæ•´æ›¿æ¢ä½ æ—§çš„ createCallRecordCard å‡½æ•° â–¼â–¼â–¼
/**
 * ã€å‡çº§ç‰ˆã€‘æ ¹æ®å•æ¡è®°å½•æ•°æ®ï¼Œåˆ›å»ºä¸€å¼ èƒ½æ˜¾ç¤ºèŠå¤©å¯¹è±¡çš„é€šè¯å¡ç‰‡
 * @param {object} record - ä¸€æ¡é€šè¯è®°å½•å¯¹è±¡
 * @returns {HTMLElement} - åˆ›å»ºå¥½çš„å¡ç‰‡div
 */
function createCallRecordCard(record) {
    const card = document.createElement('div');
    card.className = 'call-record-card';
    card.dataset.recordId = record.id; 

    // è·å–é€šè¯å¯¹è±¡çš„åå­—
    const chatInfo = state.chats[record.chatId];
    const chatName = chatInfo ? chatInfo.name : 'æœªçŸ¥ä¼šè¯';

    const callDate = new Date(record.timestamp);
    const dateString = `${callDate.getFullYear()}-${String(callDate.getMonth() + 1).padStart(2, '0')}-${String(callDate.getDate()).padStart(2, '0')} ${String(callDate.getHours()).padStart(2, '0')}:${String(callDate.getMinutes()).padStart(2, '0')}`;
    const durationText = `${Math.floor(record.duration / 60)}åˆ†${record.duration % 60}ç§’`;

    const avatarsHtml = record.participants.map(p => 
        `<img src="${p.avatar}" alt="${p.name}" class="participant-avatar" title="${p.name}">`
    ).join('');
    
    card.innerHTML = `
        <div class="card-header">
            <span class="date">${dateString}</span>
            <span class="duration">${durationText}</span>
        </div>
        <div class="card-body">
            <!-- ã€æ ¸å¿ƒä¿®æ”¹ã€‘åœ¨è¿™é‡Œæ–°å¢ä¸€ä¸ªæ ‡é¢˜è¡Œ -->
            ${record.customName ? `<div class="custom-title">${record.customName}</div>` : ''}
            
            <div class="participants-info"> <!-- æ–°å¢ä¸€ä¸ªå®¹å™¨æ–¹ä¾¿å¸ƒå±€ -->
                <div class="participants-avatars">${avatarsHtml}</div>
                <span class="participants-names">ä¸ ${chatName}</span>
            </div>
        </div>
    `;
    return card;
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

/**
 * æ˜¾ç¤ºæŒ‡å®šé€šè¯è®°å½•çš„å®Œæ•´æ–‡å­—ç¨¿
 * @param {number} recordId - é€šè¯è®°å½•çš„ID
 */
async function showCallTranscript(recordId) {
    const record = await db.callRecords.get(recordId);
    if (!record) return;

    const modal = document.getElementById('call-transcript-modal');
    const titleEl = document.getElementById('transcript-modal-title');
    const bodyEl = document.getElementById('transcript-modal-body');

    titleEl.textContent = `é€šè¯äº ${new Date(record.timestamp).toLocaleString()} (æ—¶é•¿: ${Math.floor(record.duration / 60)}åˆ†${record.duration % 60}ç§’)`;
    bodyEl.innerHTML = '';
    
    if (!record.transcript || record.transcript.length === 0) {
        bodyEl.innerHTML = '<p style="text-align:center; color: #8a8a8a;">è¿™æ¬¡é€šè¯æ²¡æœ‰ç•™ä¸‹æ–‡å­—è®°å½•ã€‚</p>';
    } else {
        record.transcript.forEach(entry => {
            const bubble = document.createElement('div');
            // æ ¹æ®è§’è‰²æ·»åŠ ä¸åŒçš„classï¼Œåº”ç”¨ä¸åŒçš„æ ·å¼
            bubble.className = `transcript-entry ${entry.role}`; 
            bubble.textContent = entry.content;
            bodyEl.appendChild(bubble);
        });
    }

    const deleteBtn = document.getElementById('delete-transcript-btn');
    
    // ã€é‡è¦ã€‘ä½¿ç”¨å…‹éš†èŠ‚ç‚¹æŠ€å·§ï¼Œé˜²æ­¢äº‹ä»¶é‡å¤ç»‘å®š
    const newDeleteBtn = deleteBtn.cloneNode(true);
    deleteBtn.parentNode.replaceChild(newDeleteBtn, deleteBtn);
    
    // ä¸ºæ–°çš„ã€å¹²å‡€çš„æŒ‰é’®ç»‘å®šäº‹ä»¶
    newDeleteBtn.addEventListener('click', async () => {
        const confirmed = await showCustomConfirm(
            "ç¡®è®¤åˆ é™¤",
            "ç¡®å®šè¦æ°¸ä¹…åˆ é™¤è¿™æ¡é€šè¯è®°å½•å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚",
            { confirmButtonClass: 'btn-danger' }
        );

        if (confirmed) {
            // 1. å…³é—­å½“å‰çš„è¯¦æƒ…å¼¹çª—
            modal.classList.remove('visible');
            
            // 2. ä»æ•°æ®åº“åˆ é™¤
            await db.callRecords.delete(recordId);
            
            // 3. åˆ·æ–°é€šè¯è®°å½•åˆ—è¡¨
            await renderCallHistoryScreen();
            
            // 4. (å¯é€‰) ç»™å‡ºæˆåŠŸæç¤º
            alert('é€šè¯è®°å½•å·²åˆ é™¤ã€‚');
        }
    });
    modal.classList.add('visible');
}

// â–²â–²â–² æ–°å‡½æ•°ç²˜è´´ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ è¯·ç”¨è¿™ä¸ªã€å…¨æ–°å‡½æ•°ã€‘æ›¿æ¢æ‰ä½ æ—§çš„ handleStatusResetClick å‡½æ•° â–¼â–¼â–¼

/**
 * ã€å…¨æ–°ã€‘å¤„ç†ç”¨æˆ·ç‚¹å‡»çŠ¶æ€æ ï¼Œå¼¹å‡ºç¼–è¾‘æ¡†è®©ç”¨æˆ·ä¿®æ”¹AIçš„å½“å‰çŠ¶æ€
 */
async function handleEditStatusClick() {
    // 1. å®‰å…¨æ£€æŸ¥ï¼Œç¡®ä¿åœ¨å•èŠç•Œé¢
    if (!state.activeChatId || state.chats[state.activeChatId].isGroup) {
        return; 
    }
    const chat = state.chats[state.activeChatId];

    // 2. å¼¹å‡ºè¾“å…¥æ¡†ï¼Œè®©ç”¨æˆ·è¾“å…¥æ–°çš„çŠ¶æ€ï¼Œå¹¶å°†å½“å‰çŠ¶æ€ä½œä¸ºé»˜è®¤å€¼
    const newStatusText = await showCustomPrompt(
        'ç¼–è¾‘å¯¹æ–¹çŠ¶æ€',
        'è¯·è¾“å…¥å¯¹æ–¹ç°åœ¨çš„æ–°çŠ¶æ€ï¼š',
        chat.status.text // å°†å½“å‰çŠ¶æ€ä½œä¸ºè¾“å…¥æ¡†çš„é»˜è®¤å†…å®¹
    );

    // 3. å¦‚æœç”¨æˆ·è¾“å…¥äº†å†…å®¹å¹¶ç‚¹å‡»äº†â€œç¡®å®šâ€
    if (newStatusText !== null) {
        // 4. æ›´æ–°å†…å­˜å’Œæ•°æ®åº“ä¸­çš„çŠ¶æ€æ•°æ®
        chat.status.text = newStatusText.trim() || 'åœ¨çº¿'; // å¦‚æœç”¨æˆ·æ¸…ç©ºäº†ï¼Œå°±é»˜è®¤ä¸ºâ€œåœ¨çº¿â€
        chat.status.isBusy = false; // æ¯æ¬¡æ‰‹åŠ¨ç¼–è¾‘éƒ½é»˜è®¤å…¶ä¸å¤„äºâ€œå¿™ç¢Œâ€çŠ¶æ€
        chat.status.lastUpdate = Date.now();
        await db.chats.put(chat);

        // 5. ç«‹åˆ»åˆ·æ–°UIï¼Œè®©ç”¨æˆ·çœ‹åˆ°ä¿®æ”¹åçš„çŠ¶æ€
        renderChatInterface(state.activeChatId);
        renderChatList();
        
        // 6. ç»™å‡ºä¸€ä¸ªæ— ä¼¤å¤§é›…çš„æˆåŠŸæç¤º
        await showCustomAlert('çŠ¶æ€å·²æ›´æ–°', `â€œ${chat.name}â€çš„å½“å‰çŠ¶æ€å·²æ›´æ–°ä¸ºï¼š${chat.status.text}`);
    }
}

// æ”¾åœ¨ä½ çš„JSåŠŸèƒ½å‡½æ•°å®šä¹‰åŒº
async function openShareTargetPicker() {
    const modal = document.getElementById('share-target-modal');
    const listEl = document.getElementById('share-target-list');
    listEl.innerHTML = '';

    // è·å–æ‰€æœ‰èŠå¤©ä½œä¸ºåˆ†äº«ç›®æ ‡
    const chats = Object.values(state.chats);

    chats.forEach(chat => {
        // å¤ç”¨è”ç³»äººé€‰æ‹©å™¨çš„æ ·å¼
        const item = document.createElement('div');
        item.className = 'contact-picker-item'; 
        item.innerHTML = `
            <input type="checkbox" class="share-target-checkbox" data-chat-id="${chat.id}" style="margin-right: 15px;">
            <img src="${chat.isGroup ? chat.settings.groupAvatar : chat.settings.aiAvatar || defaultAvatar}" class="avatar">
            <span class="name">${chat.name}</span>
        `;
        listEl.appendChild(item);
    });
    
    modal.classList.add('visible');
}

function closeMusicPlayerWithAnimation(callback) {
    const overlay = document.getElementById('music-player-overlay');
    if (!overlay.classList.contains('visible')) {
        if (callback) callback();
        return;
    }
    overlay.classList.remove('visible');
    setTimeout(() => {
        document.getElementById('music-playlist-panel').classList.remove('visible');
        if (callback) callback();
    }, 400); 
}

function parseLRC(lrcContent) {
    if (!lrcContent) return [];
    const lines = lrcContent.split('\n');
    const lyrics = [];
    const timeRegex = /\[(\d{2}):(\d{2})[.:](\d{2,3})\]/g;

    for (const line of lines) {
        const text = line.replace(timeRegex, '').trim();
        if (!text) continue;
        timeRegex.lastIndex = 0;
        let match;
        while ((match = timeRegex.exec(line)) !== null) {
            const minutes = parseInt(match[1], 10);
            const seconds = parseInt(match[2], 10);
            const milliseconds = parseInt(match[3].padEnd(3, '0'), 10);
            const time = minutes * 60 + seconds + milliseconds / 1000;
            lyrics.push({ time, text });
        }
    }
    return lyrics.sort((a, b) => a.time - b.time);
}

function renderLyrics() {
    const lyricsList = document.getElementById('music-lyrics-list');
    lyricsList.innerHTML = '';
    if (!musicState.parsedLyrics || musicState.parsedLyrics.length === 0) {
        lyricsList.innerHTML = '<div class="lyric-line">â™ª æš‚æ— æ­Œè¯ â™ª</div>';
        return;
    }
    musicState.parsedLyrics.forEach((line, index) => {
        const lineEl = document.createElement('div');
        lineEl.className = 'lyric-line';
        lineEl.textContent = line.text;
        lineEl.dataset.index = index;
        lyricsList.appendChild(lineEl);
    });
    lyricsList.style.transform = `translateY(0px)`;
}

function updateActiveLyric(currentTime) {
    if (musicState.parsedLyrics.length === 0) return;
    let newLyricIndex = -1;
    for (let i = 0; i < musicState.parsedLyrics.length; i++) {
        if (currentTime >= musicState.parsedLyrics[i].time) {
            newLyricIndex = i;
        } else {
            break;
        }
    }
    if (newLyricIndex === musicState.currentLyricIndex) return;
    musicState.currentLyricIndex = newLyricIndex;
    updateLyricsUI();
}

function updateLyricsUI() {
    const lyricsList = document.getElementById('music-lyrics-list');
    const container = document.getElementById('music-lyrics-container');
    const lines = lyricsList.querySelectorAll('.lyric-line');
    lines.forEach(line => line.classList.remove('active'));
    if (musicState.currentLyricIndex === -1) {
        lyricsList.style.transform = `translateY(0px)`;
        return;
    }
    const activeLine = lyricsList.querySelector(`.lyric-line[data-index="${musicState.currentLyricIndex}"]`);
    if (activeLine) {
        activeLine.classList.add('active');
        const containerHeight = container.offsetHeight;
        const offset = (containerHeight / 3) - activeLine.offsetTop - (activeLine.offsetHeight / 2);
        lyricsList.style.transform = `translateY(${offset}px)`;
    }
}

function formatMusicTime(seconds) {
    if (isNaN(seconds) || seconds < 0) return "0:00";
    const minutes = Math.floor(seconds / 60);
    const remainingSeconds = Math.floor(seconds % 60);
    return `${minutes}:${String(remainingSeconds).padStart(2, '0')}`;
}

function updateMusicProgressBar() {
    const currentTimeEl = document.getElementById('music-current-time');
    const totalTimeEl = document.getElementById('music-total-time');
    const progressFillEl = document.getElementById('music-progress-fill');
    if (!audioPlayer.duration) {
        currentTimeEl.textContent = "0:00";
        totalTimeEl.textContent = "0:00";
        progressFillEl.style.width = '0%';
        return;
    }
    const progressPercent = (audioPlayer.currentTime / audioPlayer.duration) * 100;
    progressFillEl.style.width = `${progressPercent}%`;
    currentTimeEl.textContent = formatMusicTime(audioPlayer.currentTime);
    totalTimeEl.textContent = formatMusicTime(audioPlayer.duration);
    updateActiveLyric(audioPlayer.currentTime);
}

/**
 * ã€å…¨æ–°ã€‘å¤„ç†ç”¨æˆ·ç‚¹å‡»â€œæ’¤å›â€æŒ‰é’®çš„å…¥å£å‡½æ•°
 */
async function handleRecallClick() {
    if (!activeMessageTimestamp) return;

    const RECALL_TIME_LIMIT_MS = 2 * 60 * 1000; // è®¾ç½®2åˆ†é’Ÿçš„æ’¤å›æ—¶é™
    const messageTime = activeMessageTimestamp;
    const now = Date.now();

    // æ£€æŸ¥æ˜¯å¦è¶…è¿‡äº†æ’¤å›æ—¶é™
    if (now - messageTime > RECALL_TIME_LIMIT_MS) {
        hideMessageActions();
        await showCustomAlert('æ“ä½œå¤±è´¥', 'è¯¥æ¶ˆæ¯å‘é€å·²è¶…è¿‡2åˆ†é’Ÿï¼Œæ— æ³•æ’¤å›ã€‚');
        return;
    }
    
    // å¦‚æœåœ¨æ—¶é™å†…ï¼Œæ‰§è¡ŒçœŸæ­£çš„æ’¤å›é€»è¾‘
    await recallMessage(messageTime, true);
    hideMessageActions();
}

/**
 * ã€å…¨æ–°ã€‘æ¶ˆæ¯æ’¤å›çš„æ ¸å¿ƒé€»è¾‘
 * @param {number} timestamp - è¦æ’¤å›çš„æ¶ˆæ¯çš„æ—¶é—´æˆ³
 * @param {boolean} isUserRecall - æ˜¯å¦æ˜¯ç”¨æˆ·ä¸»åŠ¨æ’¤å›
 */
async function recallMessage(timestamp, isUserRecall) {
    const chat = state.chats[state.activeChatId];
    if (!chat) return;

    const messageIndex = chat.history.findIndex(m => m.timestamp === timestamp);
    if (messageIndex === -1) return;

    const messageToRecall = chat.history[messageIndex];

    // 1. ä¿®æ”¹æ¶ˆæ¯å¯¹è±¡ï¼Œå°†å…¶å˜ä¸ºâ€œå·²æ’¤å›â€çŠ¶æ€
    const recalledData = {
        originalType: messageToRecall.type || 'text',
        originalContent: messageToRecall.content,
        // ä¿å­˜å…¶ä»–å¯èƒ½å­˜åœ¨çš„åŸå§‹æ•°æ®
        originalMeaning: messageToRecall.meaning,
        originalQuote: messageToRecall.quote 
    };
    
    messageToRecall.type = 'recalled_message';
    messageToRecall.content = isUserRecall ? 'ä½ æ’¤å›äº†ä¸€æ¡æ¶ˆæ¯' : 'å¯¹æ–¹æ’¤å›äº†ä¸€æ¡æ¶ˆæ¯';
    messageToRecall.recalledData = recalledData;
    // æ¸…ç†æ‰ä¸å†éœ€è¦çš„æ—§å±æ€§
    delete messageToRecall.meaning;
    delete messageToRecall.quote;

    // 2. å¦‚æœæ˜¯ç”¨æˆ·æ’¤å›ï¼Œéœ€è¦ç»™AIå‘é€ä¸€æ¡å®ƒçœ‹ä¸æ‡‚å†…å®¹çš„éšè—æç¤º
    if (isUserRecall) {
        const hiddenMessageForAI = {
            role: 'system',
            content: `[ç³»ç»Ÿæç¤ºï¼šç”¨æˆ·æ’¤å›äº†ä¸€æ¡æ¶ˆæ¯ã€‚ä½ ä¸çŸ¥é“å†…å®¹æ˜¯ä»€ä¹ˆï¼Œåªéœ€çŸ¥é“è¿™ä¸ªäº‹ä»¶å³å¯ã€‚]`,
            timestamp: Date.now(),
            isHidden: true
        };
        chat.history.push(hiddenMessageForAI);
    }

    // 3. ä¿å­˜åˆ°æ•°æ®åº“å¹¶åˆ·æ–°UI
    await db.chats.put(chat);
    renderChatInterface(state.activeChatId);
    if(isUserRecall) renderChatList(); // ç”¨æˆ·æ’¤å›æ—¶ï¼Œæœ€åä¸€æ¡æ¶ˆæ¯å˜äº†ï¼Œéœ€è¦åˆ·æ–°åˆ—è¡¨
}

        // ===================================================================
        // 4. åˆå§‹åŒ–å‡½æ•° init()
        // ===================================================================
        async function init() {

    // â–¼â–¼â–¼ åœ¨ init() å‡½æ•°çš„ã€æœ€å¼€å¤´ã€‘ï¼Œç²˜è´´ä¸‹é¢è¿™ä¸¤è¡Œä»£ç  â–¼â–¼â–¼
    const savedTheme = localStorage.getItem('ephone-theme') || 'light'; // é»˜è®¤ä¸ºæ—¥é—´æ¨¡å¼
    applyTheme(savedTheme);
    // â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–²

    // â–¼â–¼â–¼ æ–°å¢ä»£ç  â–¼â–¼â–¼
    const customBubbleStyleTag = document.createElement('style');
    customBubbleStyleTag.id = 'custom-bubble-style';
    document.head.appendChild(customBubbleStyleTag);
    // â–²â–²â–² æ–°å¢ç»“æŸ â–²â–²â–²

    // â–¼â–¼â–¼ æ–°å¢ä»£ç  â–¼â–¼â–¼
    const previewBubbleStyleTag = document.createElement('style');
    previewBubbleStyleTag.id = 'preview-bubble-style';
    document.head.appendChild(previewBubbleStyleTag);
    // â–²â–²â–² æ–°å¢ç»“æŸ â–²â–²â–²


    // â–¼â–¼â–¼ ä¿®æ”¹è¿™ä¸¤è¡Œ â–¼â–¼â–¼
    applyScopedCss('', '#chat-messages', 'custom-bubble-style'); // æ¸…é™¤çœŸå®èŠå¤©ç•Œé¢çš„è‡ªå®šä¹‰æ ·å¼
    applyScopedCss('', '#settings-preview-area', 'preview-bubble-style'); // æ¸…é™¤é¢„è§ˆåŒºçš„è‡ªå®šä¹‰æ ·å¼
    // â–²â–²â–² ä¿®æ”¹ç»“æŸ â–²â–²â–²

            window.showScreen = showScreen;
            window.renderChatListProxy = renderChatList;
            window.renderApiSettingsProxy = renderApiSettings;
            window.renderWallpaperScreenProxy = renderWallpaperScreen;
            window.renderWorldBookScreenProxy = renderWorldBookScreen;

            await loadAllDataFromDB();

            // åˆå§‹åŒ–æœªè¯»åŠ¨æ€è®¡æ•°
            const storedCount = parseInt(localStorage.getItem('unreadPostsCount')) || 0;
            updateUnreadIndicator(storedCount);
            
            // â–²â–²â–² ä»£ç æ·»åŠ ç»“æŸ â–²â–²â–²

            if (state.globalSettings && state.globalSettings.fontUrl) {
                applyCustomFont(state.globalSettings.fontUrl);
            }

            updateClock();
            setInterval(updateClock, 1000 * 30);
            applyGlobalWallpaper();
            initBatteryManager(); 

applyAppIcons();

            // ==========================================================
            // --- å„ç§äº‹ä»¶ç›‘å¬å™¨ ---
            // ==========================================================

            document.getElementById('custom-modal-cancel').addEventListener('click', hideCustomModal);
            document.getElementById('custom-modal-overlay').addEventListener('click', (e) => { if (e.target === modalOverlay) hideCustomModal(); });
            document.getElementById('export-data-btn').addEventListener('click', exportBackup);
            document.getElementById('import-btn').addEventListener('click', () => document.getElementById('import-data-input').click());
            document.getElementById('import-data-input').addEventListener('change', e => importBackup(e.target.files[0]));
            document.getElementById('back-to-list-btn').addEventListener('click', () => { 

    // â–¼â–¼â–¼ ä¿®æ”¹è¿™ä¸¤è¡Œ â–¼â–¼â–¼
    applyScopedCss('', '#chat-messages', 'custom-bubble-style'); // æ¸…é™¤çœŸå®èŠå¤©ç•Œé¢çš„è‡ªå®šä¹‰æ ·å¼
    applyScopedCss('', '#settings-preview-area', 'preview-bubble-style'); // æ¸…é™¤é¢„è§ˆåŒºçš„è‡ªå®šä¹‰æ ·å¼
    // â–²â–²â–² ä¿®æ”¹ç»“æŸ â–²â–²â–²

exitSelectionMode(); state.activeChatId = null; showScreen('chat-list-screen'); });
            
            document.getElementById('add-chat-btn').addEventListener('click', async () => { const name = await showCustomPrompt('åˆ›å»ºæ–°èŠå¤©', 'è¯·è¾“å…¥Taçš„åå­—'); if (name && name.trim()) { const newChatId = 'chat_' + Date.now(); 
const newChat = { 
    id: newChatId, 
    name: name.trim(), 
    isGroup: false,                         relationship: {
                            status: 'friend', // 'friend', 'blocked_by_user', 'pending_user_approval'
                            blockedTimestamp: null,
                            applicationReason: ''
                        },
                        status: {
                            text: 'åœ¨çº¿',
                            lastUpdate: Date.now(),
                            isBusy: false 
                        },
    settings: { 
        aiPersona: 'ä½ æ˜¯è°å‘€ã€‚', 
        myPersona: 'æˆ‘æ˜¯è°å‘€ã€‚', 
        maxMemory: 10, 
        aiAvatar: defaultAvatar, 
        myAvatar: defaultAvatar, 
        background: '', 
        theme: 'default', 
    fontSize: 13, 
    customCss: '', // <--- æ–°å¢è¿™è¡Œ
    linkedWorldBookIds: [], 
    aiAvatarLibrary: [],
    }, 
    history: [], 
    musicData: { totalTime: 0 } 
};
state.chats[newChatId] = newChat; await db.chats.put(newChat); renderChatList(); } });

            // â–¼â–¼â–¼ ã€ä¿®æ­£ã€‘åˆ›å»ºç¾¤èŠæŒ‰é’®ç°åœ¨æ‰“å¼€è”ç³»äººé€‰æ‹©å™¨ â–¼â–¼â–¼
document.getElementById('add-group-chat-btn').addEventListener('click', openContactPickerForGroupCreate);
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²                      
            document.getElementById('transfer-cancel-btn').addEventListener('click', () => document.getElementById('transfer-modal').classList.remove('visible'));
            document.getElementById('transfer-confirm-btn').addEventListener('click', sendUserTransfer);

            document.getElementById('listen-together-btn').addEventListener('click', handleListenTogetherClick);
            document.getElementById('music-exit-btn').addEventListener('click', () => endListenTogetherSession(true));
            document.getElementById('music-return-btn').addEventListener('click', returnToChat);
            document.getElementById('music-play-pause-btn').addEventListener('click', togglePlayPause);
            document.getElementById('music-next-btn').addEventListener('click', playNext);
            document.getElementById('music-prev-btn').addEventListener('click', playPrev);
            document.getElementById('music-mode-btn').addEventListener('click', changePlayMode);
            document.getElementById('music-playlist-btn').addEventListener('click', () => { updatePlaylistUI(); document.getElementById('music-playlist-panel').classList.add('visible'); });
            document.getElementById('close-playlist-btn').addEventListener('click', () => document.getElementById('music-playlist-panel').classList.remove('visible'));
            document.getElementById('add-song-url-btn').addEventListener('click', addSongFromURL);
            document.getElementById('add-song-local-btn').addEventListener('click', () => document.getElementById('local-song-upload-input').click());
            document.getElementById('local-song-upload-input').addEventListener('change', addSongFromLocal);
            audioPlayer.addEventListener('ended', playNext);
            audioPlayer.addEventListener('pause', () => { if(musicState.isActive) { musicState.isPlaying = false; updatePlayerUI(); } });
            audioPlayer.addEventListener('play', () => { if(musicState.isActive) { musicState.isPlaying = true; updatePlayerUI(); } });

            const chatInput = document.getElementById('chat-input');
            // â–¼â–¼â–¼ æ‰¾åˆ° id="send-btn" çš„ click äº‹ä»¶ç›‘å¬å™¨ â–¼â–¼â–¼
document.getElementById('send-btn').addEventListener('click', async () => { 
    const content = chatInput.value.trim(); 
    if (!content || !state.activeChatId) return; 
    
    const chat = state.chats[state.activeChatId]; 
    
    // --- ã€æ ¸å¿ƒä¿®æ”¹ã€‘åœ¨è¿™é‡Œæ·»åŠ  ---
    const msg = { 
        role: 'user', 
        content, 
        timestamp: Date.now() 
    };

    // æ£€æŸ¥å½“å‰æ˜¯å¦å¤„äºå¼•ç”¨å›å¤æ¨¡å¼
    if (currentReplyContext) {
        msg.quote = currentReplyContext; // å°†å¼•ç”¨ä¿¡æ¯é™„åŠ åˆ°æ¶ˆæ¯å¯¹è±¡ä¸Š
    }
    // --- ã€ä¿®æ”¹ç»“æŸã€‘ ---
    
    chat.history.push(msg); 
    await db.chats.put(chat); 
    appendMessage(msg, chat); 
    renderChatList(); 
    chatInput.value = ''; 
    chatInput.style.height = 'auto'; 
    chatInput.focus(); 
    
    // --- ã€æ ¸å¿ƒä¿®æ”¹ã€‘å‘é€åï¼Œå–æ¶ˆå¼•ç”¨æ¨¡å¼ ---
    cancelReplyMode(); 
});
            document.getElementById('wait-reply-btn').addEventListener('click', triggerAiResponse);
            chatInput.addEventListener('keypress', (e) => { if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); document.getElementById('send-btn').click(); } });
            chatInput.addEventListener('input', () => { chatInput.style.height = 'auto'; chatInput.style.height = (chatInput.scrollHeight) + 'px'; });

            document.getElementById('wallpaper-upload-input').addEventListener('change', async (event) => { const file = event.target.files[0]; if(file) { const dataUrl = await new Promise((res, rej) => { const reader = new FileReader(); reader.onload = () => res(reader.result); reader.onerror = () => rej(reader.error); reader.readAsDataURL(file); }); newWallpaperBase64 = dataUrl; renderWallpaperScreen(); } });
            // â–¼â–¼â–¼ ç”¨è¿™æ•´å—ä»£ç ï¼Œæ›¿æ¢æ—§çš„ save-wallpaper-btn äº‹ä»¶ç›‘å¬å™¨ â–¼â–¼â–¼
document.getElementById('save-wallpaper-btn').addEventListener('click', async () => {
    let changesMade = false;

    // ä¿å­˜å£çº¸
    if (newWallpaperBase64) {
        state.globalSettings.wallpaper = newWallpaperBase64;
        changesMade = true;
    }

    // ã€æ ¸å¿ƒä¿®æ”¹ã€‘ä¿å­˜å›¾æ ‡è®¾ç½®ï¼ˆå®ƒå·²ç»åœ¨å†…å­˜ä¸­äº†ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠæ•´ä¸ªglobalSettingså­˜èµ·æ¥ï¼‰
    await db.globalSettings.put(state.globalSettings);

    // åº”ç”¨æ‰€æœ‰æ›´æ”¹
    if (changesMade) {
        applyGlobalWallpaper();
        newWallpaperBase64 = null;
    }
    applyAppIcons(); // é‡æ–°åº”ç”¨æ‰€æœ‰å›¾æ ‡

    alert('å¤–è§‚è®¾ç½®å·²ä¿å­˜å¹¶åº”ç”¨ï¼');
    showScreen('home-screen');
});
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²
            document.getElementById('save-api-settings-btn').addEventListener('click', async () => { state.apiConfig.proxyUrl = document.getElementById('proxy-url').value.trim(); state.apiConfig.apiKey = document.getElementById('api-key').value.trim(); state.apiConfig.model = document.getElementById('model-select').value; await db.apiConfig.put(state.apiConfig); 

// åœ¨ 'save-api-settings-btn' çš„ click äº‹ä»¶ç›‘å¬å™¨å†…éƒ¨
// await db.apiConfig.put(state.apiConfig); è¿™è¡Œä¹‹å

// â–¼â–¼â–¼ å°†ä¹‹å‰é‚£æ®µä¿å­˜åå°æ´»åŠ¨è®¾ç½®çš„é€»è¾‘ï¼Œæ›¿æ¢ä¸ºä¸‹é¢è¿™ä¸ªå¢å¼ºç‰ˆ â–¼â–¼â–¼

const backgroundSwitch = document.getElementById('background-activity-switch');
const intervalInput = document.getElementById('background-interval-input');
const newEnableState = backgroundSwitch.checked;
const oldEnableState = state.globalSettings.enableBackgroundActivity || false;

// åªæœ‰åœ¨ç”¨æˆ·â€œä»å…³åˆ°å¼€â€æ—¶ï¼Œæ‰å¼¹å‡ºè­¦å‘Š
if (newEnableState && !oldEnableState) {
    const userConfirmed = confirm(
        "ã€é«˜è´¹ç”¨è­¦å‘Šã€‘\n\n" +
        "æ‚¨æ­£åœ¨å¯ç”¨â€œåå°è§’è‰²æ´»åŠ¨â€åŠŸèƒ½ã€‚\n\n" +
        "è¿™ä¼šä½¿æ‚¨çš„AIè§’è‰²ä»¬åœ¨æ‚¨ä¸å’Œä»–ä»¬èŠå¤©æ—¶ï¼Œä¹Ÿèƒ½â€œç‹¬ç«‹æ€è€ƒâ€å¹¶ä¸»åŠ¨ç»™æ‚¨å‘æ¶ˆæ¯æˆ–è¿›è¡Œç¤¾äº¤äº’åŠ¨ï¼Œæå¤§åœ°å¢å¼ºæ²‰æµ¸æ„Ÿã€‚\n\n" +
        "ä½†è¯·æ³¨æ„ï¼š\n" +
        "è¿™ä¼šã€åœ¨åå°è‡ªåŠ¨ã€å®šæœŸåœ°è°ƒç”¨APIã€‘ï¼Œå³ä½¿æ‚¨ä¸è¿›è¡Œä»»ä½•æ“ä½œã€‚æ ¹æ®æ‚¨çš„è§’è‰²æ•°é‡å’Œæ£€æµ‹é—´éš”ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ‚¨çš„APIè´¹ç”¨æ˜¾è‘—å¢åŠ ã€‚\n\n" +
        "æ‚¨ç¡®å®šè¦å¼€å¯å—ï¼Ÿ"
    );

    if (!userConfirmed) {
        backgroundSwitch.checked = false; // ç”¨æˆ·å–æ¶ˆï¼ŒæŠŠå¼€å…³æ‹¨å›å»
        return; // é˜»æ­¢åç»­é€»è¾‘
    }
}

state.globalSettings.enableBackgroundActivity = newEnableState;
state.globalSettings.backgroundActivityInterval = parseInt(intervalInput.value) || 60;
state.globalSettings.blockCooldownHours = parseFloat(document.getElementById('block-cooldown-input').value) || 1;
await db.globalSettings.put(state.globalSettings);

// åŠ¨æ€å¯åŠ¨æˆ–åœæ­¢æ¨¡æ‹Ÿå™¨
stopBackgroundSimulation();
if (state.globalSettings.enableBackgroundActivity) {
    startBackgroundSimulation();
    console.log(`åå°æ´»åŠ¨æ¨¡æ‹Ÿå·²å¯åŠ¨ï¼Œé—´éš”: ${state.globalSettings.backgroundActivityInterval}ç§’`);
} else {
    console.log("åå°æ´»åŠ¨æ¨¡æ‹Ÿå·²åœæ­¢ã€‚");
}
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

alert('APIè®¾ç½®å·²ä¿å­˜!'); });
            document.getElementById('fetch-models-btn').addEventListener('click', async () => { const url = document.getElementById('proxy-url').value.trim(); const key = document.getElementById('api-key').value.trim(); if (!url || !key) return alert('è¯·å…ˆå¡«å†™åä»£åœ°å€å’Œå¯†é’¥'); try { const response = await fetch(`${url}/v1/models`, { headers: { 'Authorization': `Bearer ${key}` } }); if (!response.ok) throw new Error('æ— æ³•è·å–æ¨¡å‹åˆ—è¡¨'); const data = await response.json(); const modelSelect = document.getElementById('model-select'); modelSelect.innerHTML = ''; data.data.forEach(model => { const option = document.createElement('option'); option.value = model.id; option.textContent = model.id; if(model.id === state.apiConfig.model) option.selected = true; modelSelect.appendChild(option); }); alert('æ¨¡å‹åˆ—è¡¨å·²æ›´æ–°'); } catch (error) { alert(`æ‹‰å–æ¨¡å‹å¤±è´¥: ${error.message}`); } });
            document.getElementById('add-world-book-btn').addEventListener('click', async () => { const name = await showCustomPrompt('åˆ›å»ºä¸–ç•Œä¹¦', 'è¯·è¾“å…¥ä¹¦å'); if (name && name.trim()) { const newBook = { id: 'wb_' + Date.now(), name: name.trim(), content: '' }; await db.worldBooks.add(newBook); state.worldBooks.push(newBook); renderWorldBookScreen(); openWorldBookEditor(newBook.id); } });
            document.getElementById('save-world-book-btn').addEventListener('click', async () => { if (!editingWorldBookId) return; const book = state.worldBooks.find(wb => wb.id === editingWorldBookId); if (book) { const newName = document.getElementById('world-book-name-input').value.trim(); if (!newName) { alert('ä¹¦åä¸èƒ½ä¸ºç©ºï¼'); return; } book.name = newName; book.content = document.getElementById('world-book-content-input').value; await db.worldBooks.put(book); document.getElementById('world-book-editor-title').textContent = newName; editingWorldBookId = null; renderWorldBookScreen(); showScreen('world-book-screen'); } });

            document.getElementById('chat-messages').addEventListener('click', (e) => { const aiImage = e.target.closest('.ai-generated-image'); if (aiImage) { const description = aiImage.dataset.description; if (description) showCustomAlert('ç…§ç‰‡æè¿°', description); return; }  });
            
            const chatSettingsModal = document.getElementById('chat-settings-modal');
            const worldBookSelectBox = document.querySelector('.custom-multiselect .select-box');
            const worldBookCheckboxesContainer = document.getElementById('world-book-checkboxes-container');
function updateWorldBookSelectionDisplay() { const checkedBoxes = worldBookCheckboxesContainer.querySelectorAll('input:checked'); const displayText = document.querySelector('.selected-options-text'); if (checkedBoxes.length === 0) { displayText.textContent = '-- ç‚¹å‡»é€‰æ‹© --'; } else if (checkedBoxes.length > 2) { displayText.textContent = `å·²é€‰æ‹© ${checkedBoxes.length} é¡¹`; } else { displayText.textContent = Array.from(checkedBoxes).map(cb => cb.parentElement.textContent.trim()).join(', '); } }        
            
            worldBookSelectBox.addEventListener('click', (e) => { e.stopPropagation(); worldBookCheckboxesContainer.classList.toggle('visible'); worldBookSelectBox.classList.toggle('expanded'); });
            document.getElementById('world-book-checkboxes-container').addEventListener('change', updateWorldBookSelectionDisplay);
            window.addEventListener('click', (e) => { if (!document.querySelector('.custom-multiselect').contains(e.target)) { worldBookCheckboxesContainer.classList.remove('visible'); worldBookSelectBox.classList.remove('expanded'); } });

// â–¼â–¼â–¼ è¯·ç”¨è¿™æ®µã€å®Œæ•´ã€å…¨æ–°çš„ä»£ç ã€‘æ›¿æ¢æ—§çš„ chat-settings-btn ç‚¹å‡»äº‹ä»¶ â–¼â–¼â–¼
document.getElementById('chat-settings-btn').addEventListener('click', async () => {
    if (!state.activeChatId) return;
    const chat = state.chats[state.activeChatId];
    const isGroup = chat.isGroup;

    // --- ç»Ÿä¸€æ˜¾ç¤º/éšè—æ§ä»¶ ---
    document.getElementById('chat-name-group').style.display = 'block';
    document.getElementById('my-persona-group').style.display = 'block';
    document.getElementById('my-avatar-group').style.display = 'block';
    document.getElementById('my-group-nickname-group').style.display = isGroup ? 'block' : 'none';
    document.getElementById('group-avatar-group').style.display = isGroup ? 'block' : 'none';
    document.getElementById('group-members-group').style.display = isGroup ? 'block' : 'none';
    document.getElementById('ai-persona-group').style.display = isGroup ? 'none' : 'block';
    document.getElementById('ai-avatar-group').style.display = isGroup ? 'none' : 'block';
    
    // ã€æ ¸å¿ƒä¿®æ”¹1ã€‘æ ¹æ®æ˜¯å¦ä¸ºç¾¤èŠï¼Œæ˜¾ç¤ºæˆ–éšè—â€œå¥½å‹åˆ†ç»„â€åŒºåŸŸ
    document.getElementById('assign-group-section').style.display = isGroup ? 'none' : 'block';
    
    // --- åŠ è½½è¡¨å•æ•°æ® ---
    document.getElementById('chat-name-input').value = chat.name;
    document.getElementById('my-persona').value = chat.settings.myPersona;
    document.getElementById('my-avatar-preview').src = chat.settings.myAvatar || (isGroup ? defaultMyGroupAvatar : defaultAvatar);
    document.getElementById('max-memory').value = chat.settings.maxMemory;
    const bgPreview = document.getElementById('bg-preview');
    const removeBgBtn = document.getElementById('remove-bg-btn');
    if (chat.settings.background) {
        bgPreview.src = chat.settings.background;
        bgPreview.style.display = 'block';
        removeBgBtn.style.display = 'inline-block';
    } else {
        bgPreview.style.display = 'none';
        removeBgBtn.style.display = 'none';
    }

    if (isGroup) {
        document.getElementById('my-group-nickname-input').value = chat.settings.myNickname || '';
        document.getElementById('group-avatar-preview').src = chat.settings.groupAvatar || defaultGroupAvatar;
        renderGroupMemberSettings(chat.members);
    } else {
        document.getElementById('ai-persona').value = chat.settings.aiPersona;
        document.getElementById('ai-avatar-preview').src = chat.settings.aiAvatar || defaultAvatar;
        
        // ã€æ ¸å¿ƒä¿®æ”¹2ã€‘å¦‚æœæ˜¯å•èŠï¼Œå°±åŠ è½½åˆ†ç»„åˆ—è¡¨åˆ°ä¸‹æ‹‰æ¡†
        const select = document.getElementById('assign-group-select');
        select.innerHTML = '<option value="">æœªåˆ†ç»„</option>'; // æ¸…ç©ºå¹¶è®¾ç½®é»˜è®¤é€‰é¡¹
        const groups = await db.qzoneGroups.toArray();
        groups.forEach(group => {
            const option = document.createElement('option');
            option.value = group.id;
            option.textContent = group.name;
            // å¦‚æœå½“å‰å¥½å‹å·²ç»æœ‰åˆ†ç»„ï¼Œå°±é»˜è®¤é€‰ä¸­å®ƒ
            if (chat.groupId === group.id) {
                option.selected = true;
            }
            select.appendChild(option);
        }); 
    }
    
    // åŠ è½½ä¸–ç•Œä¹¦
    const worldBookCheckboxesContainer = document.getElementById('world-book-checkboxes-container');
    worldBookCheckboxesContainer.innerHTML = '';
    const linkedIds = chat.settings.linkedWorldBookIds || [];
    if (state.worldBooks.length > 0) {
        state.worldBooks.forEach(book => {
            const isChecked = linkedIds.includes(book.id);
            const label = document.createElement('label');
            label.innerHTML = `<input type="checkbox" value="${book.id}" ${isChecked ? 'checked' : ''}> ${book.name}`;
            worldBookCheckboxesContainer.appendChild(label);
        });
    }
    updateWorldBookSelectionDisplay();

    // åŠ è½½å¹¶æ›´æ–°æ‰€æœ‰é¢„è§ˆç›¸å…³æ§ä»¶
    const themeRadio = document.querySelector(`input[name="theme-select"][value="${chat.settings.theme || 'default'}"]`);
    if (themeRadio) themeRadio.checked = true;
    const fontSizeSlider = document.getElementById('font-size-slider');
    fontSizeSlider.value = chat.settings.fontSize || 13;
    document.getElementById('font-size-value').textContent = `${fontSizeSlider.value}px`;
    const customCssInput = document.getElementById('custom-css-input');
    customCssInput.value = chat.settings.customCss || '';
    
    updateSettingsPreview(); 
    document.getElementById('chat-settings-modal').classList.add('visible');
});
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²
            
function renderGroupMemberSettings(members) { 
    const container = document.getElementById('group-members-settings'); 
    container.innerHTML = ''; 
    members.forEach(member => { 
        const div = document.createElement('div'); 
        div.className = 'member-editor'; 
        div.dataset.memberId = member.id; 
        // â˜…â˜…â˜…ã€æ ¸å¿ƒé‡æ„ã€‘â˜…â˜…â˜…
        // æ˜¾ç¤ºçš„æ˜¯ groupNickname
        div.innerHTML = `<img src="${member.avatar}" alt="${member.groupNickname}"><div class="member-name">${member.groupNickname}</div>`; 
        div.addEventListener('click', () => openMemberEditor(member.id)); 
        container.appendChild(div); 
    }); 
}

function openMemberEditor(memberId) { 
    editingMemberId = memberId; 
    const chat = state.chats[state.activeChatId]; 
    const member = chat.members.find(m => m.id === memberId); 
    document.getElementById('member-name-input').value = member.groupNickname; 
    document.getElementById('member-persona-input').value = member.persona; 
    document.getElementById('member-avatar-preview').src = member.avatar; 
    document.getElementById('member-settings-modal').classList.add('visible'); 
}
            document.getElementById('cancel-member-settings-btn').addEventListener('click', () => { document.getElementById('member-settings-modal').classList.remove('visible'); editingMemberId = null; });
            document.getElementById('save-member-settings-btn').addEventListener('click', () => { 
    if (!editingMemberId) return; 
    const chat = state.chats[state.activeChatId]; 
    const member = chat.members.find(m => m.id === editingMemberId); 
    
    // â˜…â˜…â˜…ã€æ ¸å¿ƒé‡æ„ã€‘â˜…â˜…â˜…
    const newNickname = document.getElementById('member-name-input').value.trim();
    if (!newNickname) {
        alert("ç¾¤æ˜µç§°ä¸èƒ½ä¸ºç©ºï¼");
        return;
    }
    member.groupNickname = newNickname; // åªä¿®æ”¹ç¾¤æ˜µç§°
    member.persona = document.getElementById('member-persona-input').value; 
    member.avatar = document.getElementById('member-avatar-preview').src; 
    
    renderGroupMemberSettings(chat.members); 
    document.getElementById('member-settings-modal').classList.remove('visible'); 
});
            document.getElementById('reset-theme-btn').addEventListener('click', () => { document.getElementById('theme-default').checked = true; });
            document.getElementById('cancel-chat-settings-btn').addEventListener('click', () => { chatSettingsModal.classList.remove('visible'); });

document.getElementById('save-chat-settings-btn').addEventListener('click', async () => {
    if (!state.activeChatId) return;
    const chat = state.chats[state.activeChatId];
    const newName = document.getElementById('chat-name-input').value.trim();
    if (!newName) return alert('å¤‡æ³¨å/ç¾¤åä¸èƒ½ä¸ºç©ºï¼');
    chat.name = newName;
    const selectedThemeRadio = document.querySelector('input[name="theme-select"]:checked');
    chat.settings.theme = selectedThemeRadio ? selectedThemeRadio.value : 'default';

    chat.settings.fontSize = parseInt(document.getElementById('font-size-slider').value);
    chat.settings.customCss = document.getElementById('custom-css-input').value.trim();

    chat.settings.myPersona = document.getElementById('my-persona').value;
    chat.settings.myAvatar = document.getElementById('my-avatar-preview').src;
    const checkedBooks = document.querySelectorAll('#world-book-checkboxes-container input[type="checkbox"]:checked');
    chat.settings.linkedWorldBookIds = Array.from(checkedBooks).map(cb => cb.value);

    if (chat.isGroup) {
        chat.settings.myNickname = document.getElementById('my-group-nickname-input').value.trim();
        chat.settings.groupAvatar = document.getElementById('group-avatar-preview').src;
    } else {
        chat.settings.aiPersona = document.getElementById('ai-persona').value;
        chat.settings.aiAvatar = document.getElementById('ai-avatar-preview').src;
        const selectedGroupId = document.getElementById('assign-group-select').value;
        chat.groupId = selectedGroupId ? parseInt(selectedGroupId) : null;
    }

    chat.settings.maxMemory = parseInt(document.getElementById('max-memory').value) || 10;
    await db.chats.put(chat);

    applyScopedCss(chat.settings.customCss, '#chat-messages', 'custom-bubble-style');
    
    chatSettingsModal.classList.remove('visible');
    renderChatInterface(state.activeChatId);
    renderChatList();
});
            document.getElementById('clear-chat-btn').addEventListener('click', async () => { if (!state.activeChatId) return; const chat = state.chats[state.activeChatId]; const confirmed = await showCustomConfirm('æ¸…ç©ºèŠå¤©è®°å½•', 'æ­¤æ“ä½œå°†æ°¸ä¹…åˆ é™¤æ­¤èŠå¤©çš„æ‰€æœ‰æ¶ˆæ¯ï¼Œæ— æ³•æ¢å¤ã€‚ç¡®å®šè¦æ¸…ç©ºå—ï¼Ÿ', { confirmButtonClass: 'btn-danger' }); if (confirmed) { chat.history = []; await db.chats.put(chat); renderChatInterface(state.activeChatId); renderChatList(); chatSettingsModal.classList.remove('visible'); } });
            
            const setupFileUpload = (inputId, callback) => { document.getElementById(inputId).addEventListener('change', async (event) => { const file = event.target.files[0]; if (file) { const dataUrl = await new Promise((res, rej) => { const reader = new FileReader(); reader.onload = () => res(reader.result); reader.onerror = () => rej(reader.error); reader.readAsDataURL(file); }); callback(dataUrl); event.target.value = null; } }); };
            setupFileUpload('ai-avatar-input', (base64) => document.getElementById('ai-avatar-preview').src = base64);
            setupFileUpload('my-avatar-input', (base64) => document.getElementById('my-avatar-preview').src = base64);
            setupFileUpload('group-avatar-input', (base64) => document.getElementById('group-avatar-preview').src = base64);
            setupFileUpload('member-avatar-input', (base64) => document.getElementById('member-avatar-preview').src = base64);
            setupFileUpload('bg-input', (base64) => { if(state.activeChatId) { state.chats[state.activeChatId].settings.background = base64; const bgPreview = document.getElementById('bg-preview'); bgPreview.src = base64; bgPreview.style.display = 'block'; document.getElementById('remove-bg-btn').style.display = 'inline-block'; } });
            setupFileUpload('preset-avatar-input', (base64) => document.getElementById('preset-avatar-preview').src = base64);
            document.getElementById('remove-bg-btn').addEventListener('click', () => { if (state.activeChatId) { state.chats[state.activeChatId].settings.background = ''; const bgPreview = document.getElementById('bg-preview'); bgPreview.src = ''; bgPreview.style.display = 'none'; document.getElementById('remove-bg-btn').style.display = 'none'; } });

            const stickerPanel = document.getElementById('sticker-panel');
            document.getElementById('open-sticker-panel-btn').addEventListener('click', () => { renderStickerPanel(); stickerPanel.classList.add('visible'); });
            document.getElementById('close-sticker-panel-btn').addEventListener('click', () => stickerPanel.classList.remove('visible'));
            document.getElementById('add-sticker-btn').addEventListener('click', async () => { const url = await showCustomPrompt("æ·»åŠ è¡¨æƒ…(URL)", "è¯·è¾“å…¥è¡¨æƒ…åŒ…çš„å›¾ç‰‡URL"); if (!url || !url.trim().startsWith('http')) return url && alert("è¯·è¾“å…¥æœ‰æ•ˆçš„URL (ä»¥httpå¼€å¤´)"); const name = await showCustomPrompt("å‘½åè¡¨æƒ…", "è¯·ä¸ºè¿™ä¸ªè¡¨æƒ…å‘½å (ä¾‹å¦‚ï¼šå¼€å¿ƒã€ç–‘æƒ‘)"); if (name && name.trim()) { const newSticker = { id: 'sticker_' + Date.now(), url: url.trim(), name: name.trim() }; await db.userStickers.add(newSticker); state.userStickers.push(newSticker); renderStickerPanel(); } else if (name !== null) alert("è¡¨æƒ…åä¸èƒ½ä¸ºç©ºï¼"); });
            document.getElementById('upload-sticker-btn').addEventListener('click', () => document.getElementById('sticker-upload-input').click());
            document.getElementById('sticker-upload-input').addEventListener('change', async (event) => { const file = event.target.files[0]; if (!file) return; const reader = new FileReader(); reader.readAsDataURL(file); reader.onload = async () => { const base64Url = reader.result; const name = await showCustomPrompt("å‘½åè¡¨æƒ…", "è¯·ä¸ºè¿™ä¸ªè¡¨æƒ…å‘½å (ä¾‹å¦‚ï¼šå¥½è€¶ã€ç–‘æƒ‘)"); if (name && name.trim()) { const newSticker = { id: 'sticker_' + Date.now(), url: base64Url, name: name.trim() }; await db.userStickers.add(newSticker); state.userStickers.push(newSticker); renderStickerPanel(); } else if (name !== null) alert("è¡¨æƒ…åä¸èƒ½ä¸ºç©ºï¼"); }; event.target.value = null; });

            document.getElementById('upload-image-btn').addEventListener('click', () => document.getElementById('image-upload-input').click());
            document.getElementById('image-upload-input').addEventListener('change', async (event) => { const file = event.target.files[0]; if (!file || !state.activeChatId) return; const reader = new FileReader(); reader.onload = async (e) => { const base64Url = e.target.result; const chat = state.chats[state.activeChatId]; const msg = { role: 'user', content: [{ type: 'image_url', image_url: { url: base64Url } }], timestamp: Date.now() }; chat.history.push(msg); await db.chats.put(chat); appendMessage(msg, chat); renderChatList(); }; reader.readAsDataURL(file); event.target.value = null; });
            document.getElementById('voice-message-btn').addEventListener('click', async () => { if (!state.activeChatId) return; const text = await showCustomPrompt("å‘é€è¯­éŸ³", "è¯·è¾“å…¥ä½ æƒ³è¯´çš„å†…å®¹ï¼š"); if (text && text.trim()) { const chat = state.chats[state.activeChatId]; const msg = { role: 'user', type: 'voice_message', content: text.trim(), timestamp: Date.now() }; chat.history.push(msg); await db.chats.put(chat); appendMessage(msg, chat); renderChatList(); } });
            document.getElementById('send-photo-btn').addEventListener('click', async () => { if (!state.activeChatId) return; const description = await showCustomPrompt("å‘é€ç…§ç‰‡", "è¯·ç”¨æ–‡å­—æè¿°æ‚¨è¦å‘é€çš„ç…§ç‰‡ï¼š"); if (description && description.trim()) { const chat = state.chats[state.activeChatId]; const msg = { role: 'user', type: 'user_photo', content: description.trim(), timestamp: Date.now() }; chat.history.push(msg); await db.chats.put(chat); appendMessage(msg, chat); renderChatList(); } });

// â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¤–å–è¯·æ±‚åŠŸèƒ½äº‹ä»¶ç»‘å®š â–¼â–¼â–¼
const waimaiModal = document.getElementById('waimai-request-modal');
document.getElementById('send-waimai-request-btn').addEventListener('click', () => {
    waimaiModal.classList.add('visible');
});

document.getElementById('waimai-cancel-btn').addEventListener('click', () => {
    waimaiModal.classList.remove('visible');
});

document.getElementById('waimai-confirm-btn').addEventListener('click', async () => {
    if (!state.activeChatId) return;
    
    const productInfoInput = document.getElementById('waimai-product-info');
    const amountInput = document.getElementById('waimai-amount');
    
    const productInfo = productInfoInput.value.trim();
    const amount = parseFloat(amountInput.value);

    if (!productInfo) {
        alert('è¯·è¾“å…¥å•†å“ä¿¡æ¯ï¼');
        return;
    }
    if (isNaN(amount) || amount <= 0) {
        alert('è¯·è¾“å…¥æœ‰æ•ˆçš„ä»£ä»˜é‡‘é¢ï¼');
        return;
    }

    const chat = state.chats[state.activeChatId];
    const now = Date.now();

    // ã€æ ¸å¿ƒä¿®æ­£ã€‘åœ¨è¿™é‡Œè·å–ç”¨æˆ·è‡ªå·±çš„æ˜µç§°
    const myNickname = chat.isGroup ? (chat.settings.myNickname || 'æˆ‘') : 'æˆ‘';
    
    const msg = {
        role: 'user',
        // ã€æ ¸å¿ƒä¿®æ­£ã€‘å°†è·å–åˆ°çš„æ˜µç§°ï¼Œä½œä¸º senderName æ·»åŠ åˆ°æ¶ˆæ¯å¯¹è±¡ä¸­
        senderName: myNickname, 
        type: 'waimai_request',
        productInfo: productInfo,
        amount: amount,
        status: 'pending',
        countdownEndTime: now + 15 * 60 * 1000,
        timestamp: now
    };

    chat.history.push(msg);
    await db.chats.put(chat);
    appendMessage(msg, chat);
    renderChatList();

    productInfoInput.value = '';
    amountInput.value = '';
    waimaiModal.classList.remove('visible');
});         
            document.getElementById('open-persona-library-btn').addEventListener('click', openPersonaLibrary);
            document.getElementById('close-persona-library-btn').addEventListener('click', closePersonaLibrary);
            document.getElementById('add-persona-preset-btn').addEventListener('click', openPersonaEditorForCreate);
            document.getElementById('cancel-persona-editor-btn').addEventListener('click', closePersonaEditor);
            document.getElementById('save-persona-preset-btn').addEventListener('click', savePersonaPreset);
            document.getElementById('preset-action-edit').addEventListener('click', openPersonaEditorForEdit);
            document.getElementById('preset-action-delete').addEventListener('click', deletePersonaPreset);
            document.getElementById('preset-action-cancel').addEventListener('click', hidePresetActions);
            
            document.getElementById('selection-cancel-btn').addEventListener('click', exitSelectionMode);

// â–¼â–¼â–¼ ã€æœ€ç»ˆåŠ å¼ºç‰ˆã€‘ç”¨è¿™å—ä»£ç æ›¿æ¢æ—§çš„ selection-delete-btn äº‹ä»¶ç›‘å¬å™¨ â–¼â–¼â–¼
document.getElementById('selection-delete-btn').addEventListener('click', async () => {
    if (selectedMessages.size === 0) return;
    const confirmed = await showCustomConfirm('åˆ é™¤æ¶ˆæ¯', `ç¡®å®šè¦åˆ é™¤é€‰ä¸­çš„ ${selectedMessages.size} æ¡æ¶ˆæ¯å—ï¼Ÿè¿™å°†æ”¹å˜AIçš„è®°å¿†ã€‚`, { confirmButtonClass: 'btn-danger' });
    if (confirmed) {
        const chat = state.chats[state.activeChatId];
        
        // 1. ã€æ ¸å¿ƒåŠ å¼ºã€‘åœ¨åˆ é™¤å‰ï¼Œæ£€æŸ¥è¢«åˆ é™¤çš„æ¶ˆæ¯ä¸­æ˜¯å¦åŒ…å«æŠ•ç¥¨
        let deletedPollsInfo = [];
        for (const timestamp of selectedMessages) {
            const msg = chat.history.find(m => m.timestamp === timestamp);
            if (msg && msg.type === 'poll') {
                deletedPollsInfo.push(`å…³äºâ€œ${msg.question}â€çš„æŠ•ç¥¨(æ—¶é—´æˆ³: ${msg.timestamp})`);
            }
        }
        
        // 2. æ›´æ–°åç«¯çš„å†å²è®°å½•
        chat.history = chat.history.filter(msg => !selectedMessages.has(msg.timestamp));
        
        // 3. ã€æ ¸å¿ƒåŠ å¼ºã€‘æ„å»ºæ›´å…·ä½“çš„â€œé—å¿˜æŒ‡ä»¤â€
        let forgetReason = "ä¸€äº›ä¹‹å‰çš„æ¶ˆæ¯å·²è¢«ç”¨æˆ·åˆ é™¤ã€‚";
        if (deletedPollsInfo.length > 0) {
            forgetReason += ` å…¶ä¸­åŒ…æ‹¬ä»¥ä¸‹æŠ•ç¥¨ï¼š${deletedPollsInfo.join('ï¼›')}ã€‚`;
        }
        forgetReason += " ä½ åº”è¯¥åƒå®ƒä»¬ä»æœªå­˜åœ¨è¿‡ä¸€æ ·ç»§ç»­å¯¹è¯ï¼Œå¹¶ç›¸åº”åœ°è°ƒæ•´ä½ çš„è®°å¿†å’Œè¡Œä¸ºï¼Œä¸è¦å†æåŠè¿™äº›è¢«åˆ é™¤çš„å†…å®¹ã€‚";

        const forgetInstruction = {
            role: 'system',
            content: `[ç³»ç»Ÿæç¤ºï¼š${forgetReason}]`,
            timestamp: Date.now(),
            isHidden: true 
        };
        chat.history.push(forgetInstruction);
        
        // 4. å°†åŒ…å«â€œé—å¿˜æŒ‡ä»¤â€çš„ã€æ›´æ–°åçš„chatå¯¹è±¡å­˜å›æ•°æ®åº“
        await db.chats.put(chat);
        
        // 5. æœ€åæ‰æ›´æ–°UI
        renderChatInterface(state.activeChatId);
        renderChatList();
    }
});
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

            const fontUrlInput = document.getElementById('font-url-input');
            fontUrlInput.addEventListener('input', () => applyCustomFont(fontUrlInput.value.trim(), true));
            document.getElementById('save-font-btn').addEventListener('click', async () => {
                const newFontUrl = fontUrlInput.value.trim();
                if (!newFontUrl) { alert("è¯·è¾“å…¥æœ‰æ•ˆçš„å­—ä½“URLã€‚"); return; }
                applyCustomFont(newFontUrl, false);
                state.globalSettings.fontUrl = newFontUrl;
                await db.globalSettings.put(state.globalSettings);
                alert('å­—ä½“å·²ä¿å­˜å¹¶åº”ç”¨ï¼');
            });
            document.getElementById('reset-font-btn').addEventListener('click', resetToDefaultFont);

            document.querySelectorAll('#chat-list-bottom-nav .nav-item').forEach(item => { item.addEventListener('click', () => switchToChatListView(item.dataset.view)); });
            document.getElementById('qzone-back-btn').addEventListener('click', () => switchToChatListView('messages-view'));
            document.getElementById('qzone-nickname').addEventListener('click', async () => { const newNickname = await showCustomPrompt("ä¿®æ”¹æ˜µç§°", "è¯·è¾“å…¥æ–°çš„æ˜µç§°", state.qzoneSettings.nickname); if (newNickname && newNickname.trim()) { state.qzoneSettings.nickname = newNickname.trim(); await saveQzoneSettings(); renderQzoneScreen(); } });
            document.getElementById('qzone-avatar-container').addEventListener('click', () => document.getElementById('qzone-avatar-input').click());
            document.getElementById('qzone-banner-container').addEventListener('click', () => document.getElementById('qzone-banner-input').click());
            document.getElementById('qzone-avatar-input').addEventListener('change', async (event) => { const file = event.target.files[0]; if (file) { const dataUrl = await new Promise(res => { const reader = new FileReader(); reader.onload = () => res(reader.result); reader.readAsDataURL(file); }); state.qzoneSettings.avatar = dataUrl; await saveQzoneSettings(); renderQzoneScreen(); } event.target.value = null; });
            document.getElementById('qzone-banner-input').addEventListener('change', async (event) => { const file = event.target.files[0]; if (file) { const dataUrl = await new Promise(res => { const reader = new FileReader(); reader.onload = () => res(reader.result); reader.readAsDataURL(file); }); state.qzoneSettings.banner = dataUrl; await saveQzoneSettings(); renderQzoneScreen(); } event.target.value = null; });

// â–¼â–¼â–¼ ã€ä¿®æ­£åã€‘çš„â€œè¯´è¯´â€æŒ‰é’®äº‹ä»¶ â–¼â–¼â–¼
document.getElementById('create-shuoshuo-btn').addEventListener('click', async () => {
    // 1. é‡ç½®å¹¶è·å–æ¨¡æ€æ¡†
    resetCreatePostModal();
    const modal = document.getElementById('create-post-modal');
    
    // 2. è®¾ç½®ä¸ºâ€œè¯´è¯´â€æ¨¡å¼
    modal.dataset.mode = 'shuoshuo';
    
    // 3. éšè—ä¸å›¾ç‰‡/æ–‡å­—å›¾ç›¸å…³çš„éƒ¨åˆ†
    modal.querySelector('.post-mode-switcher').style.display = 'none';
    modal.querySelector('#image-mode-content').style.display = 'none';
    modal.querySelector('#text-image-mode-content').style.display = 'none';
    
    // 4. ä¿®æ”¹ä¸»è¾“å…¥æ¡†çš„æç¤ºè¯­ï¼Œä½¿å…¶æ›´ç¬¦åˆâ€œè¯´è¯´â€çš„åœºæ™¯
    modal.querySelector('#post-public-text').placeholder = 'åˆ†äº«æ–°é²œäº‹...';
    
    // 5. å‡†å¤‡å¹¶æ˜¾ç¤ºæ¨¡æ€æ¡†
    const visibilityGroupsContainer = document.getElementById('post-visibility-groups');
    visibilityGroupsContainer.innerHTML = '';
    const groups = await db.qzoneGroups.toArray();
    if (groups.length > 0) {
        groups.forEach(group => {
            const label = document.createElement('label');
            label.style.display = 'block';
            label.innerHTML = `<input type="checkbox" name="visibility_group" value="${group.id}"> ${group.name}`;
            visibilityGroupsContainer.appendChild(label);
        });
    } else {
        visibilityGroupsContainer.innerHTML = '<p style="color: var(--text-secondary);">æ²¡æœ‰å¯ç”¨çš„åˆ†ç»„</p>';
    }
    modal.classList.add('visible');
});

// â–¼â–¼â–¼ ã€ä¿®æ­£åã€‘çš„â€œåŠ¨æ€â€ï¼ˆå›¾ç‰‡ï¼‰æŒ‰é’®äº‹ä»¶ â–¼â–¼â–¼
document.getElementById('create-post-btn').addEventListener('click', async () => {
    // 1. é‡ç½®å¹¶è·å–æ¨¡æ€æ¡†
    resetCreatePostModal();
    const modal = document.getElementById('create-post-modal');
    
    // 2. è®¾ç½®ä¸ºâ€œå¤æ‚åŠ¨æ€â€æ¨¡å¼
    modal.dataset.mode = 'complex';
    
// 3. ç¡®ä¿ä¸å›¾ç‰‡/æ–‡å­—å›¾ç›¸å…³çš„éƒ¨åˆ†æ˜¯å¯è§çš„
modal.querySelector('.post-mode-switcher').style.display = 'flex';
// æ˜¾å¼æ¿€æ´»â€œä¸Šä¼ å›¾ç‰‡â€æ¨¡å¼...
modal.querySelector('#image-mode-content').classList.add('active');
// ...åŒæ—¶ç¡®ä¿â€œæ–‡å­—å›¾â€æ¨¡å¼æ˜¯éšè—çš„
modal.querySelector('#text-image-mode-content').classList.remove('active');
    
    // 4. æ¢å¤ä¸»è¾“å…¥æ¡†çš„é»˜è®¤æç¤ºè¯­
    modal.querySelector('#post-public-text').placeholder = 'åˆ†äº«æ–°é²œäº‹...ï¼ˆéå¿…å¡«çš„å…¬å¼€æ–‡å­—ï¼‰';

    // 5. å‡†å¤‡å¹¶æ˜¾ç¤ºæ¨¡æ€æ¡†ï¼ˆä¸â€œè¯´è¯´â€æŒ‰é’®çš„é€»è¾‘ç›¸åŒï¼‰
    const visibilityGroupsContainer = document.getElementById('post-visibility-groups');
    visibilityGroupsContainer.innerHTML = '';
    const groups = await db.qzoneGroups.toArray();
    if (groups.length > 0) {
        groups.forEach(group => {
            const label = document.createElement('label');
            label.style.display = 'block';
            label.innerHTML = `<input type="checkbox" name="visibility_group" value="${group.id}"> ${group.name}`;
            visibilityGroupsContainer.appendChild(label);
        });
    } else {
        visibilityGroupsContainer.innerHTML = '<p style="color: var(--text-secondary);">æ²¡æœ‰å¯ç”¨çš„åˆ†ç»„</p>';
    }
    modal.classList.add('visible');
});
            document.getElementById('open-album-btn').addEventListener('click', async () => { await renderAlbumList(); showScreen('album-screen'); });
            document.getElementById('album-back-btn').addEventListener('click', () => { showScreen('chat-list-screen'); switchToChatListView('qzone-screen'); });

// --- â†“â†“â†“ ä»è¿™é‡Œå¼€å§‹å¤åˆ¶ â†“â†“â†“ ---

document.getElementById('album-photos-back-btn').addEventListener('click', () => {
    state.activeAlbumId = null;
    showScreen('album-screen');
});

document.getElementById('album-upload-photo-btn').addEventListener('click', () => document.getElementById('album-photo-input').click());

document.getElementById('album-photo-input').addEventListener('change', async (event) => {
    if (!state.activeAlbumId) return;
    const files = event.target.files;
    if (!files.length) return;

    const album = await db.qzoneAlbums.get(state.activeAlbumId);
    
    for (const file of files) {
        const dataUrl = await new Promise(resolve => {
            const reader = new FileReader();
            reader.onload = () => resolve(reader.result);
            reader.readAsDataURL(file);
        });
        await db.qzonePhotos.add({ albumId: state.activeAlbumId, url: dataUrl, createdAt: Date.now() });
    }

    const photoCount = await db.qzonePhotos.where('albumId').equals(state.activeAlbumId).count();
    const updateData = { photoCount };
    
    if (!album.photoCount || album.coverUrl.includes('placeholder')) {
        const firstPhoto = await db.qzonePhotos.where('albumId').equals(state.activeAlbumId).first();
        if(firstPhoto) updateData.coverUrl = firstPhoto.url;
    }

    await db.qzoneAlbums.update(state.activeAlbumId, updateData);
    await renderAlbumPhotosScreen();
    await renderAlbumList();
    
    event.target.value = null;
    alert('ç…§ç‰‡ä¸Šä¼ æˆåŠŸï¼');
});

// --- â†‘â†‘â†‘ å¤åˆ¶åˆ°è¿™é‡Œç»“æŸ â†‘â†‘â†‘ ---

// --- â†“â†“â†“ ä»è¿™é‡Œå¼€å§‹å¤åˆ¶ï¼Œå®Œæ•´æ›¿æ¢æ‰æ—§çš„ photos-grid-page ç›‘å¬å™¨ â†“â†“â†“ ---

document.getElementById('photos-grid-page').addEventListener('click', async (e) => {
    const deleteBtn = e.target.closest('.photo-delete-btn');
    const photoThumb = e.target.closest('.photo-thumb');

    if (deleteBtn) {
        e.stopPropagation(); // é˜»æ­¢äº‹ä»¶å†’æ³¡åˆ°å›¾ç‰‡ä¸Š
        const photoId = parseInt(deleteBtn.dataset.photoId);
        const confirmed = await showCustomConfirm(
            'åˆ é™¤ç…§ç‰‡',
            'ç¡®å®šè¦åˆ é™¤è¿™å¼ ç…§ç‰‡å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚',
            { confirmButtonClass: 'btn-danger' }
        );

        if (confirmed) {
            const deletedPhoto = await db.qzonePhotos.get(photoId);
            if (!deletedPhoto) return;
            
            await db.qzonePhotos.delete(photoId);

            const album = await db.qzoneAlbums.get(state.activeAlbumId);
            const photoCount = (album.photoCount || 1) - 1;
            const updateData = { photoCount };
            
            if (album.coverUrl === deletedPhoto.url) {
                const nextPhoto = await db.qzonePhotos.where('albumId').equals(state.activeAlbumId).first();
                updateData.coverUrl = nextPhoto ? nextPhoto.url : 'https://i.postimg.cc/pT2xKzPz/album-cover-placeholder.png';
            }
            
            await db.qzoneAlbums.update(state.activeAlbumId, updateData);
            await renderAlbumPhotosScreen();
            await renderAlbumList();
            alert('ç…§ç‰‡å·²åˆ é™¤ã€‚');
        }
    } 
    else if (photoThumb) {
        // è¿™å°±æ˜¯æ¢å¤çš„å›¾ç‰‡ç‚¹å‡»æ”¾å¤§åŠŸèƒ½ï¼
        openPhotoViewer(photoThumb.src);
    }
});

// æ¢å¤å›¾ç‰‡æŸ¥çœ‹å™¨çš„æ§åˆ¶äº‹ä»¶
document.getElementById('photo-viewer-close-btn').addEventListener('click', closePhotoViewer);
document.getElementById('photo-viewer-next-btn').addEventListener('click', showNextPhoto);
document.getElementById('photo-viewer-prev-btn').addEventListener('click', showPrevPhoto);

// æ¢å¤é”®ç›˜å·¦å³ç®­å¤´å’ŒESCé”®çš„åŠŸèƒ½
document.addEventListener('keydown', (e) => {
    if (!photoViewerState.isOpen) return; 

    if (e.key === 'ArrowRight') {
        showNextPhoto();
    } else if (e.key === 'ArrowLeft') {
        showPrevPhoto();
    } else if (e.key === 'Escape') {
        closePhotoViewer();
    }
});

// --- â†‘â†‘â†‘ å¤åˆ¶åˆ°è¿™é‡Œç»“æŸ â†‘â†‘â†‘ ---
         
document.getElementById('create-album-btn-page').addEventListener('click', async () => { const albumName = await showCustomPrompt("åˆ›å»ºæ–°ç›¸å†Œ", "è¯·è¾“å…¥ç›¸å†Œåç§°"); if (albumName && albumName.trim()) { const newAlbum = { name: albumName.trim(), coverUrl: 'https://i.postimg.cc/pT2xKzPz/album-cover-placeholder.png', photoCount: 0, createdAt: Date.now() }; await db.qzoneAlbums.add(newAlbum); await renderAlbumList(); alert(`ç›¸å†Œ "${albumName}" åˆ›å»ºæˆåŠŸï¼`); } else if (albumName !== null) { alert("ç›¸å†Œåç§°ä¸èƒ½ä¸ºç©ºï¼"); } });

            document.getElementById('cancel-create-post-btn').addEventListener('click', () => document.getElementById('create-post-modal').classList.remove('visible'));
            document.getElementById('post-upload-local-btn').addEventListener('click', () => document.getElementById('post-local-image-input').click());
            document.getElementById('post-local-image-input').addEventListener('change', (event) => { const file = event.target.files[0]; if (file) { const reader = new FileReader(); reader.onload = (e) => { document.getElementById('post-image-preview').src = e.target.result; document.getElementById('post-image-preview-container').classList.add('visible'); document.getElementById('post-image-desc-group').style.display = 'block'; }; reader.readAsDataURL(file); } });
            document.getElementById('post-use-url-btn').addEventListener('click', async () => { const url = await showCustomPrompt("è¾“å…¥å›¾ç‰‡URL", "è¯·è¾“å…¥ç½‘ç»œå›¾ç‰‡çš„é“¾æ¥", "", "url"); if (url) { document.getElementById('post-image-preview').src = url; document.getElementById('post-image-preview-container').classList.add('visible'); document.getElementById('post-image-desc-group').style.display = 'block'; } });
            document.getElementById('post-remove-image-btn').addEventListener('click', () => resetCreatePostModal());
            const imageModeBtn = document.getElementById('switch-to-image-mode');
            const textImageModeBtn = document.getElementById('switch-to-text-image-mode');
            const imageModeContent = document.getElementById('image-mode-content');
            const textImageModeContent = document.getElementById('text-image-mode-content');
            imageModeBtn.addEventListener('click', () => { imageModeBtn.classList.add('active'); textImageModeBtn.classList.remove('active'); imageModeContent.classList.add('active'); textImageModeContent.classList.remove('active'); });
            textImageModeBtn.addEventListener('click', () => { textImageModeBtn.classList.add('active'); imageModeBtn.classList.remove('active'); textImageModeContent.classList.add('active'); imageModeContent.classList.remove('active'); });

// â–¼â–¼â–¼ ã€æœ€ç»ˆä¿®æ­£ç‰ˆã€‘çš„â€œå‘å¸ƒâ€æŒ‰é’®äº‹ä»¶ï¼Œå·²ä¿®å¤æƒé™æ¼æ´ â–¼â–¼â–¼
document.getElementById('confirm-create-post-btn').addEventListener('click', async () => {
    const modal = document.getElementById('create-post-modal');
    const mode = modal.dataset.mode;
    
    // --- 1. è·å–é€šç”¨çš„å¯è§æ€§è®¾ç½® ---
    const visibilityMode = document.querySelector('input[name="visibility"]:checked').value;
    let visibleGroupIds = null;
    
    if (visibilityMode === 'include') {
        visibleGroupIds = Array.from(document.querySelectorAll('input[name="visibility_group"]:checked')).map(cb => parseInt(cb.value));
    }

    let newPost = {};
    const basePostData = {
        timestamp: Date.now(),
        authorId: 'user',
        // ã€é‡è¦ã€‘åœ¨è¿™é‡Œå°±æŠŠæƒé™ä¿¡æ¯å­˜å¥½
        visibleGroupIds: visibleGroupIds,
    };

    // --- 2. æ ¹æ®æ¨¡å¼æ„å»ºä¸åŒçš„ post å¯¹è±¡ ---
    if (mode === 'shuoshuo') {
        const content = document.getElementById('post-public-text').value.trim();
        if (!content) {
            alert('è¯´è¯´å†…å®¹ä¸èƒ½ä¸ºç©ºå“¦ï¼');
            return;
        }
        newPost = {
            ...basePostData,
            type: 'shuoshuo',
            content: content,
        };

    } else { // å¤„ç† 'complex' æ¨¡å¼ (å›¾ç‰‡/æ–‡å­—å›¾)
        const publicText = document.getElementById('post-public-text').value.trim();
        const isImageModeActive = document.getElementById('image-mode-content').classList.contains('active');

        if (isImageModeActive) {
            const imageUrl = document.getElementById('post-image-preview').src;
            const imageDescription = document.getElementById('post-image-description').value.trim();
            if (!imageUrl || !(imageUrl.startsWith('http') || imageUrl.startsWith('data:'))) {
                alert('è¯·å…ˆæ·»åŠ ä¸€å¼ å›¾ç‰‡å†å‘å¸ƒåŠ¨æ€å“¦ï¼');
                return;
            }
            if (!imageDescription) {
                alert('è¯·ä¸ºä½ çš„å›¾ç‰‡æ·»åŠ ä¸€ä¸ªç®€å•çš„æè¿°ï¼ˆå¿…å¡«ï¼Œç»™AIçœ‹çš„ï¼‰ï¼');
                return;
            }
            newPost = {
                ...basePostData,
                type: 'image_post',
                publicText: publicText,
                imageUrl: imageUrl,
                imageDescription: imageDescription,
            };
        } else { // æ–‡å­—å›¾æ¨¡å¼
            const hiddenText = document.getElementById('post-hidden-text').value.trim();
            if (!hiddenText) {
                alert('è¯·è¾“å…¥æ–‡å­—å›¾æè¿°ï¼');
                return;
            }
            newPost = {
                ...basePostData,
                type: 'text_image',
                publicText: publicText,
                hiddenContent: hiddenText,
            };
        }
    }

    // --- 3. ä¿å­˜åˆ°æ•°æ®åº“ ---
    const newPostId = await db.qzonePosts.add(newPost);
    let postSummary = newPost.content || newPost.publicText || newPost.imageDescription || newPost.hiddenContent || "ï¼ˆæ— æ–‡å­—å†…å®¹ï¼‰";
    postSummary = postSummary.substring(0, 50) + (postSummary.length > 50 ? '...' : '');

    // --- 4. ã€æ ¸å¿ƒä¿®æ­£ã€‘å¸¦æœ‰æƒé™æ£€æŸ¥çš„é€šçŸ¥å¾ªç¯ ---
    for (const chatId in state.chats) {
        const chat = state.chats[chatId];
        if (chat.isGroup) continue; // è·³è¿‡ç¾¤èŠ

        let shouldNotify = false;
        const postVisibleGroups = newPost.visibleGroupIds;

        // åˆ¤æ–­æ¡ä»¶1ï¼šå¦‚æœåŠ¨æ€æ˜¯å…¬å¼€çš„ (æ²¡æœ‰è®¾ç½®ä»»ä½•å¯è§åˆ†ç»„)
        if (!postVisibleGroups || postVisibleGroups.length === 0) {
            shouldNotify = true;
        } 
        // åˆ¤æ–­æ¡ä»¶2ï¼šå¦‚æœåŠ¨æ€è®¾ç½®äº†éƒ¨åˆ†å¯è§ï¼Œå¹¶ä¸”å½“å‰è§’è‰²åœ¨å¯è§åˆ†ç»„å†…
        else if (chat.groupId && postVisibleGroups.includes(chat.groupId)) {
            shouldNotify = true;
        }

        // åªæœ‰æ»¡è¶³æ¡ä»¶çš„è§’è‰²æ‰ä¼šè¢«é€šçŸ¥
        if (shouldNotify) {
            const historyMessage = {
                role: 'system',
                content: `[ç³»ç»Ÿæç¤ºï¼šç”¨æˆ·åˆšåˆšå‘å¸ƒäº†ä¸€æ¡åŠ¨æ€(ID: ${newPostId})ï¼Œå†…å®¹æ‘˜è¦æ˜¯ï¼šâ€œ${postSummary}â€ã€‚ä½ ç°åœ¨å¯ä»¥å¯¹è¿™æ¡åŠ¨æ€è¿›è¡Œè¯„è®ºäº†ã€‚]`,
                timestamp: Date.now(),
                isHidden: true
            };
            chat.history.push(historyMessage);
            await db.chats.put(chat);
        }
    }
    // --- ä¿®æ­£ç»“æŸ ---

    await renderQzonePosts();
    modal.classList.remove('visible');
    alert('åŠ¨æ€å‘å¸ƒæˆåŠŸï¼');
});

// â–¼â–¼â–¼ è¯·ç”¨è¿™ã€ä¸€æ•´å—ã€‘åŒ…å«æ‰€æœ‰æ»‘åŠ¨å’Œç‚¹å‡»äº‹ä»¶çš„å®Œæ•´ä»£ç ï¼Œæ›¿æ¢æ‰æ—§çš„ postsList äº‹ä»¶ç›‘å¬å™¨ â–¼â–¼â–¼

const postsList = document.getElementById('qzone-posts-list');
let swipeState = { isDragging: false, startX: 0, startY: 0, currentX: 0, activeContainer: null, swipeDirection: null, isClick: true };

function resetAllSwipes(exceptThisOne = null) {
    document.querySelectorAll('.qzone-post-container').forEach(container => {
        if (container !== exceptThisOne) {
            container.querySelector('.qzone-post-item').classList.remove('swiped');
        }
    });
}

const handleSwipeStart = (e) => {
    const targetContainer = e.target.closest('.qzone-post-container');
    if (!targetContainer) return;

    resetAllSwipes(targetContainer);
    swipeState.activeContainer = targetContainer;
    swipeState.isDragging = true;
    swipeState.isClick = true;
    swipeState.swipeDirection = null;
    swipeState.startX = e.type.includes('mouse') ? e.pageX : e.touches[0].pageX;
    swipeState.startY = e.type.includes('mouse') ? e.pageY : e.touches[0].pageY;
    swipeState.activeContainer.querySelector('.qzone-post-item').style.transition = 'none';
};

const handleSwipeMove = (e) => {
    if (!swipeState.isDragging || !swipeState.activeContainer) return;

    const currentX = e.type.includes('mouse') ? e.pageX : e.touches[0].pageX;
    const currentY = e.type.includes('mouse') ? e.pageY : e.touches[0].pageY;
    const diffX = currentX - swipeState.startX;
    const diffY = currentY - swipeState.startY;
    const absDiffX = Math.abs(diffX);
    const absDiffY = Math.abs(diffY);
    const clickThreshold = 5;

    if (absDiffX > clickThreshold || absDiffY > clickThreshold) {
        swipeState.isClick = false;
    }

    if (swipeState.swipeDirection === null) {
        if (absDiffX > clickThreshold || absDiffY > clickThreshold) {
            if (absDiffX > absDiffY) {
                swipeState.swipeDirection = 'horizontal';
            } else {
                swipeState.swipeDirection = 'vertical';
            }
        }
    }
    if (swipeState.swipeDirection === 'vertical') {
        handleSwipeEnd(e);
        return;
    }
    if (swipeState.swipeDirection === 'horizontal') {
        e.preventDefault();
        swipeState.currentX = currentX;
        let translation = diffX;
        if (translation > 0) translation = 0;
        if (translation < -90) translation = -90;
        swipeState.activeContainer.querySelector('.qzone-post-item').style.transform = `translateX(${translation}px)`;
    }
};

const handleSwipeEnd = (e) => {
    if (swipeState.isClick) {
        swipeState.isDragging = false;
        swipeState.activeContainer = null;
        return;
    }
    if (!swipeState.isDragging || !swipeState.activeContainer) return;

    const postItem = swipeState.activeContainer.querySelector('.qzone-post-item');
    postItem.style.transition = 'transform 0.3s ease';

    const finalX = e.type.includes('touchend') ? e.changedTouches[0].pageX : e.pageX;
    const diffX = finalX - swipeState.startX;
    const swipeThreshold = -40;

    if (swipeState.swipeDirection === 'horizontal' && diffX < swipeThreshold) {
        postItem.classList.add('swiped');
        postItem.style.transform = '';
    } else {
        postItem.classList.remove('swiped');
        postItem.style.transform = '';
    }

    swipeState.isDragging = false;
    swipeState.startX = 0;
    swipeState.startY = 0;
    swipeState.currentX = 0;
    swipeState.activeContainer = null;
    swipeState.swipeDirection = null;
    swipeState.isClick = true;
};

// --- ç»‘å®šæ‰€æœ‰æ»‘åŠ¨äº‹ä»¶ ---
postsList.addEventListener('mousedown', handleSwipeStart);
document.addEventListener('mousemove', handleSwipeMove);
document.addEventListener('mouseup', handleSwipeEnd);
postsList.addEventListener('touchstart', handleSwipeStart, { passive: false });
postsList.addEventListener('touchmove', handleSwipeMove, { passive: false });
postsList.addEventListener('touchend', handleSwipeEnd);

// --- ç»‘å®šæ‰€æœ‰ç‚¹å‡»äº‹ä»¶ ---
postsList.addEventListener('click', async (e) => {
    e.stopPropagation();
    const target = e.target;

    // --- æ–°å¢ï¼šå¤„ç†è¯„è®ºåˆ é™¤æŒ‰é’® ---
    if (target.classList.contains('comment-delete-btn')) {
        const postContainer = target.closest('.qzone-post-container');
        if (!postContainer) return;

        const postId = parseInt(postContainer.dataset.postId);
        const commentIndex = parseInt(target.dataset.commentIndex);
        if (isNaN(postId) || isNaN(commentIndex)) return;

        const post = await db.qzonePosts.get(postId);
        if (!post || !post.comments || !post.comments[commentIndex]) return;

        const commentText = post.comments[commentIndex].text;
        const confirmed = await showCustomConfirm(
            'åˆ é™¤è¯„è®º',
            `ç¡®å®šè¦åˆ é™¤è¿™æ¡è¯„è®ºå—ï¼Ÿ\n\nâ€œ${commentText.substring(0, 50)}...â€`,
            { confirmButtonClass: 'btn-danger' }
        );

        if (confirmed) {
            // ä»æ•°ç»„ä¸­ç§»é™¤è¯¥è¯„è®º
            post.comments.splice(commentIndex, 1);
            // æ›´æ–°æ•°æ®åº“
            await db.qzonePosts.update(postId, { comments: post.comments });
            // é‡æ–°æ¸²æŸ“åˆ—è¡¨ä»¥åæ˜ æ›´æ”¹
            await renderQzonePosts();
            alert('è¯„è®ºå·²åˆ é™¤ã€‚');
        }
        return; // å¤„ç†å®Œåç›´æ¥è¿”å›
    }

    if (target.classList.contains('post-actions-btn')) {
        const container = target.closest('.qzone-post-container');
        if (container && container.dataset.postId) {
            showPostActions(parseInt(container.dataset.postId));
        }
        return;
    }

    if (target.closest('.qzone-post-delete-action')) {
        const container = target.closest('.qzone-post-container');
        if (!container) return;
        
        const postIdToDelete = parseInt(container.dataset.postId);
        if (isNaN(postIdToDelete)) return;

        const confirmed = await showCustomConfirm('åˆ é™¤åŠ¨æ€', 'ç¡®å®šè¦æ°¸ä¹…åˆ é™¤è¿™æ¡åŠ¨æ€å—ï¼Ÿ', { confirmButtonClass: 'btn-danger' });

        if (confirmed) {
            container.style.transition = 'all 0.3s ease';
            container.style.transform = 'scale(0.8)';
            container.style.opacity = '0';
        
            setTimeout(async () => {
                 await db.qzonePosts.delete(postIdToDelete);
                 
                 const notificationIdentifier = `(ID: ${postIdToDelete})`;
                 for (const chatId in state.chats) {
                     const chat = state.chats[chatId];
                     const originalHistoryLength = chat.history.length;
                     chat.history = chat.history.filter(msg => !(msg.role === 'system' && msg.content.includes(notificationIdentifier)));
                     if (chat.history.length < originalHistoryLength) {
                         await db.chats.put(chat);
                     }
                 }
                 await renderQzonePosts();
                 alert('åŠ¨æ€å·²åˆ é™¤ã€‚');
            }, 300);
        }
        return;
    }

    if (target.tagName === 'IMG' && target.dataset.hiddenText) {
        const hiddenText = target.dataset.hiddenText;
        showCustomAlert("å›¾ç‰‡å†…å®¹", hiddenText.replace(/<br>/g, '\n'));
        return;
    }
    const icon = target.closest('.action-icon');
    if (icon) {
        const postContainer = icon.closest('.qzone-post-container');
        if (!postContainer) return;
        const postId = parseInt(postContainer.dataset.postId);
        if (isNaN(postId)) return;
        if (icon.classList.contains('like')) {
            const post = await db.qzonePosts.get(postId);
            if (!post) return;
            if (!post.likes) post.likes = [];
            const userNickname = state.qzoneSettings.nickname;
            const userLikeIndex = post.likes.indexOf(userNickname);
            if (userLikeIndex > -1) {
                post.likes.splice(userLikeIndex, 1);
            } else {
                post.likes.push(userNickname);
                icon.classList.add('animate-like');
                icon.addEventListener('animationend', () => icon.classList.remove('animate-like'), { once: true });
            }
            await db.qzonePosts.update(postId, { likes: post.likes });
        }
        if (icon.classList.contains('favorite')) {
            const existingFavorite = await db.favorites.where({ type: 'qzone_post', 'content.id': postId }).first();
            if (existingFavorite) {
                await db.favorites.delete(existingFavorite.id);
                await showCustomAlert('æç¤º', 'å·²å–æ¶ˆæ”¶è—');
            } else {
                const postToSave = await db.qzonePosts.get(postId);
                if (postToSave) {
                    await db.favorites.add({ type: 'qzone_post', content: postToSave, timestamp: Date.now() });
                    await showCustomAlert('æç¤º', 'æ”¶è—æˆåŠŸï¼');
                }
            }
        }
        await renderQzonePosts();
        return;
    }
    const sendBtn = target.closest('.comment-send-btn');
    if (sendBtn) {
        const postContainer = sendBtn.closest('.qzone-post-container');
        if (!postContainer) return;
        const postId = parseInt(postContainer.dataset.postId);
        const commentInput = postContainer.querySelector('.comment-input');
        const commentText = commentInput.value.trim();
        if (!commentText) return alert('è¯„è®ºå†…å®¹ä¸èƒ½ä¸ºç©ºå“¦ï¼');
        const post = await db.qzonePosts.get(postId);
        if (!post) return;
        if (!post.comments) post.comments = [];
        post.comments.push({ commenterName: state.qzoneSettings.nickname, text: commentText, timestamp: Date.now() });
        await db.qzonePosts.update(postId, { comments: post.comments });
        for (const chatId in state.chats) {
            const chat = state.chats[chatId];
            if (!chat.isGroup) {
                chat.history.push({ role: 'system', content: `[ç³»ç»Ÿæç¤ºï¼š'${state.qzoneSettings.nickname}' åœ¨IDä¸º${postId}çš„åŠ¨æ€ä¸‹å‘è¡¨äº†è¯„è®ºï¼šâ€œ${commentText}â€]`, timestamp: Date.now(), isHidden: true });
                await db.chats.put(chat);
            }
        }
        commentInput.value = '';
        await renderQzonePosts();
        return;
    }
});
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

            // â–¼â–¼â–¼ åœ¨ init() å‡½æ•°çš„äº‹ä»¶ç›‘å¬å™¨åŒºåŸŸï¼Œç²˜è´´ä¸‹é¢è¿™ä¸¤è¡Œ â–¼â–¼â–¼

            // ç»‘å®šåŠ¨æ€é¡µå’Œæ”¶è—é¡µçš„è¿”å›æŒ‰é’®
            document.getElementById('qzone-back-btn').addEventListener('click', () => switchToChatListView('messages-view'));
            document.getElementById('favorites-back-btn').addEventListener('click', () => switchToChatListView('messages-view'));

            // â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

            // â–¼â–¼â–¼ åœ¨ init() å‡½æ•°çš„äº‹ä»¶ç›‘å¬å™¨åŒºåŸŸï¼Œæ£€æŸ¥å¹¶ç¡®ä¿ä½ æœ‰è¿™æ®µå®Œæ•´çš„ä»£ç  â–¼â–¼â–¼

            // æ”¶è—é¡µæœç´¢åŠŸèƒ½
            const searchInput = document.getElementById('favorites-search-input');
            const searchClearBtn = document.getElementById('favorites-search-clear-btn');

            searchInput.addEventListener('input', () => {
                const searchTerm = searchInput.value.trim().toLowerCase();
                
                // æ§åˆ¶æ¸…é™¤æŒ‰é’®çš„æ˜¾ç¤º/éšè—
                searchClearBtn.style.display = searchTerm ? 'block' : 'none';

                if (!searchTerm) {
                    displayFilteredFavorites(allFavoriteItems); // å¦‚æœæœç´¢æ¡†ä¸ºç©ºï¼Œæ˜¾ç¤ºæ‰€æœ‰
                    return;
                }

                // ç­›é€‰é€»è¾‘
                const filteredItems = allFavoriteItems.filter(item => {
                    let contentToSearch = '';
                    let authorToSearch = '';

                    if (item.type === 'qzone_post') {
                        const post = item.content;
                        contentToSearch += (post.publicText || '') + ' ' + (post.content || '');
                        if (post.authorId === 'user') {
                            authorToSearch = state.qzoneSettings.nickname;
                        } else if (state.chats[post.authorId]) {
                            authorToSearch = state.chats[post.authorId].name;
                        }
                    } else if (item.type === 'chat_message') {
                        const msg = item.content;
                        if (typeof msg.content === 'string') {
                            contentToSearch = msg.content;
                        }
                        const chat = state.chats[item.chatId];
                        if (chat) {
                           if (msg.role === 'user') {
                                authorToSearch = chat.isGroup ? (chat.settings.myNickname || 'æˆ‘') : 'æˆ‘';
                           } else {
                                authorToSearch = chat.isGroup ? msg.senderName : chat.name;
                           }
                        }
                    }
                    
                    // åŒæ—¶æœç´¢å†…å®¹å’Œä½œè€…ï¼Œå¹¶ä¸”ä¸åŒºåˆ†å¤§å°å†™
                    return contentToSearch.toLowerCase().includes(searchTerm) || 
                           authorToSearch.toLowerCase().includes(searchTerm);
                });

                displayFilteredFavorites(filteredItems);
            });

            // æ¸…é™¤æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶
            searchClearBtn.addEventListener('click', () => {
                searchInput.value = '';
                searchClearBtn.style.display = 'none';
                displayFilteredFavorites(allFavoriteItems);
                searchInput.focus();
            });

            // â–²â–²â–² ä»£ç æ£€æŸ¥ç»“æŸ â–²â–²â–²

            // â–¼â–¼â–¼ æ–°å¢/ä¿®æ”¹çš„äº‹ä»¶ç›‘å¬å™¨ â–¼â–¼â–¼
            
            // ä¸ºèŠå¤©ç•Œé¢çš„æ‰¹é‡æ”¶è—æŒ‰é’®ç»‘å®šäº‹ä»¶
                        // ä¸ºèŠå¤©ç•Œé¢çš„æ‰¹é‡æ”¶è—æŒ‰é’®ç»‘å®šäº‹ä»¶ (å·²ä¿®æ­£)
            document.getElementById('selection-favorite-btn').addEventListener('click', async () => {
                if (selectedMessages.size === 0) return;
                const chat = state.chats[state.activeChatId];
                if (!chat) return;

                const favoritesToAdd = [];
                const timestampsToFavorite = [...selectedMessages];

                for (const timestamp of timestampsToFavorite) {
                    // ã€æ ¸å¿ƒä¿®æ­£1ã€‘ä½¿ç”¨æ–°çš„ã€é«˜æ•ˆçš„ç´¢å¼•è¿›è¡ŒæŸ¥è¯¢
                    const existing = await db.favorites.where('originalTimestamp').equals(timestamp).first();
                    
                    if (!existing) {
                        const messageToSave = chat.history.find(msg => msg.timestamp === timestamp);
                        if (messageToSave) {
                            favoritesToAdd.push({
                                type: 'chat_message',
                                content: messageToSave,
                                chatId: state.activeChatId,
                                timestamp: Date.now(), // è¿™æ˜¯æ”¶è—æ“ä½œå‘ç”Ÿçš„æ—¶é—´
                                originalTimestamp: messageToSave.timestamp // ã€æ ¸å¿ƒä¿®æ­£2ã€‘ä¿å­˜åŸå§‹æ¶ˆæ¯çš„æ—¶é—´æˆ³åˆ°æ–°å­—æ®µ
                            });
                        }
                    }
                }

                if (favoritesToAdd.length > 0) {
                    await db.favorites.bulkAdd(favoritesToAdd);
                    allFavoriteItems = await db.favorites.orderBy('timestamp').reverse().toArray(); // æ›´æ–°å…¨å±€æ”¶è—ç¼“å­˜
                    await showCustomAlert('æ”¶è—æˆåŠŸ', `å·²æˆåŠŸæ”¶è— ${favoritesToAdd.length} æ¡æ¶ˆæ¯ã€‚`);
                } else {
                    await showCustomAlert('æç¤º', 'é€‰ä¸­çš„æ¶ˆæ¯å‡å·²æ”¶è—è¿‡ã€‚');
                }
                
                exitSelectionMode();
            });

            // æ”¶è—é¡µé¢çš„"ç¼–è¾‘"æŒ‰é’®äº‹ä»¶ (å·²ä¿®æ­£)
            const favoritesEditBtn = document.getElementById('favorites-edit-btn');
            const favoritesView = document.getElementById('favorites-view');
            const favoritesActionBar = document.getElementById('favorites-action-bar');
            const mainBottomNav = document.getElementById('chat-list-bottom-nav'); // è·å–ä¸»å¯¼èˆªæ 
            const favoritesList = document.getElementById('favorites-list'); // è·å–æ”¶è—åˆ—è¡¨
            
            favoritesEditBtn.addEventListener('click', () => {
                isFavoritesSelectionMode = !isFavoritesSelectionMode;
                favoritesView.classList.toggle('selection-mode', isFavoritesSelectionMode);

                if (isFavoritesSelectionMode) {
                    // --- è¿›å…¥ç¼–è¾‘æ¨¡å¼ ---
                    favoritesEditBtn.textContent = 'å®Œæˆ';
                    favoritesActionBar.style.display = 'block'; // æ˜¾ç¤ºåˆ é™¤æ“ä½œæ 
                    mainBottomNav.style.display = 'none'; // â–¼ æ–°å¢ï¼šéšè—ä¸»å¯¼èˆªæ 
                    favoritesList.style.paddingBottom = '80px'; // â–¼ æ–°å¢ï¼šç»™åˆ—è¡¨åº•éƒ¨å¢åŠ ç©ºé—´
                } else {
                    // --- é€€å‡ºç¼–è¾‘æ¨¡å¼ ---
                    favoritesEditBtn.textContent = 'ç¼–è¾‘';
                    favoritesActionBar.style.display = 'none'; // éšè—åˆ é™¤æ“ä½œæ 
                    mainBottomNav.style.display = 'flex';  // â–¼ æ–°å¢ï¼šæ¢å¤ä¸»å¯¼èˆªæ 
                    favoritesList.style.paddingBottom = ''; // â–¼ æ–°å¢ï¼šæ¢å¤åˆ—è¡¨é»˜è®¤padding

                    // é€€å‡ºæ—¶æ¸…ç©ºæ‰€æœ‰é€‰æ‹©
                    selectedFavorites.clear();
                    document.querySelectorAll('.favorite-item-card.selected').forEach(card => card.classList.remove('selected'));
                    document.getElementById('favorites-delete-selected-btn').textContent = `åˆ é™¤ (0)`;
                }
            });

// â–¼â–¼â–¼ å°†å®ƒã€å®Œæ•´æ›¿æ¢ã€‘ä¸ºä¸‹é¢è¿™æ®µä¿®æ­£åçš„ä»£ç  â–¼â–¼â–¼
// æ”¶è—åˆ—è¡¨çš„ç‚¹å‡»é€‰æ‹©äº‹ä»¶ (äº‹ä»¶å§”æ‰˜)
document.getElementById('favorites-list').addEventListener('click', (e) => {
    const target = e.target;
    const card = target.closest('.favorite-item-card');

    // ã€æ–°å¢ã€‘å¤„ç†æ–‡å­—å›¾ç‚¹å‡»ï¼Œè¿™æ®µé€»è¾‘è¦æ”¾åœ¨æœ€å‰é¢ï¼Œä¿è¯ä»»ä½•æ¨¡å¼ä¸‹éƒ½ç”Ÿæ•ˆ
    if (target.tagName === 'IMG' && target.dataset.hiddenText) {
        const hiddenText = target.dataset.hiddenText;
        showCustomAlert("å›¾ç‰‡å†…å®¹", hiddenText.replace(/<br>/g, '\n'));
        return; // å¤„ç†å®Œå°±é€€å‡ºï¼Œä¸ç»§ç»­æ‰§è¡Œé€‰æ‹©é€»è¾‘
    }
    
    // å¦‚æœä¸åœ¨é€‰æ‹©æ¨¡å¼ï¼Œåˆ™ä¸æ‰§è¡Œåç»­çš„é€‰æ‹©æ“ä½œ
    if (!isFavoritesSelectionMode) return;

    // --- ä»¥ä¸‹æ˜¯åŸæœ‰çš„é€‰æ‹©é€»è¾‘ï¼Œä¿æŒä¸å˜ ---
    if (!card) return;

    const favId = parseInt(card.dataset.favid);
    if (isNaN(favId)) return;

    // åˆ‡æ¢é€‰æ‹©çŠ¶æ€
    if (selectedFavorites.has(favId)) {
        selectedFavorites.delete(favId);
        card.classList.remove('selected');
    } else {
        selectedFavorites.add(favId);
        card.classList.add('selected');
    }
    
    // æ›´æ–°åº•éƒ¨åˆ é™¤æŒ‰é’®çš„è®¡æ•°
    document.getElementById('favorites-delete-selected-btn').textContent = `åˆ é™¤ (${selectedFavorites.size})`;
});

// â–¼â–¼â–¼ å°†å®ƒã€å®Œæ•´æ›¿æ¢ã€‘ä¸ºä¸‹é¢è¿™æ®µä¿®æ­£åçš„ä»£ç  â–¼â–¼â–¼
// æ”¶è—é¡µé¢æ‰¹é‡åˆ é™¤æŒ‰é’®äº‹ä»¶
document.getElementById('favorites-delete-selected-btn').addEventListener('click', async () => {
    if (selectedFavorites.size === 0) return;

    const confirmed = await showCustomConfirm(
        'ç¡®è®¤åˆ é™¤', 
        `ç¡®å®šè¦ä»æ”¶è—å¤¹ä¸­ç§»é™¤è¿™ ${selectedFavorites.size} æ¡å†…å®¹å—ï¼Ÿ`, 
        { confirmButtonClass: 'btn-danger' }
    );

    if (confirmed) {
        const idsToDelete = [...selectedFavorites];
        await db.favorites.bulkDelete(idsToDelete);
        await showCustomAlert('åˆ é™¤æˆåŠŸ', 'é€‰ä¸­çš„æ”¶è—å·²è¢«ç§»é™¤ã€‚');
        
        // ã€æ ¸å¿ƒä¿®æ­£1ã€‘ä»å‰ç«¯ç¼“å­˜ä¸­ä¹Ÿç§»é™¤è¢«åˆ é™¤çš„é¡¹
        allFavoriteItems = allFavoriteItems.filter(item => !idsToDelete.includes(item.id));
        
        // ã€æ ¸å¿ƒä¿®æ­£2ã€‘ä½¿ç”¨æ›´æ–°åçš„ç¼“å­˜ï¼Œç«‹å³é‡æ–°æ¸²æŸ“åˆ—è¡¨
        displayFilteredFavorites(allFavoriteItems);
        
        // æœ€åï¼Œå†é€€å‡ºç¼–è¾‘æ¨¡å¼
        favoritesEditBtn.click(); // æ¨¡æ‹Ÿç‚¹å‡»"å®Œæˆ"æŒ‰é’®æ¥é€€å‡ºç¼–è¾‘æ¨¡å¼
    }
});

// â–¼â–¼â–¼ åœ¨ init() å‡½æ•°æœ«å°¾æ·»åŠ  â–¼â–¼â–¼
if (state.globalSettings.enableBackgroundActivity) {
    startBackgroundSimulation();
    console.log("åå°æ´»åŠ¨æ¨¡æ‹Ÿå·²è‡ªåŠ¨å¯åŠ¨ã€‚");
}
// â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ ã€è¿™æ˜¯æœ€ç»ˆçš„æ­£ç¡®ä»£ç ã€‘è¯·ç²˜è´´è¿™æ®µä»£ç åˆ° init() çš„äº‹ä»¶ç›‘å¬å™¨åŒºåŸŸæœ«å°¾ â–¼â–¼â–¼

// --- ç»Ÿä¸€å¤„ç†æ‰€æœ‰å½±å“é¢„è§ˆçš„æ§ä»¶çš„äº‹ä»¶ ---

// 1. ç›‘å¬ä¸»é¢˜é€‰æ‹©
document.querySelectorAll('input[name="theme-select"]').forEach(radio => {
    radio.addEventListener('change', updateSettingsPreview);
});

// 2. ç›‘å¬å­—ä½“å¤§å°æ»‘å—
const fontSizeSlider = document.getElementById('font-size-slider');
fontSizeSlider.addEventListener('input', () => {
    // a. å®æ—¶æ›´æ–°æ•°å€¼æ˜¾ç¤º
    document.getElementById('font-size-value').textContent = `${fontSizeSlider.value}px`;
    // b. æ›´æ–°é¢„è§ˆ
    updateSettingsPreview();
});

// 3. ç›‘å¬è‡ªå®šä¹‰CSSè¾“å…¥æ¡†
const customCssInputForPreview = document.getElementById('custom-css-input');
customCssInputForPreview.addEventListener('input', updateSettingsPreview);

// 4. ç›‘å¬é‡ç½®æŒ‰é’®
document.getElementById('reset-theme-btn').addEventListener('click', () => {
    document.getElementById('theme-default').checked = true;
    updateSettingsPreview();
});

document.getElementById('reset-custom-css-btn').addEventListener('click', () => {
    document.getElementById('custom-css-input').value = '';
    updateSettingsPreview();
});

// â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ è¯·å°†è¿™æ®µã€æ–°ä»£ç ã€‘ç²˜è´´åˆ° init() çš„äº‹ä»¶ç›‘å¬å™¨åŒºåŸŸæœ«å°¾ â–¼â–¼â–¼
document.querySelectorAll('input[name="visibility"]').forEach(radio => {
    radio.addEventListener('change', function() {
        const groupsContainer = document.getElementById('post-visibility-groups');
        if (this.value === 'include' || this.value === 'exclude') {
            groupsContainer.style.display = 'block';
        } else {
            groupsContainer.style.display = 'none';
        }
    });
});
// â–²â–²â–² æ–°ä»£ç ç²˜è´´ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ è¯·å°†è¿™æ®µã€æ–°ä»£ç ã€‘ç²˜è´´åˆ° init() çš„äº‹ä»¶ç›‘å¬å™¨åŒºåŸŸæœ«å°¾ â–¼â–¼â–¼
document.getElementById('manage-groups-btn').addEventListener('click', openGroupManager);
document.getElementById('close-group-manager-btn').addEventListener('click', () => {
    document.getElementById('group-management-modal').classList.remove('visible');
    // åˆ·æ–°èŠå¤©è®¾ç½®é‡Œçš„åˆ†ç»„åˆ—è¡¨
    const chatSettingsBtn = document.getElementById('chat-settings-btn');
    if (document.getElementById('chat-settings-modal').classList.contains('visible')) {
       chatSettingsBtn.click(); // å†æ¬¡ç‚¹å‡»ä»¥é‡æ–°æ‰“å¼€
    }
});

document.getElementById('add-new-group-btn').addEventListener('click', addNewGroup);
document.getElementById('existing-groups-list').addEventListener('click', (e) => {
    if (e.target.classList.contains('delete-group-btn')) {
        const groupId = parseInt(e.target.dataset.id);
        deleteGroup(groupId);
    }
});
// â–²â–²â–² æ–°ä»£ç ç²˜è´´ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ è¯·å°†è¿™æ®µã€æ–°ä»£ç ã€‘ç²˜è´´åˆ° init() çš„äº‹ä»¶ç›‘å¬å™¨åŒºåŸŸæœ«å°¾ â–¼â–¼â–¼
// æ¶ˆæ¯æ“ä½œèœå•çš„æŒ‰é’®äº‹ä»¶
document.getElementById('cancel-message-action-btn').addEventListener('click', hideMessageActions);
// â–¼â–¼â–¼ ã€ä¿®æ­£ã€‘ä½¿ç”¨æ–°çš„ç¼–è¾‘å™¨å…¥å£ â–¼â–¼â–¼
document.getElementById('edit-message-btn').addEventListener('click', openAdvancedMessageEditor);
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²
document.getElementById('copy-message-btn').addEventListener('click', copyMessageContent);

// â–¼â–¼â–¼ åœ¨è¿™é‡Œæ·»åŠ æ–°ä»£ç  â–¼â–¼â–¼
document.getElementById('recall-message-btn').addEventListener('click', handleRecallClick);
// â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ è¯·ç”¨è¿™æ®µã€ä¿®æ­£åã€‘çš„ä»£ç æ›¿æ¢æ—§çš„ select-message-btn äº‹ä»¶ç›‘å¬å™¨ â–¼â–¼â–¼
document.getElementById('select-message-btn').addEventListener('click', () => {
    // ã€æ ¸å¿ƒä¿®å¤ã€‘åœ¨å…³é—­èœå•å‰ï¼Œå…ˆæ•è·æ—¶é—´æˆ³
    const timestampToSelect = activeMessageTimestamp; 
    hideMessageActions();
    // ä½¿ç”¨æ•è·åˆ°çš„å€¼
    if (timestampToSelect) {
        enterSelectionMode(timestampToSelect);
    }
});
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ åœ¨ init() å‡½æ•°çš„äº‹ä»¶ç›‘å¬å™¨åŒºåŸŸæœ«å°¾æ·»åŠ  â–¼â–¼â–¼

// åŠ¨æ€æ“ä½œèœå•çš„æŒ‰é’®äº‹ä»¶
document.getElementById('edit-post-btn').addEventListener('click', openPostEditor);
document.getElementById('copy-post-btn').addEventListener('click', copyPostContent);
document.getElementById('cancel-post-action-btn').addEventListener('click', hidePostActions);

// â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ ã€æ–°å¢ã€‘è”ç³»äººé€‰æ‹©å™¨äº‹ä»¶ç»‘å®š â–¼â–¼â–¼
document.getElementById('cancel-contact-picker-btn').addEventListener('click', () => {
    showScreen('chat-list-screen');
});

document.getElementById('contact-picker-list').addEventListener('click', (e) => {
    const item = e.target.closest('.contact-picker-item');
    if (!item) return;

    const contactId = item.dataset.contactId;
    item.classList.toggle('selected');
    
    if (selectedContacts.has(contactId)) {
        selectedContacts.delete(contactId);
    } else {
        selectedContacts.add(contactId);
    }
    updateContactPickerConfirmButton();
});

// â–¼â–¼â–¼ ã€æ–°å¢ã€‘ç»‘å®šâ€œç®¡ç†ç¾¤æˆå‘˜â€æŒ‰é’®äº‹ä»¶ â–¼â–¼â–¼
document.getElementById('manage-members-btn').addEventListener('click', () => {
    // åœ¨åˆ‡æ¢å±å¹•å‰ï¼Œå…ˆéšè—å½“å‰çš„èŠå¤©è®¾ç½®å¼¹çª—
    document.getElementById('chat-settings-modal').classList.remove('visible');
    // ç„¶åå†æ‰“å¼€æˆå‘˜ç®¡ç†å±å¹•
    openMemberManagementScreen();
});
// â–²â–²â–² æ–°å¢ä»£ç ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ ã€æœ€ç»ˆå®Œæ•´ç‰ˆã€‘ç¾¤æˆå‘˜ç®¡ç†åŠŸèƒ½äº‹ä»¶ç»‘å®š â–¼â–¼â–¼
document.getElementById('back-from-member-management').addEventListener('click', () => {

    showScreen('chat-interface-screen');    
    document.getElementById('chat-settings-btn').click();
});
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

document.getElementById('member-management-list').addEventListener('click', (e) => {
    // ã€å·²æ¢å¤ã€‘ç§»é™¤æˆå‘˜çš„äº‹ä»¶
    if (e.target.classList.contains('remove-member-btn')) {
        removeMemberFromGroup(e.target.dataset.memberId);
    }
});

document.getElementById('add-existing-contact-btn').addEventListener('click', async () => {
    // ã€å·²æ¢å¤ã€‘ä»å¥½å‹åˆ—è¡¨æ·»åŠ çš„äº‹ä»¶
    // ã€å…³é”®ã€‘ä¸ºâ€œå®Œæˆâ€æŒ‰é’®ç»‘å®šâ€œæ‹‰äººå…¥ç¾¤â€çš„é€»è¾‘
    const confirmBtn = document.getElementById('confirm-contact-picker-btn');
    // ä½¿ç”¨å…‹éš†èŠ‚ç‚¹æ–¹æ³•æ¸…é™¤æ—§çš„äº‹ä»¶ç›‘å¬å™¨ï¼Œé˜²æ­¢é‡å¤ç»‘å®š
    const newConfirmBtn = confirmBtn.cloneNode(true);
    confirmBtn.parentNode.replaceChild(newConfirmBtn, confirmBtn);
    newConfirmBtn.addEventListener('click', handleAddMembersToGroup);
    
    await openContactPickerForAddMember();
});

document.getElementById('create-new-member-btn').addEventListener('click', createNewMemberInGroup);
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è§†é¢‘é€šè¯åŠŸèƒ½äº‹ä»¶ç›‘å¬å™¨ â–¼â–¼â–¼

// ç»‘å®šå•èŠå’Œç¾¤èŠçš„å‘èµ·æŒ‰é’®
document.getElementById('video-call-btn').addEventListener('click', handleInitiateCall);
document.getElementById('group-video-call-btn').addEventListener('click', handleInitiateCall);

// ç»‘å®šâ€œæŒ‚æ–­â€æŒ‰é’®
document.getElementById('hang-up-btn').addEventListener('click', endVideoCall);

// ç»‘å®šâ€œå–æ¶ˆå‘¼å«â€æŒ‰é’®
document.getElementById('cancel-call-btn').addEventListener('click', () => {
    videoCallState.isAwaitingResponse = false;
    showScreen('chat-interface-screen');
});

// ã€å…¨æ–°ã€‘ç»‘å®šâ€œåŠ å…¥é€šè¯â€æŒ‰é’®
document.getElementById('join-call-btn').addEventListener('click', handleUserJoinCall);

// â–¼â–¼â–¼ ç”¨è¿™ä¸ªã€å·²ä¿®å¤å¹¶æ¿€æ´»æ—è§‚æ¨¡å¼ã€‘çš„ç‰ˆæœ¬æ›¿æ¢æ—§çš„ decline-call-btn äº‹ä»¶ç›‘å¬å™¨ â–¼â–¼â–¼
// ç»‘å®šæ¥ç”µè¯·æ±‚çš„â€œæ‹’ç»â€æŒ‰é’®
document.getElementById('decline-call-btn').addEventListener('click', async () => {
    hideIncomingCallModal();
    const chat = state.chats[videoCallState.activeChatId];
    if (!chat) return;
    
    // ã€æ ¸å¿ƒä¿®æ­£ã€‘åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†æ‹’ç»çš„é€»è¾‘ä¸APIè°ƒç”¨è¿æ¥èµ·æ¥
    if (videoCallState.isGroupCall) {
        videoCallState.isUserParticipating = false; // æ ‡è®°ç”¨æˆ·ä¸ºæ—è§‚è€…
        
        // 1. åˆ›å»ºä¸€æ¡éšè—æ¶ˆæ¯ï¼Œé€šçŸ¥AIç”¨æˆ·æ‹’ç»äº†
        const systemNote = {
            role: 'system',
            content: `[ç³»ç»Ÿæç¤ºï¼šç”¨æˆ·æ‹’ç»äº†é€šè¯é‚€è¯·ï¼Œä½†ä½ ä»¬å¯ä»¥è‡ªå·±å¼€å§‹ã€‚è¯·ä½ ä»¬å„è‡ªå†³ç­–æ˜¯å¦åŠ å…¥ã€‚]`,
            timestamp: Date.now(),
            isHidden: true
        };
        chat.history.push(systemNote);
        await db.chats.put(chat);
        
        // 2. ã€å…³é”®ã€‘è§¦å‘AIå“åº”ï¼Œè®©å®ƒä»¬è‡ªå·±å†³å®šè¦ä¸è¦å¼€å§‹ç¾¤èŠ
        // è¿™å°†ä¼šåœ¨åå°å¤„ç†ï¼Œå¦‚æœAIä»¬å†³å®šå¼€å§‹ï¼Œæœ€ç»ˆä¼šè°ƒç”¨ startVideoCall()
        await triggerAiResponse(); 
        
    } else { // å•èŠæ‹’ç»é€»è¾‘ä¿æŒä¸å˜
        const declineMessage = { role: 'user', content: 'æˆ‘æ‹’ç»äº†ä½ çš„è§†é¢‘é€šè¯è¯·æ±‚ã€‚', timestamp: Date.now() };
        chat.history.push(declineMessage);
        await db.chats.put(chat);
        
        // å›åˆ°èŠå¤©ç•Œé¢å¹¶æ˜¾ç¤ºæ‹’ç»æ¶ˆæ¯
        showScreen('chat-interface-screen');
        appendMessage(declineMessage, chat);
        
        // è®©AIå¯¹ä½ çš„æ‹’ç»åšå‡ºå›åº”
        triggerAiResponse();
    }
    
    // æ¸…ç†çŠ¶æ€ï¼Œä»¥é˜²ä¸‡ä¸€
    videoCallState.isAwaitingResponse = false;
});
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ ç”¨è¿™ä¸ªã€å·²ä¿®å¤é‡å¤å¤´åƒBUGã€‘çš„ç‰ˆæœ¬æ›¿æ¢æ—§çš„ accept-call-btn äº‹ä»¶ç›‘å¬å™¨ â–¼â–¼â–¼
// ç»‘å®šæ¥ç”µè¯·æ±‚çš„â€œæ¥å¬â€æŒ‰é’®
document.getElementById('accept-call-btn').addEventListener('click', async () => {
    hideIncomingCallModal();
    
    videoCallState.initiator = 'ai';
    videoCallState.isUserParticipating = true;
    videoCallState.activeChatId = state.activeChatId;
    
    // ã€æ ¸å¿ƒä¿®æ­£ã€‘æˆ‘ä»¬åœ¨è¿™é‡Œä¸å†æ‰‹åŠ¨æ·»åŠ ç”¨æˆ·åˆ° participants åˆ—è¡¨
    if (videoCallState.isGroupCall) {
        // å¯¹äºç¾¤èŠï¼Œæˆ‘ä»¬åªæŠŠã€å‘èµ·é€šè¯çš„AIã€‘åŠ å…¥å‚ä¸è€…åˆ—è¡¨
        const chat = state.chats[videoCallState.activeChatId];
        const requester = chat.members.find(m => m.name === videoCallState.callRequester);
        if (requester) {
            // æ¸…ç©ºå¯èƒ½å­˜åœ¨çš„æ—§æ•°æ®ï¼Œç„¶ååªæ·»åŠ å‘èµ·è€…
            videoCallState.participants = [requester];
        } else {
            videoCallState.participants = []; // å¦‚æœæ‰¾ä¸åˆ°å‘èµ·è€…ï¼Œå°±æ¸…ç©º
        }
    }
    
    // æ— è®ºå•èŠè¿˜æ˜¯ç¾¤èŠï¼Œç›´æ¥å¯åŠ¨é€šè¯ç•Œé¢ï¼
    startVideoCall();
});
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²


// â–¼â–¼â–¼ è¯·ç”¨è¿™ä¸ªã€å·²å¢åŠ ç”¨æˆ·é«˜äº®ã€‘çš„å…¨æ–°ç‰ˆæœ¬ï¼Œå®Œæ•´æ›¿æ¢æ—§çš„ user-speak-btn äº‹ä»¶ç›‘å¬å™¨ â–¼â–¼â–¼
// ç»‘å®šç”¨æˆ·åœ¨é€šè¯ä¸­å‘è¨€çš„æŒ‰é’®
document.getElementById('user-speak-btn').addEventListener('click', async () => {
    if (!videoCallState.isActive) return;

    // â˜…â˜…â˜…â˜…â˜… æ ¸å¿ƒæ–°å¢ï¼šåœ¨å¼¹å‡ºè¾“å…¥æ¡†å‰ï¼Œå…ˆæ‰¾åˆ°å¹¶é«˜äº®ç”¨æˆ·å¤´åƒ â˜…â˜…â˜…â˜…â˜…
    const userAvatar = document.querySelector('.participant-avatar-wrapper[data-participant-id="user"] .participant-avatar');
    if (userAvatar) {
        userAvatar.classList.add('speaking');
    }

    const userInput = await showCustomPrompt('ä½ è¯´', 'è¯·è¾“å…¥ä½ æƒ³è¯´çš„è¯...');
    
    // â˜…â˜…â˜…â˜…â˜… æ ¸å¿ƒæ–°å¢ï¼šæ— è®ºç”¨æˆ·æ˜¯å¦è¾“å…¥ï¼Œåªè¦å…³é—­è¾“å…¥æ¡†å°±ç§»é™¤é«˜äº® â˜…â˜…â˜…â˜…â˜…
    if (userAvatar) {
        userAvatar.classList.remove('speaking');
    }

    if (userInput && userInput.trim()) {
        triggerAiInCallAction(userInput.trim());
    }
});
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ ã€æ–°å¢ã€‘å›å¿†å½•ç›¸å…³äº‹ä»¶ç»‘å®š â–¼â–¼â–¼
// 1. å°†â€œå›å¿†â€é¡µç­¾å’Œå®ƒçš„è§†å›¾è¿æ¥èµ·æ¥
document.querySelector('.nav-item[data-view="memories-view"]').addEventListener('click', () => {
    // åœ¨åˆ‡æ¢å‰ï¼Œç¡®ä¿"æ”¶è—"é¡µé¢çš„ç¼–è¾‘æ¨¡å¼å·²å…³é—­
    if (isFavoritesSelectionMode) {
        document.getElementById('favorites-edit-btn').click(); 
    }
    switchToChatListView('memories-view');
    renderMemoriesScreen(); // ç‚¹å‡»æ—¶æ¸²æŸ“
});

// 2. ç»‘å®šå›å¿†å½•ç•Œé¢çš„è¿”å›æŒ‰é’®
document.getElementById('memories-back-btn').addEventListener('click', () => switchToChatListView('messages-view'));

// â–²â–²â–² æ–°å¢ç»“æŸ â–²â–²â–²

// ã€å…¨æ–°ã€‘çº¦å®š/å€’è®¡æ—¶åŠŸèƒ½äº‹ä»¶ç»‘å®š
document.getElementById('add-countdown-btn').addEventListener('click', () => {
    document.getElementById('create-countdown-modal').classList.add('visible');
});
document.getElementById('cancel-create-countdown-btn').addEventListener('click', () => {
    document.getElementById('create-countdown-modal').classList.remove('visible');
});
document.getElementById('confirm-create-countdown-btn').addEventListener('click', async () => {
    const title = document.getElementById('countdown-title-input').value.trim();
    const dateValue = document.getElementById('countdown-date-input').value;
    
    if (!title || !dateValue) {
        alert('è¯·å¡«å†™å®Œæ•´çš„çº¦å®šæ ‡é¢˜å’Œæ—¥æœŸï¼');
        return;
    }

    const targetDate = new Date(dateValue);
    if (isNaN(targetDate) || targetDate <= new Date()) {
        alert('è¯·è¾“å…¥ä¸€ä¸ªæœ‰æ•ˆçš„ã€æœªæ¥çš„æ—¥æœŸï¼');
        return;
    }

    const newCountdown = {
        chatId: null, // ç”¨æˆ·åˆ›å»ºçš„ï¼Œä¸å±äºä»»ä½•ç‰¹å®šAI
        authorName: 'æˆ‘',
        description: title,
        timestamp: Date.now(),
        type: 'countdown',
        targetDate: targetDate.getTime()
    };
    
    await db.memories.add(newCountdown);
    document.getElementById('create-countdown-modal').classList.remove('visible');
    renderMemoriesScreen();
});

// ã€å…¨æ–°ã€‘æ‹‰é»‘åŠŸèƒ½äº‹ä»¶ç»‘å®š
document.getElementById('block-chat-btn').addEventListener('click', async () => {
    if (!state.activeChatId || state.chats[state.activeChatId].isGroup) return;

    const chat = state.chats[state.activeChatId];
    const confirmed = await showCustomConfirm(
        'ç¡®è®¤æ‹‰é»‘', 
        `ç¡®å®šè¦æ‹‰é»‘â€œ${chat.name}â€å—ï¼Ÿæ‹‰é»‘åæ‚¨å°†æ— æ³•å‘å…¶å‘é€æ¶ˆæ¯ï¼Œç›´åˆ°æ‚¨å°†Taç§»å‡ºé»‘åå•ï¼Œæˆ–ç­‰å¾…Taé‡æ–°ç”³è¯·å¥½å‹ã€‚`,
        { confirmButtonClass: 'btn-danger' }
    );

    if (confirmed) {
        chat.relationship.status = 'blocked_by_user';
        chat.relationship.blockedTimestamp = Date.now();

        // â–¼â–¼â–¼ åœ¨è¿™é‡Œæ·»åŠ ä¸‹é¢çš„ä»£ç  â–¼â–¼â–¼
        const hiddenMessage = {
            role: 'system',
            content: `[ç³»ç»Ÿæç¤ºï¼šä½ åˆšåˆšè¢«ç”¨æˆ·æ‹‰é»‘äº†ã€‚åœ¨å¯¹æ–¹è§£é™¤æ‹‰é»‘ä¹‹å‰ï¼Œä½ æ— æ³•å†ä¸»åŠ¨å‘èµ·å¯¹è¯ï¼Œä¹Ÿæ— æ³•å›åº”ã€‚]`,
            timestamp: Date.now() + 1,
            isHidden: true
        };
        chat.history.push(hiddenMessage);
        // â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

        await db.chats.put(chat);
        
        // å…³é—­è®¾ç½®å¼¹çª—ï¼Œå¹¶åˆ·æ–°èŠå¤©ç•Œé¢
        document.getElementById('chat-settings-modal').classList.remove('visible');
        renderChatInterface(state.activeChatId);
        // åˆ·æ–°èŠå¤©åˆ—è¡¨ï¼Œå¯èƒ½ä¼šæœ‰UIå˜åŒ–
        renderChatList();
    }
});

document.getElementById('chat-lock-overlay').addEventListener('click', async (e) => {
    const chat = state.chats[state.activeChatId];
    if (!chat) return;

    if (e.target.id === 'force-apply-check-btn') {
        alert("æ­£åœ¨æ‰‹åŠ¨è§¦å‘å¥½å‹ç”³è¯·æµç¨‹ï¼Œè¯·ç¨å...\nå¦‚æœAPIè°ƒç”¨æˆåŠŸï¼Œå°†å¼¹å‡ºæç¤ºã€‚å¦‚æœå¤±è´¥ï¼Œä¹Ÿä¼šæœ‰é”™è¯¯æç¤ºã€‚å¦‚æœé•¿æ—¶é—´æ— ååº”ï¼Œè¯´æ˜AIå¯èƒ½å†³å®šæš‚æ—¶ä¸ç”³è¯·ã€‚");
        await triggerAiFriendApplication(chat.id);
        renderChatInterface(chat.id); 
        return;
    }

    if (e.target.id === 'unblock-btn') {
        chat.relationship.status = 'friend';
        chat.relationship.blockedTimestamp = null;

        // â–¼â–¼â–¼ åœ¨è¿™é‡Œæ·»åŠ ä¸‹é¢çš„ä»£ç  â–¼â–¼â–¼
        const hiddenMessage = {
            role: 'system',
            content: `[ç³»ç»Ÿæç¤ºï¼šç”¨æˆ·åˆšåˆšè§£é™¤äº†å¯¹ä½ çš„æ‹‰é»‘ã€‚ç°åœ¨ä½ ä»¬å¯ä»¥é‡æ–°å¼€å§‹å¯¹è¯äº†ã€‚]`,
            timestamp: Date.now(),
            isHidden: true
        };
        chat.history.push(hiddenMessage);
        // â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

        await db.chats.put(chat);
        renderChatInterface(chat.id);
        renderChatList();
        triggerAiResponse(); // ã€å¯é€‰ä½†æ¨èã€‘è§£é™¤åè®©AIä¸»åŠ¨è¯´ç‚¹ä»€ä¹ˆ
    }
    else if (e.target.id === 'accept-friend-btn') {
        chat.relationship.status = 'friend';
        chat.relationship.applicationReason = '';

        // â–¼â–¼â–¼ åœ¨è¿™é‡Œæ·»åŠ ä¸‹é¢çš„ä»£ç  â–¼â–¼â–¼
        const hiddenMessage = {
            role: 'system',
            content: `[ç³»ç»Ÿæç¤ºï¼šç”¨æˆ·åˆšåˆšé€šè¿‡äº†ä½ çš„å¥½å‹ç”³è¯·ã€‚ä½ ä»¬ç°åœ¨åˆå¯ä»¥æ­£å¸¸èŠå¤©äº†ã€‚]`,
            timestamp: Date.now(),
            isHidden: true
        };
        chat.history.push(hiddenMessage);
        // â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–²

        await db.chats.put(chat);
        renderChatInterface(chat.id);
        renderChatList();
        const msg = { role: 'user', content: 'æˆ‘é€šè¿‡äº†ä½ çš„å¥½å‹è¯·æ±‚', timestamp: Date.now() };
        chat.history.push(msg);
        await db.chats.put(chat);
        appendMessage(msg, chat);
        triggerAiResponse();
    }
    else if (e.target.id === 'reject-friend-btn') {
        chat.relationship.status = 'blocked_by_user';
        chat.relationship.blockedTimestamp = Date.now();
        chat.relationship.applicationReason = '';
        await db.chats.put(chat);
        renderChatInterface(chat.id);
    }
    // ã€æ–°å¢ã€‘å¤„ç†ç”³è¯·å¥½å‹æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶
    else if (e.target.id === 'apply-friend-btn') {
        const reason = await showCustomPrompt(
            'å‘é€å¥½å‹ç”³è¯·', 
            `è¯·è¾“å…¥ä½ æƒ³å¯¹â€œ${chat.name}â€è¯´çš„ç”³è¯·ç†ç”±ï¼š`,
            "æˆ‘ä»¬å’Œå¥½å§ï¼"
        );
        // åªæœ‰å½“ç”¨æˆ·è¾“å…¥äº†å†…å®¹å¹¶ç‚¹å‡»â€œç¡®å®šâ€åæ‰ç»§ç»­
        if (reason !== null) {
            // æ›´æ–°å…³ç³»çŠ¶æ€ä¸ºâ€œç­‰å¾…AIæ‰¹å‡†â€
            chat.relationship.status = 'pending_ai_approval';
            chat.relationship.applicationReason = reason;
            await db.chats.put(chat);

            // åˆ·æ–°UIï¼Œæ˜¾ç¤ºâ€œç­‰å¾…é€šè¿‡â€çš„ç•Œé¢
            renderChatInterface(chat.id);
            renderChatList();
            
            // ã€å…³é”®ã€‘è§¦å‘AIå“åº”ï¼Œè®©å®ƒå»å¤„ç†è¿™ä¸ªå¥½å‹ç”³è¯·
            triggerAiResponse();
        }
    }
});

// â–¼â–¼â–¼ ã€å…¨æ–°ã€‘çº¢åŒ…åŠŸèƒ½äº‹ä»¶ç»‘å®š â–¼â–¼â–¼

// 1. å°†åŸæœ‰çš„è½¬è´¦æŒ‰é’®(ï¿¥)çš„ç‚¹å‡»äº‹ä»¶ï¼Œé‡å®šå‘åˆ°æ–°çš„æ€»å…¥å£å‡½æ•°
document.getElementById('transfer-btn').addEventListener('click', handlePaymentButtonClick);

// 2. çº¢åŒ…æ¨¡æ€æ¡†å†…éƒ¨çš„æ§åˆ¶æŒ‰é’®
document.getElementById('cancel-red-packet-btn').addEventListener('click', () => {
    document.getElementById('red-packet-modal').classList.remove('visible');
});
document.getElementById('send-group-packet-btn').addEventListener('click', sendGroupRedPacket);
document.getElementById('send-direct-packet-btn').addEventListener('click', sendDirectRedPacket);

// 3. çº¢åŒ…æ¨¡æ€æ¡†çš„é¡µç­¾åˆ‡æ¢é€»è¾‘
const rpTabGroup = document.getElementById('rp-tab-group');
const rpTabDirect = document.getElementById('rp-tab-direct');
const rpContentGroup = document.getElementById('rp-content-group');
const rpContentDirect = document.getElementById('rp-content-direct');

rpTabGroup.addEventListener('click', () => {
    rpTabGroup.classList.add('active');
    rpTabDirect.classList.remove('active');
    rpContentGroup.style.display = 'block';
    rpContentDirect.style.display = 'none';
});
rpTabDirect.addEventListener('click', () => {
    rpTabDirect.classList.add('active');
    rpTabGroup.classList.remove('active');
    rpContentDirect.style.display = 'block';
    rpContentGroup.style.display = 'none';
});

// 4. å®æ—¶æ›´æ–°çº¢åŒ…é‡‘é¢æ˜¾ç¤º
document.getElementById('rp-group-amount').addEventListener('input', (e) => {
    const amount = parseFloat(e.target.value) || 0;
    document.getElementById('rp-group-total').textContent = `Â¥ ${amount.toFixed(2)}`;
});
document.getElementById('rp-direct-amount').addEventListener('input', (e) => {
    const amount = parseFloat(e.target.value) || 0;
    document.getElementById('rp-direct-total').textContent = `Â¥ ${amount.toFixed(2)}`;
});

// â–²â–²â–² æ–°äº‹ä»¶ç»‘å®šç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ ã€å…¨æ–°æ·»åŠ ã€‘ä½¿ç”¨äº‹ä»¶å§”æ‰˜å¤„ç†çº¢åŒ…ç‚¹å‡»ï¼Œä¿®å¤å¤±æ•ˆé—®é¢˜ â–¼â–¼â–¼
document.getElementById('chat-messages').addEventListener('click', (e) => {
    // 1. æ‰¾åˆ°è¢«ç‚¹å‡»çš„çº¢åŒ…å¡ç‰‡
    const packetCard = e.target.closest('.red-packet-card');
    if (!packetCard) return; // å¦‚æœç‚¹å‡»çš„ä¸æ˜¯çº¢åŒ…ï¼Œå°±ä»€ä¹ˆä¹Ÿä¸åš

    // 2. ä»çº¢åŒ…å¡ç‰‡çš„çˆ¶çº§.message-bubbleè·å–æ—¶é—´æˆ³
    const messageBubble = packetCard.closest('.message-bubble');
    if (!messageBubble || !messageBubble.dataset.timestamp) return;

    // 3. è°ƒç”¨æˆ‘ä»¬ç°æœ‰çš„å¤„ç†å‡½æ•°
    const timestamp = parseInt(messageBubble.dataset.timestamp);
    handlePacketClick(timestamp);
});
// â–²â–²â–² æ–°å¢ä»£ç ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æŠ•ç¥¨åŠŸèƒ½äº‹ä»¶ç›‘å¬å™¨ â–¼â–¼â–¼
// åœ¨è¾“å…¥æ¡†å·¥å…·æ æ·»åŠ æŒ‰é’®
document.getElementById('send-poll-btn').addEventListener('click', openCreatePollModal);

// æŠ•ç¥¨åˆ›å»ºæ¨¡æ€æ¡†çš„æŒ‰é’®
document.getElementById('add-poll-option-btn').addEventListener('click', addPollOptionInput);
document.getElementById('cancel-create-poll-btn').addEventListener('click', () => {
    document.getElementById('create-poll-modal').classList.remove('visible');
});
document.getElementById('confirm-create-poll-btn').addEventListener('click', sendPoll);

// ä½¿ç”¨äº‹ä»¶å§”æ‰˜å¤„ç†æŠ•ç¥¨å¡ç‰‡å†…çš„æ‰€æœ‰ç‚¹å‡»äº‹ä»¶
document.getElementById('chat-messages').addEventListener('click', (e) => {
    const pollCard = e.target.closest('.poll-card');
    if (!pollCard) return;

    const timestamp = parseInt(pollCard.dataset.pollTimestamp);
    if (isNaN(timestamp)) return;
    
    // ç‚¹å‡»äº†é€‰é¡¹
    const optionItem = e.target.closest('.poll-option-item');
    if (optionItem && !pollCard.classList.contains('closed')) {
        handleUserVote(timestamp, optionItem.dataset.option);
        return;
    }
    
    // ç‚¹å‡»äº†åŠ¨ä½œæŒ‰é’®ï¼ˆç»“æŸæŠ•ç¥¨/æŸ¥çœ‹ç»“æœï¼‰
    const actionBtn = e.target.closest('.poll-action-btn');
    if (actionBtn) {
        if (pollCard.classList.contains('closed')) {
            showPollResults(timestamp);
        } else {
            endPoll(timestamp);
        }
        return;
    }

    // å¦‚æœæ˜¯å·²ç»“æŸçš„æŠ•ç¥¨ï¼Œç‚¹å‡»å¡ç‰‡ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥æŸ¥çœ‹ç»“æœ
    if (pollCard.classList.contains('closed')) {
        showPollResults(timestamp);
    }
});
// â–²â–²â–² æ–°äº‹ä»¶ç›‘å¬å™¨ç²˜è´´ç»“æŸ â–²â–²â–²

  // â–¼â–¼â–¼ ã€å…¨æ–°ã€‘AIå¤´åƒåº“åŠŸèƒ½äº‹ä»¶ç»‘å®š â–¼â–¼â–¼
document.getElementById('manage-ai-avatar-library-btn').addEventListener('click', openAiAvatarLibraryModal);
document.getElementById('add-ai-avatar-btn').addEventListener('click', addAvatarToLibrary);
document.getElementById('close-ai-avatar-library-btn').addEventListener('click', closeAiAvatarLibraryModal);
// â–²â–²â–² æ–°å¢ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ åœ¨ init() çš„äº‹ä»¶ç›‘å¬åŒºåŸŸï¼Œç²˜è´´è¿™æ®µã€æ–°ä»£ç ã€‘â–¼â–¼â–¼
document.getElementById('icon-settings-grid').addEventListener('click', async (e) => {
    if (e.target.classList.contains('change-icon-btn')) {
        const item = e.target.closest('.icon-setting-item');
        const iconId = item.dataset.iconId;
        if (!iconId) return;

        const currentUrl = state.globalSettings.appIcons[iconId];
        const newUrl = await showCustomPrompt(`æ›´æ¢â€œ${item.querySelector('.icon-preview').alt}â€å›¾æ ‡`, 'è¯·è¾“å…¥æ–°çš„å›¾ç‰‡URL', currentUrl, 'url');

        if (newUrl && newUrl.trim().startsWith('http')) {
            // ä»…åœ¨å†…å­˜ä¸­æ›´æ–°ï¼Œç­‰å¾…ç”¨æˆ·ç‚¹å‡»â€œä¿å­˜â€
            state.globalSettings.appIcons[iconId] = newUrl.trim();
            // å®æ—¶æ›´æ–°è®¾ç½®é¡µé¢çš„é¢„è§ˆå›¾
            item.querySelector('.icon-preview').src = newUrl.trim();
        } else if (newUrl !== null) {
            alert("è¯·è¾“å…¥ä¸€ä¸ªæœ‰æ•ˆçš„URLï¼");
        }
    }
});
// â–²â–²â–² æ–°ä»£ç ç²˜è´´ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ åœ¨ init() å‡½æ•°çš„æœ«å°¾ï¼Œç²˜è´´è¿™æ®µã€å…¨æ–°çš„äº‹ä»¶ç›‘å¬å™¨ã€‘ â–¼â–¼â–¼

    document.getElementById('chat-messages').addEventListener('click', (e) => {
        // ä½¿ç”¨ .closest() å‘ä¸ŠæŸ¥æ‰¾è¢«ç‚¹å‡»çš„å¡ç‰‡
        const linkCard = e.target.closest('.link-share-card');
        if (linkCard) {
            const timestamp = parseInt(linkCard.dataset.timestamp);
            if (!isNaN(timestamp)) {
                openBrowser(timestamp); // è°ƒç”¨æˆ‘ä»¬çš„å‡½æ•°
            }
        }
    });

    // æµè§ˆå™¨è¿”å›æŒ‰é’®çš„äº‹ä»¶ç›‘å¬ï¼Œç¡®ä¿å®ƒåªç»‘å®šä¸€æ¬¡
    document.getElementById('browser-back-btn').addEventListener('click', () => {
        showScreen('chat-interface-screen');
    });

// â–²â–²â–² æ–°ä»£ç ç²˜è´´ç»“æŸ â–²â–²â–²

// â–¼â–¼â–¼ åœ¨ init() å‡½æ•°çš„æœ«å°¾ï¼Œç²˜è´´è¿™æ®µã€å…¨æ–°çš„äº‹ä»¶ç›‘å¬å™¨ã€‘ â–¼â–¼â–¼

    // 1. ç»‘å®šè¾“å…¥æ¡†ä¸Šæ–¹â€œåˆ†äº«é“¾æ¥â€æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶
    document.getElementById('share-link-btn').addEventListener('click', openShareLinkModal);

    // 2. ç»‘å®šæ¨¡æ€æ¡†ä¸­â€œå–æ¶ˆâ€æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶
    document.getElementById('cancel-share-link-btn').addEventListener('click', () => {
        document.getElementById('share-link-modal').classList.remove('visible');
    });

    // 3. ç»‘å®šæ¨¡æ€æ¡†ä¸­â€œåˆ†äº«â€æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶
    document.getElementById('confirm-share-link-btn').addEventListener('click', sendUserLinkShare);

// â–²â–²â–² æ–°ä»£ç ç²˜è´´ç»“æŸ â–²â–²â–²

document.getElementById('theme-toggle-switch').addEventListener('change', toggleTheme);

// â–¼â–¼â–¼ åœ¨ init() çš„äº‹ä»¶ç›‘å¬å™¨åŒºåŸŸï¼Œç²˜è´´ä¸‹é¢è¿™å‡ è¡Œ â–¼â–¼â–¼
// ç»‘å®šæ¶ˆæ¯æ“ä½œèœå•ä¸­çš„â€œå¼•ç”¨â€æŒ‰é’®
document.getElementById('quote-message-btn').addEventListener('click', startReplyToMessage);

// ç»‘å®šå›å¤é¢„è§ˆæ ä¸­çš„â€œå–æ¶ˆâ€æŒ‰é’®
document.getElementById('cancel-reply-btn').addEventListener('click', cancelReplyMode);
// â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–²

// åœ¨ä½ çš„ init() å‡½æ•°çš„äº‹ä»¶ç›‘å¬å™¨åŒºåŸŸ...

// â–¼â–¼â–¼ ç”¨è¿™æ®µä»£ç æ›¿æ¢æ—§çš„è½¬è´¦å¡ç‰‡ç‚¹å‡»äº‹ä»¶ â–¼â–¼â–¼
document.getElementById('chat-messages').addEventListener('click', (e) => {
    // 1. å‘ä¸ŠæŸ¥æ‰¾è¢«ç‚¹å‡»çš„å…ƒç´ æ˜¯å¦åœ¨ä¸€ä¸ªæ¶ˆæ¯æ°”æ³¡å†…
    const bubble = e.target.closest('.message-bubble');
    if (!bubble) return; // å¦‚æœä¸åœ¨ï¼Œå°±é€€å‡º

    // 2. ã€æ ¸å¿ƒä¿®æ­£ã€‘åœ¨è¿™é‡Œæ·»åŠ ä¸¥æ ¼çš„ç­›é€‰æ¡ä»¶
    // å¿…é¡»æ˜¯ AI çš„æ¶ˆæ¯ (.ai)
    // å¿…é¡»æ˜¯è½¬è´¦ç±»å‹ (.is-transfer)
    // å¿…é¡»æ˜¯æˆ‘ä»¬æ ‡è®°ä¸ºâ€œå¾…å¤„ç†â€çš„ (data-status="pending")
    if (bubble.classList.contains('ai') && 
        bubble.classList.contains('is-transfer') && 
        bubble.dataset.status === 'pending') {
        
        // 3. åªæœ‰æ»¡è¶³æ‰€æœ‰æ¡ä»¶ï¼Œæ‰æ‰§è¡Œåç»­é€»è¾‘
        const timestamp = parseInt(bubble.dataset.timestamp);
        if (!isNaN(timestamp)) {
            showTransferActionModal(timestamp);
        }
    }
});
// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

// åœ¨ init() çš„äº‹ä»¶ç›‘å¬åŒºåŸŸæ·»åŠ 
document.getElementById('transfer-action-accept').addEventListener('click', () => handleUserTransferResponse('accepted'));
document.getElementById('transfer-action-decline').addEventListener('click', () => handleUserTransferResponse('declined'));
document.getElementById('transfer-action-cancel').addEventListener('click', hideTransferActionModal);

// â–¼â–¼â–¼ ç”¨è¿™æ®µã€æ–°ä»£ç ã€‘æ›¿æ¢æ—§çš„é€šè¯è®°å½•äº‹ä»¶ç»‘å®š â–¼â–¼â–¼

document.getElementById('chat-list-title').addEventListener('click', renderCallHistoryScreen);

// 2. ç»‘å®šé€šè¯è®°å½•é¡µé¢çš„â€œè¿”å›â€æŒ‰é’®
document.getElementById('call-history-back-btn').addEventListener('click', () => {
    // ã€æ ¸å¿ƒä¿®æ”¹ã€‘è¿”å›åˆ°èŠå¤©åˆ—è¡¨é¡µé¢ï¼Œè€Œä¸æ˜¯èŠå¤©ç•Œé¢
    showScreen('chat-list-screen');
});

// 3. ç›‘å¬å¡ç‰‡ç‚¹å‡»çš„é€»è¾‘ä¿æŒä¸å˜
document.getElementById('call-history-list').addEventListener('click', (e) => {
    const card = e.target.closest('.call-record-card');
    if (card && card.dataset.recordId) {
        showCallTranscript(parseInt(card.dataset.recordId));
    }
});

// 4. å…³é—­è¯¦æƒ…å¼¹çª—çš„é€»è¾‘ä¿æŒä¸å˜
document.getElementById('close-transcript-modal-btn').addEventListener('click', () => {
    document.getElementById('call-transcript-modal').classList.remove('visible');
});

// â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–²

document.getElementById('chat-messages').addEventListener('click', (e) => {
    // 1. æ£€æŸ¥ç‚¹å‡»çš„æ˜¯å¦æ˜¯è¯­éŸ³æ¡
    const voiceBody = e.target.closest('.voice-message-body');
    if (!voiceBody) return;

    // 2. æ‰¾åˆ°ç›¸å…³çš„DOMå…ƒç´ 
    const bubble = voiceBody.closest('.message-bubble');
    if (!bubble) return;
    
    const spinner = voiceBody.querySelector('.loading-spinner');
    const transcriptEl = bubble.querySelector('.voice-transcript');

    // å¦‚æœæ­£åœ¨åŠ è½½ä¸­ï¼Œåˆ™ä¸å“åº”ç‚¹å‡»
    if (bubble.dataset.state === 'loading') {
        return;
    }

    // 3. å¦‚æœæ–‡å­—å·²ç»å±•å¼€ï¼Œåˆ™æ”¶èµ·
    if (bubble.dataset.state === 'expanded') {
        transcriptEl.style.display = 'none';
        bubble.dataset.state = 'collapsed';
    } 
    // 4. å¦‚æœæ˜¯æ”¶èµ·çŠ¶æ€ï¼Œåˆ™å¼€å§‹â€œè½¬å½•â€æµç¨‹
    else {
        bubble.dataset.state = 'loading'; // è¿›å…¥åŠ è½½çŠ¶æ€
        spinner.style.display = 'block';   // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»

        // æ¨¡æ‹Ÿ1.5ç§’çš„è¯­éŸ³è¯†åˆ«è¿‡ç¨‹
        setTimeout(() => {
            // æ£€æŸ¥æ­¤æ—¶å…ƒç´ æ˜¯å¦è¿˜å­˜åœ¨ï¼ˆå¯èƒ½ç”¨æˆ·å·²ç»åˆ‡æ¢äº†èŠå¤©ï¼‰
            if (document.body.contains(bubble)) {
                const voiceText = bubble.dataset.voiceText || '(æ— æ³•è¯†åˆ«)';
                transcriptEl.textContent = voiceText; // å¡«å……æ–‡å­—
                
                spinner.style.display = 'none';      // éšè—åŠ è½½åŠ¨ç”»
                transcriptEl.style.display = 'block';// æ˜¾ç¤ºæ–‡å­—
                bubble.dataset.state = 'expanded';     // è¿›å…¥å±•å¼€çŠ¶æ€
            }
        }, 1500);
    }
});

document.getElementById('chat-header-status').addEventListener('click', handleEditStatusClick);

// åœ¨ init() çš„äº‹ä»¶ç›‘å¬å™¨åŒºåŸŸæ·»åŠ 
document.getElementById('selection-share-btn').addEventListener('click', () => {
    if (selectedMessages.size > 0) {
        openShareTargetPicker(); // æ‰“å¼€æˆ‘ä»¬å³å°†åˆ›å»ºçš„ç›®æ ‡é€‰æ‹©å™¨
    }
});

// åœ¨ init() çš„äº‹ä»¶ç›‘å¬å™¨åŒºåŸŸæ·»åŠ 
document.getElementById('confirm-share-target-btn').addEventListener('click', async () => {
    const sourceChat = state.chats[state.activeChatId];
    const selectedTargetIds = Array.from(document.querySelectorAll('.share-target-checkbox:checked'))
                                   .map(cb => cb.dataset.chatId);

    if (selectedTargetIds.length === 0) {
        alert("è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªè¦åˆ†äº«çš„èŠå¤©ã€‚");
        return;
    }

    // 1. æ‰“åŒ…èŠå¤©è®°å½•
    const sharedHistory = [];
    const sortedTimestamps = [...selectedMessages].sort((a, b) => a - b);
    for (const timestamp of sortedTimestamps) {
        const msg = sourceChat.history.find(m => m.timestamp === timestamp);
        if (msg) {
            sharedHistory.push(msg);
        }
    }
    
    // 2. åˆ›å»ºåˆ†äº«å¡ç‰‡æ¶ˆæ¯å¯¹è±¡
    const shareCardMessage = {
        role: 'user',
        senderName: sourceChat.isGroup ? (sourceChat.settings.myNickname || 'æˆ‘') : 'æˆ‘',
        type: 'share_card',
        timestamp: Date.now(),
        payload: {
            sourceChatName: sourceChat.name,
            title: `æ¥è‡ªâ€œ${sourceChat.name}â€çš„èŠå¤©è®°å½•`,
            sharedHistory: sharedHistory
        }
    };

    // 3. å¾ªç¯å‘é€åˆ°æ‰€æœ‰ç›®æ ‡èŠå¤©
    for (const targetId of selectedTargetIds) {
        const targetChat = state.chats[targetId];
        if (targetChat) {
            targetChat.history.push(shareCardMessage);
            await db.chats.put(targetChat);
        }
    }
    
    // 4. æ”¶å°¾å·¥ä½œ
    document.getElementById('share-target-modal').classList.remove('visible');
    exitSelectionMode(); // é€€å‡ºå¤šé€‰æ¨¡å¼
    await showCustomAlert("åˆ†äº«æˆåŠŸ", `èŠå¤©è®°å½•å·²æˆåŠŸåˆ†äº«åˆ° ${selectedTargetIds.length} ä¸ªä¼šè¯ä¸­ã€‚`);
    renderChatList(); // åˆ·æ–°åˆ—è¡¨ï¼Œå¯èƒ½ä¼šæœ‰æ–°æ¶ˆæ¯æç¤º
});

// ç»‘å®šå–æ¶ˆæŒ‰é’®
document.getElementById('cancel-share-target-btn').addEventListener('click', () => {
    document.getElementById('share-target-modal').classList.remove('visible');
});

// åœ¨ init() çš„äº‹ä»¶ç›‘å¬å™¨åŒºåŸŸæ·»åŠ 
document.getElementById('chat-messages').addEventListener('click', (e) => {
    // ...ä½ å·²æœ‰çš„å…¶ä»–ç‚¹å‡»äº‹ä»¶é€»è¾‘...

    // æ–°å¢é€»è¾‘ï¼šå¤„ç†åˆ†äº«å¡ç‰‡çš„ç‚¹å‡»
    const shareCard = e.target.closest('.link-share-card[data-timestamp]');
    if (shareCard && shareCard.closest('.message-bubble.is-link-share')) {
        const timestamp = parseInt(shareCard.dataset.timestamp);
        openSharedHistoryViewer(timestamp);
    }
});

// ç»‘å®šæŸ¥çœ‹å™¨çš„å…³é—­æŒ‰é’®
document.getElementById('close-shared-history-viewer-btn').addEventListener('click', () => {
    document.getElementById('shared-history-viewer-modal').classList.remove('visible');
});

// åˆ›å»ºæ–°å‡½æ•°æ¥å¤„ç†æ¸²æŸ“é€»è¾‘
function openSharedHistoryViewer(timestamp) {
    const chat = state.chats[state.activeChatId];
    const message = chat.history.find(m => m.timestamp === timestamp);
    if (!message || message.type !== 'share_card') return;

    const viewerModal = document.getElementById('shared-history-viewer-modal');
    const viewerTitle = document.getElementById('shared-history-viewer-title');
    const viewerContent = document.getElementById('shared-history-viewer-content');

    viewerTitle.textContent = message.payload.title;
    viewerContent.innerHTML = ''; // æ¸…ç©ºæ—§å†…å®¹

    // ã€æ ¸å¿ƒã€‘å¤ç”¨ createMessageElement æ¥æ¸²æŸ“æ¯ä¸€æ¡è¢«åˆ†äº«çš„æ¶ˆæ¯
    message.payload.sharedHistory.forEach(sharedMsg => {
        // æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬ä¼ å…¥çš„æ˜¯ sourceChat å¯¹è±¡ï¼Œä»¥ç¡®ä¿å¤´åƒã€æ˜µç§°ç­‰æ­£ç¡®
        const sourceChat = Object.values(state.chats).find(c => c.name === message.payload.sourceChatName) || chat;
        const bubbleEl = createMessageElement(sharedMsg, sourceChat);
        if (bubbleEl) {
            viewerContent.appendChild(bubbleEl);
        }
    });

    viewerModal.classList.add('visible');
}

audioPlayer.addEventListener('timeupdate', updateMusicProgressBar);

audioPlayer.addEventListener('pause', () => { 
    if(musicState.isActive) { 
        musicState.isPlaying = false; 
        updatePlayerUI(); 
    } 
});
audioPlayer.addEventListener('play', () => { 
    if(musicState.isActive) { 
        musicState.isPlaying = true; 
        updatePlayerUI(); 
    } 
});

document.getElementById('playlist-body').addEventListener('click', async (e) => {
    const target = e.target;
    if (target.classList.contains('delete-track-btn')) {
        const index = parseInt(target.dataset.index);
        const track = musicState.playlist[index];
        const confirmed = await showCustomConfirm('åˆ é™¤æ­Œæ›²', `ç¡®å®šè¦ä»æ’­æ”¾åˆ—è¡¨ä¸­åˆ é™¤ã€Š${track.name}ã€‹å—ï¼Ÿ`);
        if (confirmed) {
            deleteTrack(index);
        }
        return;
    }
    if (target.classList.contains('lyrics-btn')) {
        const index = parseInt(target.dataset.index);
        if (isNaN(index)) return;
        const lrcContent = await new Promise(resolve => {
            const lrcInput = document.getElementById('lrc-upload-input');
            const handler = (event) => {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (re) => resolve(re.target.result);
                    reader.readAsText(file);
                } else {
                    resolve(null);
                }
                lrcInput.removeEventListener('change', handler);
                lrcInput.value = '';
            };
            lrcInput.addEventListener('change', handler);
            lrcInput.click();
        });
        if (lrcContent !== null) {
            musicState.playlist[index].lrcContent = lrcContent;
            await saveGlobalPlaylist();
            alert('æ­Œè¯å¯¼å…¥æˆåŠŸï¼');
            if (musicState.currentIndex === index) {
                musicState.parsedLyrics = parseLRC(lrcContent);
                renderLyrics();
            }
        }
    }
});

document.querySelector('.progress-bar').addEventListener('click', (e) => {
    if (!audioPlayer.duration) return;
    const progressBar = e.currentTarget;
    const barWidth = progressBar.clientWidth;
    const clickX = e.offsetX;
    audioPlayer.currentTime = (clickX / barWidth) * audioPlayer.duration;
});

// â–¼â–¼â–¼ åœ¨ init() å‡½æ•°çš„äº‹ä»¶ç›‘å¬å™¨åŒºåŸŸï¼Œç²˜è´´è¿™æ®µæ–°ä»£ç  â–¼â–¼â–¼

// ä½¿ç”¨äº‹ä»¶å§”æ‰˜æ¥å¤„ç†æ‰€æœ‰â€œå·²æ’¤å›æ¶ˆæ¯â€çš„ç‚¹å‡»äº‹ä»¶
document.getElementById('chat-messages').addEventListener('click', (e) => {
    // æ£€æŸ¥è¢«ç‚¹å‡»çš„å…ƒç´ æˆ–å…¶çˆ¶å…ƒç´ æ˜¯å¦æ˜¯â€œå·²æ’¤å›â€æç¤º
    const placeholder = e.target.closest('.recalled-message-placeholder');
    if (!placeholder) return; // å¦‚æœä¸æ˜¯ï¼Œå°±é€€å‡º

    // å¦‚æœæ˜¯ï¼Œå°±ä»èŠå¤©è®°å½•ä¸­æ‰¾åˆ°å¯¹åº”çš„æ•°æ®å¹¶æ˜¾ç¤º
    const chat = state.chats[state.activeChatId];
    const wrapper = placeholder.closest('.message-wrapper'); // æ‰¾åˆ°å®ƒçš„çˆ¶å®¹å™¨
    if (chat && wrapper) {
        // ä»çˆ¶å®¹å™¨ä¸Šæ‰¾åˆ°æ—¶é—´æˆ³
        const timestamp = parseInt(wrapper.dataset.timestamp);
        const recalledMsg = chat.history.find(m => m.timestamp === timestamp);
        
        if (recalledMsg && recalledMsg.recalledData) {
            let originalContentText = '';
            const recalled = recalledMsg.recalledData;
            
            if (recalled.originalType === 'text') {
                originalContentText = `åŸæ–‡: "${recalled.originalContent}"`;
            } else {
                originalContentText = `æ’¤å›äº†ä¸€æ¡[${recalled.originalType}]ç±»å‹çš„æ¶ˆæ¯`;
            }
            showCustomAlert('å·²æ’¤å›çš„æ¶ˆæ¯', originalContentText);
        }
    }
});

// â–²â–²â–² æ–°ä»£ç ç²˜è´´ç»“æŸ â–²â–²â–²

        // ===================================================================
        // 5. å¯åŠ¨ï¼
            
            showScreen('home-screen');
        }

        init();
    });
</script>

</body></html>